/**
 * orb v1.1.0, Pivot table javascript library.
 *
 * Copyright (c) 2014-2016 Najmeddine Nouri <devnajm@gmail.com>.
 *
 * @version v1.1.0
 * @link http://orbjs.net/
 * @license MIT
 */

"use strict";!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.orb=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){t.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":4}],2:[function(e,t,n){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":5}],3:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof _Symbol&&e.constructor===_Symbol?"symbol":typeof e}n.__esModule=!0;var i=e("../core-js/symbol"),a=r(i);n["default"]=function(e){return e&&"undefined"!=typeof a["default"]&&e.constructor===a["default"]?"symbol":"undefined"==typeof e?"undefined":o(e)}},{"../core-js/symbol":2}],4:[function(e,t,n){var r=e("../../modules/$.core");t.exports=function(e){return(r.JSON&&r.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},{"../../modules/$.core":9}],5:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":9,"../../modules/es6.object.to-string":33,"../../modules/es6.symbol":34}],6:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],7:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":22}],8:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],9:[function(e,t,n){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},{}],10:[function(e,t,n){var r=e("./$.a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":6}],11:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],12:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":15}],13:[function(e,t,n){var r=e("./$");t.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var o,i=n(e),a=r.isEnum,s=0;i.length>s;)a.call(e,o=i[s++])&&t.push(o);return t}},{"./$":23}],14:[function(e,t,n){var r=e("./$.global"),o=e("./$.core"),i=e("./$.ctx"),a="prototype",s=function(e,t,n){var l,u,c,d=e&s.F,p=e&s.G,f=e&s.S,h=e&s.P,g=e&s.B,m=e&s.W,v=p?o:o[t]||(o[t]={}),b=p?r:f?r[t]:(r[t]||{})[a];p&&(n=t);for(l in n)u=!d&&b&&l in b,u&&l in v||(c=u?b[l]:n[l],v[l]=p&&"function"!=typeof b[l]?n[l]:g&&u?i(c,r):m&&b[l]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(c):h&&"function"==typeof c?i(Function.call,c):c,h&&((v[a]||(v[a]={}))[l]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},{"./$.core":9,"./$.ctx":10,"./$.global":17}],15:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],16:[function(e,t,n){var r=e("./$.to-iobject"),o=e("./$").getNames,i={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};t.exports.get=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},{"./$":23,"./$.to-iobject":30}],17:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],18:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],19:[function(e,t,n){var r=e("./$"),o=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":23,"./$.descriptors":12,"./$.property-desc":26}],20:[function(e,t,n){var r=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./$.cof":8}],21:[function(e,t,n){var r=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./$.cof":8}],22:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],23:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],24:[function(e,t,n){var r=e("./$"),o=e("./$.to-iobject");t.exports=function(e,t){for(var n,i=o(e),a=r.getKeys(i),s=a.length,l=0;s>l;)if(i[n=a[l++]]===t)return n}},{"./$":23,"./$.to-iobject":30}],25:[function(e,t,n){t.exports=!0},{}],26:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],27:[function(e,t,n){t.exports=e("./$.hide")},{"./$.hide":19}],28:[function(e,t,n){var r=e("./$").setDesc,o=e("./$.has"),i=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./$":23,"./$.has":18,"./$.wks":32}],29:[function(e,t,n){var r=e("./$.global"),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$.global":17}],30:[function(e,t,n){var r=e("./$.iobject"),o=e("./$.defined");t.exports=function(e){return r(o(e))}},{"./$.defined":11,"./$.iobject":20}],31:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],32:[function(e,t,n){var r=e("./$.shared")("wks"),o=e("./$.uid"),i=e("./$.global").Symbol;t.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||o)("Symbol."+e))}},{"./$.global":17,"./$.shared":29,"./$.uid":31}],33:[function(e,t,n){},{}],34:[function(e,t,n){var r=e("./$"),o=e("./$.global"),i=e("./$.has"),a=e("./$.descriptors"),s=e("./$.export"),l=e("./$.redefine"),u=e("./$.fails"),c=e("./$.shared"),d=e("./$.set-to-string-tag"),p=e("./$.uid"),f=e("./$.wks"),h=e("./$.keyof"),g=e("./$.get-names"),m=e("./$.enum-keys"),v=e("./$.is-array"),b=e("./$.an-object"),y=e("./$.to-iobject"),x=e("./$.property-desc"),w=r.getDesc,T=r.setDesc,C=r.create,E=g.get,S=o.Symbol,N=o.JSON,F=N&&N.stringify,M=!1,D=f("_hidden"),O=r.isEnum,R=c("symbol-registry"),A=c("symbols"),L="function"==typeof S,_=Object.prototype,k=a&&u(function(){return 7!=C(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=w(_,t);r&&delete _[t],T(e,t,n),r&&e!==_&&T(_,t,r)}:T,P=function(e){var t=A[e]=C(S.prototype);return t._k=e,a&&M&&k(_,e,{configurable:!0,set:function(t){i(this,D)&&i(this[D],e)&&(this[D][e]=!1),k(this,e,x(1,t))}}),t},B=function(e){return"symbol"==typeof e},j=function(e,t,n){return n&&i(A,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=C(n,{enumerable:x(0,!1)})):(i(e,D)||T(e,D,x(1,{})),e[D][t]=!0),k(e,t,n)):T(e,t,n)},H=function(e,t){b(e);for(var n,r=m(t=y(t)),o=0,i=r.length;i>o;)j(e,n=r[o++],t[n]);return e},W=function(e,t){return void 0===t?C(e):H(C(e),t)},$=function(e){var t=O.call(this,e);return t||!i(this,e)||!i(A,e)||i(this,D)&&this[D][e]?t:!0},z=function(e,t){var n=w(e=y(e),t);return!n||!i(A,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n},U=function(e){for(var t,n=E(y(e)),r=[],o=0;n.length>o;)i(A,t=n[o++])||t==D||r.push(t);return r},I=function(e){for(var t,n=E(y(e)),r=[],o=0;n.length>o;)i(A,t=n[o++])&&r.push(A[t]);return r},G=function(e){if(void 0!==e&&!B(e)){for(var t,n,r=[e],o=1,i=arguments;i.length>o;)r.push(i[o++]);return t=r[1],"function"==typeof t&&(n=t),(n||!v(t))&&(t=function(e,t){return n&&(t=n.call(this,e,t)),B(t)?void 0:t}),r[1]=t,F.apply(N,r)}},V=u(function(){var e=S();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))});L||(S=function(){if(B(this))throw TypeError("Symbol is not a constructor");return P(p(arguments.length>0?arguments[0]:void 0))},l(S.prototype,"toString",function(){return this._k}),B=function(e){return e instanceof S},r.create=W,r.isEnum=$,r.getDesc=z,r.setDesc=j,r.setDescs=H,r.getNames=g.get=U,r.getSymbols=I,a&&!e("./$.library")&&l(_,"propertyIsEnumerable",$,!0));var q={"for":function(e){return i(R,e+="")?R[e]:R[e]=S(e)},keyFor:function(e){return h(R,e)},useSetter:function(){M=!0},useSimple:function(){M=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=f(e);q[e]=L?t:P(t)}),M=!0,s(s.G+s.W,{Symbol:S}),s(s.S,"Symbol",q),s(s.S+s.F*!L,"Object",{create:W,defineProperty:j,defineProperties:H,getOwnPropertyDescriptor:z,getOwnPropertyNames:U,getOwnPropertySymbols:I}),N&&s(s.S+s.F*(!L||V),"JSON",{stringify:G}),d(S,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},{"./$":23,"./$.an-object":7,"./$.descriptors":12,"./$.enum-keys":13,"./$.export":14,"./$.fails":15,"./$.get-names":16,"./$.global":17,"./$.has":18,"./$.is-array":21,"./$.keyof":24,"./$.library":25,"./$.property-desc":26,"./$.redefine":27,"./$.set-to-string-tag":28,"./$.shared":29,"./$.to-iobject":30,"./$.uid":31,"./$.wks":32}],35:[function(e,t,n){function r(e,t,n,r){var i=0,a=0,s=("all"===t?n:t).length;return s>0&&(r||s>1?(o(e,t,n,function(e){a+=e}),a/=s,o(e,t,n,function(e){i+=(e-a)*(e-a)}),i/=r?s:s-1):i=NaN),i}function o(e,t,n,r){var o="all"===t;if(t=o?n:t,t.length>0)for(var i=0;i<t.length;i++)r((o?t[i]:n[t[i]])[e])}var i=t.exports={toAggregateFunc:function(e){return e?"string"==typeof e&&i[e]?i[e]:"function"==typeof e?e:i.sum:i.sum},count:function(e,t,n){return"all"===t?n.length:t.length},sum:function a(e,t,n){var a=0;return o(e,t,n,function(e){a+=e}),a},min:function s(e,t,n){var s=null;return o(e,t,n,function(e){(null==s||s>e)&&(s=e)}),s},max:function l(e,t,n){var l=null;return o(e,t,n,function(e){(null==l||e>l)&&(l=e)}),l},avg:function u(e,t,n){var u=0,r=("all"===t?n:t).length;return r>0&&(o(e,t,n,function(e){u+=e}),u/=r),u},prod:function c(e,t,n){var c,r=("all"===t?n:t).length;return r>0&&(c=1,o(e,t,n,function(e){c*=e})),c},stdev:function(e,t,n){return Math.sqrt(r(e,t,n,!1))},stdevp:function(e,t,n){return Math.sqrt(r(e,t,n,!0))},"var":function(e,t,n){return r(e,t,n,!1)},varp:function(e,t,n){return r(e,t,n,!0)}}},{}],36:[function(e,t,n){var r=e("./orb.utils"),o=e("./orb.dimension"),i={COLUMNS:1,ROWS:2,DATA:3};t.exports=function(e,t){function n(e){for(var t=0;t<s.fields.length;t++)if(s.fields[t].name===e.name)return t;return-1}function a(){if(null!=s.pgrid.filteredDataSource&&s.dimensionsCount>0){var e=s.pgrid.filteredDataSource;if(null!=e&&r.isArray(e)&&e.length>0)for(var t=0,n=e.length;n>t;t++)for(var i=e[t],a=s.root,u=0;u<s.dimensionsCount;u++){var c=s.dimensionsCount-u,d=s.fields[u],p=i[d.name],f=a.subdimvals;void 0!==f[p]?a=f[p]:(a.values.push(p),a=new o(++l,a,p,d,c,!1,u==s.dimensionsCount-1),f[p]=a,a.rowIndexes=[],s.dimensionsByDepth[c].push(a)),a.rowIndexes.push(t)}}}var s=this,l=0;null!=e&&null!=e.config&&(this.pgrid=e,this.type=t,this.fields=function(){switch(t){case i.COLUMNS:return s.pgrid.config.columnFields;case i.ROWS:return s.pgrid.config.rowFields;case i.DATA:return s.pgrid.config.dataFields;default:return[]}}(),this.dimensionsCount=null,this.root=null,this.dimensionsByDepth=null,this.update=function(){s.dimensionsCount=s.fields.length,s.root=new o(++l,null,null,null,s.dimensionsCount+1,!0),s.dimensionsByDepth={};for(var e=1;e<=s.dimensionsCount;e++)s.dimensionsByDepth[e]=[];a();for(var t=0;t<s.fields.length;t++){var n=s.fields[t];("asc"===n.sort.order||"desc"===n.sort.order)&&s.sort(n,!0)}},this.sort=function(e,t){if(null!=e){t!==!0&&("asc"!==e.sort.order?e.sort.order="asc":e.sort.order="desc");for(var r=s.dimensionsCount-n(e),o=r===s.dimensionsCount?[s.root]:s.dimensionsByDepth[r+1],i=0;i<o.length;i++)null!=e.sort.customfunc?o[i].values.sort(e.sort.customfunc):o[i].values.sort(),"desc"===e.sort.order&&o[i].values.reverse()}},this.flattenValues=function(){return s.dimensionsByDepth[1].map(function(e){for(var t="",n=e;!n.isRoot;)t=n.value+(""!==t?"-"+t:""),n=n.parent;return{name:t,dim:e}}).sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})})},t.exports.Type=i},{"./orb.dimension":38,"./orb.utils":53}],37:[function(e,t,n){function r(e,t,n){for(var r=0;r<t.length;r++)if(null!=t[r][e])return t[r][e];return n}function o(){for(var e={configs:[],sorts:[],subtotals:[],functions:[]},t=0;t<arguments.length;t++){var n=arguments[t]||{};e.configs.push(n),e.sorts.push(n.sort||{}),e.subtotals.push(n.subTotal||{}),e.functions.push({aggregateFuncName:n.aggregateFuncName,aggregateFunc:n.aggregateFunc?n.aggregateFunc():null,formatFunc:n.formatFunc?n.formatFunc():null,headerFunc:n.headerFunc?n.headerFunc:null})}return e}function i(e,t,n,i){var a,s;if(i)switch(t){case d.Type.ROWS:a=e.rowSettings,s=i.rowSettings;break;case d.Type.COLUMNS:a=e.columnSettings,s=i.columnSettings;break;case d.Type.DATA:a=e.dataSettings,s=i.dataSettings;break;default:a=null,s=null}else a=null,s=null;var l=o(n,s,a,i,e);return new g({name:r("name",l.configs,""),caption:r("caption",l.configs,""),sort:{order:r("order",l.sorts,null),customfunc:r("customfunc",l.sorts,null)},subTotal:{visible:r("visible",l.subtotals,!0),collapsible:r("collapsible",l.subtotals,!0),collapsed:r("collapsed",l.subtotals,!1)&&r("collapsible",l.subtotals,!0)},aggregateFuncName:r("aggregateFuncName",l.functions,"sum"),aggregateFunc:r("aggregateFunc",l.functions,p.sum),formatFunc:r("formatFunc",l.functions,null),headerFunc:r("headerFunc",l.functions,!1),isMeasurement:r("isMeasurement",l.configs,!1),isDimension:r("isDimension",l.configs,!1)},!1)}function a(e){e=e||{},this.rowsvisible=void 0!==e.rowsvisible?e.rowsvisible:!0,this.columnsvisible=void 0!==e.columnsvisible?e.columnsvisible:!0}function s(e,t){var n={visible:t===!0?!0:void 0,collapsible:t===!0?!0:void 0,collapsed:t===!0?!1:void 0};e=e||{},this.visible=void 0!==e.visible?e.visible:n.visible,this.collapsible=void 0!==e.collapsible?e.collapsible:n.collapsible,this.collapsed=void 0!==e.collapsed?e.collapsed:n.collapsed}function l(e){e=e||{},this.order=e.order||(e.customfunc?"asc":null),this.customfunc=e.customfunc}function u(e){e=e||{},this.enabled=e.enabled||!1,this.type=e.type||"LineChart"}var c=e("./orb.utils"),d=e("./orb.axe"),p=e("./orb.aggregation"),f=e("./orb.filtering"),h=e("./orb.themes"),g=t.exports.field=function(e,t){function n(e){return null!=e?e.toString():""}e=e||{},this.name=e.name,this.caption=e.caption||this.name,this.headerFunc=e.headerFunc||!1,this.sort=new l(e.sort),this.subTotal=new s(e.subTotal),this.isMeasurement=e.isMeasurement||null,this.isDimension=e.isDimension||null;var r,o;this.aggregateFunc=function(e){return e?void(r=p.toAggregateFunc(e)):r},this.formatFunc=function(e){return e?void(o=e):o},this.aggregateFuncName=e.aggregateFuncName||(e.aggregateFunc?c.isString(e.aggregateFunc)?e.aggregateFunc:"custom":null),this.aggregateFunc(e.aggregateFunc),this.formatFunc(e.formatFunc||n),t!==!1&&((this.rowSettings=new g(e.rowSettings,!1)).name=this.name,(this.columnSettings=new g(e.columnSettings,!1)).name=this.name,(this.dataSettings=new g(e.dataSettings,!1)).name=this.name)};t.exports.config=function(e){function t(e){return"string"==typeof e?{name:o.captionToName(e)}:e}function n(e,t){var n=r(e,t);return n>-1?e[n]:null}function r(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n;return-1}var o=this;this.dataSource=e.dataSource||[],this.canMoveFields=void 0!==e.canMoveFields?!!e.canMoveFields:!0,this.dataHeadersLocation="columns"===e.dataHeadersLocation?"columns":"rows",this.grandTotal=new a(e.grandTotal),this.subTotal=new s(e.subTotal,!0),this.width=e.width,this.height=e.height,this.toolbar=e.toolbar,this.theme=h,this.chartMode=new u(e.chartMode),this.hideFilters=e.hideFilters||!1,this.hideFuncNames=e.hideFuncNames||!1,this.hideRowDialog=e.hideRowDialog||!1,h.current(e.theme),this.rowSettings=new g(e.rowSettings,!1),this.columnSettings=new g(e.columnSettings,!1),this.dataSettings=new g(e.dataSettings,!1),this.dataSourceFieldNames=[],this.dataSourceFieldCaptions=[],this.captionToName=function(e){var t=o.dataSourceFieldCaptions.indexOf(e);return t>=0?o.dataSourceFieldNames[t]:e},this.nameToCaption=function(e){var t=o.dataSourceFieldNames.indexOf(e);return t>=0?o.dataSourceFieldCaptions[t]:e},this.setTheme=function(e){return o.theme.current()!==o.theme.current(e)},this.allFields=(e.fields||[]).map(function(e){var t=new g(e);return o.dataSourceFieldNames.push(t.name),o.dataSourceFieldCaptions.push(t.caption),t}),this.rowFields=(e.rows||[]).map(function(e){return e=t(e),i(o,d.Type.ROWS,e,n(o.allFields,e.name))}),this.columnFields=(e.columns||[]).map(function(e){return e=t(e),i(o,d.Type.COLUMNS,e,n(o.allFields,e.name))}),this.dataFields=(e.data||[]).map(function(e){return e=t(e),i(o,d.Type.DATA,e,n(o.allFields,e.name))}),this.dataFieldsCount=this.dataFields?this.dataFields.length||1:1;var l={subtotals:{rows:void 0!==o.rowSettings.subTotal.visible?o.rowSettings.subTotal.visible:!0,columns:void 0!==o.columnSettings.subTotal.visible?o.columnSettings.subTotal.visible:!0}};this.getField=function(e){return n(o.allFields,e)},this.getRowField=function(e){return n(o.rowFields,e)},this.getColumnField=function(e){return n(o.columnFields,e)},this.getDataField=function(e){return n(o.dataFields,e)},this.availablefields=function(){return o.allFields.filter(function(e){var t=function(t){return e.name!==t.name};return o.dataFields.every(t)&&o.rowFields.every(t)&&o.columnFields.every(t)})},this.getDataSourceFieldCaptions=function(){var e;if(o.dataSource&&(e=o.dataSource[0])){for(var t=c.ownProperties(e),n=[],r=0;r<t.length;r++)n.push(o.nameToCaption(t[r]));return n}return null},this.getPreFilters=function(){var t={};return e.preFilters&&c.forEach(c.ownProperties(e.preFilters),function(n){var r=e.preFilters[n];if(c.isArray(r))t[o.captionToName(n)]=new f.expressionFilter(null,null,r,!1);else{var i=c.ownProperties(r)[0];i&&(t[o.captionToName(n)]=new f.expressionFilter(i,r[i]))}}),t},this.moveField=function(e,t,a,s){var l,u,c,p,f=n(o.allFields,e);if(f){if(t!=a&&f.isMeasurement&&(a==d.Type.ROWS||a==d.Type.COLUMNS))return!1;if(t!=a&&f.isDimension&&a==d.Type.DATA)return!1;switch(t){case d.Type.ROWS:l=o.rowFields;break;case d.Type.COLUMNS:l=o.columnFields;break;case d.Type.DATA:l=o.dataFields}switch(a){case d.Type.ROWS:c=o.rowFields,p=o.getRowField(e);break;case d.Type.COLUMNS:c=o.columnFields,p=o.getColumnField(e);break;case d.Type.DATA:c=o.dataFields,p=o.getDataField(e)}if(l||c){var h=o.areSubtotalsVisible(a);if(l){if(u=r(l,e),t===a&&(u==l.length-1&&null==s||u===s-1))return!1;l.splice(u,1)}var g=i(o,a,p,f);return h||g.subTotal.visible===!1||(g.subTotal.visible=null),c&&(null!=s?c.splice(s,0,g):c.push(g)),o.dataFieldsCount=o.dataFields?o.dataFields.length||1:1,!0}}},this.toggleSubtotals=function(e){var t,n,r=!o.areSubtotalsVisible(e);if(e===d.Type.ROWS)l.subtotals.rows=r,n=o.rowFields;else{if(e!==d.Type.COLUMNS)return!1;l.subtotals.columns=r,n=o.columnFields}for(r=r===!1?null:!0,t=0;t<n.length;t++)n[t].subTotal.visible!==!1&&(n[t].subTotal.visible=r);return!0},this.areSubtotalsVisible=function(e){return e===d.Type.ROWS?l.subtotals.rows:e===d.Type.COLUMNS?l.subtotals.columns:null},this.toggleGrandtotal=function(e){var t=!o.isGrandtotalVisible(e);if(e===d.Type.ROWS)o.grandTotal.rowsvisible=t;else{if(e!==d.Type.COLUMNS)return!1;o.grandTotal.columnsvisible=t}return!0},this.isGrandtotalVisible=function(e){return e===d.Type.ROWS?o.grandTotal.rowsvisible:e===d.Type.COLUMNS?o.grandTotal.columnsvisible:!1}}},{"./orb.aggregation":35,"./orb.axe":36,"./orb.filtering":40,"./orb.themes":46,"./orb.utils":53}],38:[function(e,t,n){t.exports=function(e,t,n,r,o,i,a){var s=this;this.id=e,this.parent=t,this.value=n,this.isRoot=i,this.isLeaf=a,this.field=r,this.depth=o,this.values=[],this.subdimvals={},this.rowIndexes=null,this.getRowIndexes=function(e){if(null==s.rowIndexes){s.rowIndexes=[];for(var t=0;t<s.values.length;t++)s.subdimvals[s.values[t]].getRowIndexes(s.rowIndexes)}if(null!=e){for(var n=0;n<s.rowIndexes.length;n++)e.push(s.rowIndexes[n]);return e}return s.rowIndexes}}},{}],39:[function(e,t,n){var r=e("./orb.utils"),o=e("./orb.ui.header"),i=e("./orb.themes"),a="data:application/vnd.ms-excel;base64,",s='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=Content-Type content="text/html; charset=UTF-8"><!--[if gte mso 9]><xml> <x:ExcelWorkbook>  <x:ExcelWorksheets>   <x:ExcelWorksheet>    <x:Name>###sheetname###</x:Name>    <x:WorksheetOptions>     <x:ProtectContents>False</x:ProtectContents>     <x:ProtectObjects>False</x:ProtectObjects>     <x:ProtectScenarios>False</x:ProtectScenarios>    </x:WorksheetOptions>   </x:ExcelWorksheet>  </x:ExcelWorksheets>  <x:ProtectStructure>False</x:ProtectStructure>  <x:ProtectWindows>False</x:ProtectWindows> </x:ExcelWorkbook></xml><![endif]--></head><body>',l="</body></html>";t.exports=function(e){function t(e){return"<td "+m+'><font color="'+f+'">'+e+"</font></td>"}function n(e,n,r,o){var i,a=o||"<tr>";for(i=0;n>i;i++)a+="<td></td>";for(a+=e.reduce(function(e,n){return e+=t(n.caption)},""),i=0;r>i;i++)a+="<td></td>";return a+"</tr>"}function u(e){return r.btoa(unescape(encodeURIComponent(e)))}var c=e.pgrid.config,d=i.current();d="bootstrap"===d?"white":d;var p="white"===d,f=p?"black":"white",h=i.themes[d],g=i.utils.fadeoutColor(h,.1),m='style="font-weight: bold; color: '+f+"; background-color: "+h+';" bgcolor="'+h+'"',v='style="background-color: '+g+';" bgcolor="'+g+'"',b=Math.max(c.dataFields.length+1,e.layout.pivotTable.width),y=n(c.dataFields,0,b-c.dataFields.length,'<tr><td><font color="#ccc">Data</font></td>'),x='<tr><td style="height: 22px;" colspan="'+b+'"></td></tr>',w=n(c.columnFields,e.layout.rowHeaders.width,b-(e.layout.rowHeaders.width+c.columnFields.length)),T=function(){for(var n,r="",i=0;i<e.columns.headers.length;i++){var a=e.columns.headers[i],s="<tr>";if(i<e.columns.headers.length-1)for(n=0;n<e.layout.rowHeaders.width;n++)s+="<td></td>";else s+=c.rowFields.reduce(function(e,n){return e+=t(n.caption)},"");s+=a.reduce(function(e,t){var n=t.type===o.HeaderType.DATA_HEADER?t.value.caption:t.value;return e+="<td "+v+' colspan="'+t.hspan(!0)+'" rowspan="'+t.vspan(!0)+'">'+n+"</td>"},""),r+=s+"</tr>"}return r}(),C=function(){for(var t="",n=0;n<e.rows.headers.length;n++){var r=e.rows.headers[n],o="<tr>";o+=r.reduce(function(e,t){return e+="<td "+v+' colspan="'+t.hspan(!0)+'" rowspan="'+t.vspan(!0)+'">'+t.value+"</td>"},"");var i=e.dataRows[n];o+=i.reduce(function(e,t,n){var r=c.dataFields[n%=c.dataFields.length].formatFunc,o=null==t.value?"":r?r()(t.value):t.value;return e+="<td>"+o+"</td>"},""),t+=o+"</tr>"}return t}();return a+u(s+"<table>"+y+x+w+T+C+"</table>"+l)}},{"./orb.themes":46,"./orb.ui.header":49,"./orb.utils":53}],40:[function(e,t,n){var r=e("./orb.utils"),o=t.exports={ALL:"#All#",NONE:"#None#",BLANK:'#Blank#"'};o.expressionFilter=function(e,t,n,a){var s=this;this.operator=i.get(e),this.regexpMode=!1,this.term=t||null,this.term&&this.operator&&this.operator.regexpSupported&&r.isRegExp(this.term)&&(this.regexpMode=!0,this.term.ignoreCase||(this.term=new RegExp(this.term.source,"i"))),this.staticValue=n,this.excludeStatic=a,this.test=function(e){if(r.isArray(s.staticValue)){var t=s.staticValue.indexOf(e)>=0;return s.excludeStatic&&!t||!s.excludeStatic&&t}return s.term?s.operator.func(e,s.term):s.staticValue===!0||s.staticValue===o.ALL?!0:s.staticValue===!1||s.staticValue===o.NONE?!1:!0},this.isAlwaysTrue=function(){return!(s.term||r.isArray(s.staticValue)||s.staticValue===o.NONE||s.staticValue===!1)}};var i=o.Operators={get:function(e){switch(e){case i.MATCH.name:return i.MATCH;case i.NOTMATCH.name:return i.NOTMATCH;case i.EQ.name:return i.EQ;case i.NEQ.name:return i.NEQ;case i.GT.name:return i.GT;case i.GTE.name:return i.GTE;case i.LT.name:return i.LT;case i.LTE.name:return i.LTE;default:return i.NONE}},NONE:null,MATCH:{name:"Matches",func:function(e,t){return e?e.toString().search(r.isRegExp(t)?t:new RegExp(t,"i"))>=0:!t},regexpSupported:!0},NOTMATCH:{name:"Does Not Match",func:function(e,t){return e?e.toString().search(r.isRegExp(t)?t:new RegExp(t,"i"))<0:!!t},regexpSupported:!0},EQ:{name:"=",func:function(e,t){return e==t},regexpSupported:!1},NEQ:{name:"<>",func:function(e,t){return e!=t},regexpSupported:!1},GT:{name:">",func:function(e,t){return e>t},regexpSupported:!1},GTE:{name:">=",func:function(e,t){return e>=t},regexpSupported:!1},LT:{name:"<",func:function(e,t){return t>e},regexpSupported:!1},LTE:{name:"<=",func:function(e,t){return t>=e},regexpSupported:!1}}},{"./orb.utils":53}],41:[function(e,t,n){t.exports.utils=e("./orb.utils"),t.exports.pgrid=e("./orb.pgrid"),t.exports.pgridwidget=e("./orb.ui.pgridwidget"),t.exports.query=e("./orb.query"),t.exports["export"]=e("./orb.export.excel")},{"./orb.export.excel":39,"./orb.pgrid":42,"./orb.query":44,"./orb.ui.pgridwidget":50,"./orb.utils":53}],42:[function(e,t,n){var r=e("./orb.pubsub"),o=e("./orb.axe"),i=e("./orb.config").config,a=e("./orb.filtering"),s=e("./orb.query"),l=e("./orb.utils"),u=t.exports=function(e){function t(e){e!==!1&&n(),h.rows.update(),h.columns.update(),p(),h.publish(u.EVENT_UPDATED)}function n(){var e=l.ownProperties(h.filters);if(e.length>0){h.filteredDataSource=[];for(var t=0;t<h.config.dataSource.length;t++){for(var n=h.config.dataSource[t],r=!1,o=0;o<e.length;o++){var i=e[o],a=h.filters[i];if(a&&!a.test(n[i])){r=!0;break}}r||h.filteredDataSource.push(n)}}else h.filteredDataSource=h.config.dataSource}function c(e,t,n,r,o){var i={};if(h.config.dataFieldsCount>0){var a;if(null==e)a=t;else if(null==t)a=e;else{a=[];for(var s=0;s<e.length;s++){var l=e[s];if(l>=0){var u=t.indexOf(l);u>=0&&(e[s]=0-(l+2),a.push(l))}}}var c,d=a&&0===a.length,p=(h.filteredDataSource,[]);if(r)for(var f=0;f<r.length;f++)c=h.config.getDataField(r[f]),o||(c?o=c.aggregateFunc():(c=h.config.getField(r[f]),c&&(o=c.dataSettings?c.dataSettings.aggregateFunc():c.aggregateFunc()))),c&&o&&p.push({field:c,aggregateFunc:o});else for(var m=0;m<h.config.dataFieldsCount;m++)c=h.config.dataFields[m]||g,(o||c.aggregateFunc)&&p.push({field:c,aggregateFunc:o||c.aggregateFunc()});for(var v=0;v<p.length;v++)c=p[v],d?i[c.field.name]=null:i[c.field.name]=c.aggregateFunc(c.field.name,a||"all",h.filteredDataSource,n||e,t)}return i}function d(e){if(e){var t={},n="r"+e.id;if(void 0===f[n]&&(f[n]=e.isRoot?null:f[e.parent.id]||e.getRowIndexes()),t[h.columns.root.id]=c(e.isRoot?null:f[n].slice(0),null),h.columns.dimensionsCount>0)for(var r=0,o=[h.columns.root];r<o.length;){for(var i=o[r],a=e.isRoot?null:i.isRoot?f[n].slice(0):f["c"+i.id].slice(0),s=0;s<i.values.length;s++){var l=i.subdimvals[i.values[s]],u="c"+l.id;if(void 0===f[u]&&(f[u]=f[u]||l.getRowIndexes().slice(0)),t[l.id]=c(a,f[u],e.isRoot?null:e.getRowIndexes()),!l.isLeaf&&(o.push(l),a)){f[u]=[];for(var d=0;d<a.length;d++){var p=a[d];-1!=p&&0>p&&(f[u].push(0-(p+2)),a[d]=-1)}}}f["c"+i.id]=void 0,r++}return t}}function p(){if(h.dataMatrix={},f={},h.dataMatrix[h.rows.root.id]=d(h.rows.root),h.rows.dimensionsCount>0)for(var e,t=[h.rows.root],n=0;n<t.length;){e=t[n];for(var r=0;r<e.values.length;r++){var o=e.subdimvals[e.values[r]];h.dataMatrix[o.id]=d(o),o.isLeaf||t.push(o)}n++}}var f,h=this,g={name:"#undefined#"};r.call(this),this.config=new i(e),this.filters=h.config.getPreFilters(),this.filteredDataSource=h.config.dataSource,this.rows=new o(h,o.Type.ROWS),this.columns=new o(h,o.Type.COLUMNS),this.dataMatrix={},this.sort=function(e,t){if(e===o.Type.ROWS)h.rows.sort(t);else{if(e!==o.Type.COLUMNS)return;h.columns.sort(t)}h.publish(u.EVENT_SORT_CHANGED)},this.moveField=function(e,n,r,o){return h.config.moveField(e,n,r,o)?(t(!1),!0):!1},this.applyFilter=function(e,n,r,o,i){h.filters[e]=new a.expressionFilter(n,r,o,i),t()},this.refreshData=function(e){h.config.dataSource=e,t()},this.toggleSubtotals=function(e){h.config.toggleSubtotals(e)&&h.publish(u.EVENT_CONFIG_CHANGED)},this.toggleGrandtotal=function(e){h.config.toggleGrandtotal(e)&&h.publish(u.EVENT_CONFIG_CHANGED)},this.areSubtotalsVisible=function(e){return h.config.areSubtotalsVisible(e)},this.isGrandtotalVisible=function(e){return h.config.isGrandtotalVisible(e)},this.getFieldValues=function(e,t){for(var n=[],r=[],o=!1,i=0;i<h.config.dataSource.length;i++){var a=h.config.dataSource[i],s=a[e];void 0!==t?(t===!0||"function"==typeof t&&t(s))&&n.push(s):null!=s?n.push(s):o=!0}if(n.length>1){l.isNumber(n[0])||l.isDate(n[0])?n.sort(function(e,t){return e?t?e-t:1:t?-1:0}):n.sort();for(var u=0;u<n.length;u++)(0===u||n[u]!==r[r.length-1])&&r.push(n[u])}else r=n;return o&&r.unshift(null),r},this.getFieldFilter=function(e){return h.filters[e]},this.isFieldFiltered=function(e){var t=h.getFieldFilter(e);return null!=t&&!t.isAlwaysTrue()},this.getData=function(e,t,n,r){var o;if(t&&n){var i=e||(h.config.dataFields[0]||g).name,a=h.config.getDataField(i);o=!a||r&&a.aggregateFunc!=r?h.calcAggregation(t.isRoot?null:t.getRowIndexes().slice(0),n.isRoot?null:n.getRowIndexes().slice(0),[i],r)[i]:h.dataMatrix[t.id]&&h.dataMatrix[t.id][n.id]?h.dataMatrix[t.id][n.id][i]:null}return void 0===o?null:o},this.calcAggregation=function(e,t,n,r){return c(e,t,e,n,r)},this.getChartData=function(){function e(e){for(var t="",n=0;n<e.length;n++)t+=(n>0?" - ":"")+e[n].caption;return t}for(var t=h.config,n=e(t.columnFields),r=t.dataFields[0].aggregateFuncName+"("+t.dataFields[0].caption+")",o=e(t.rowFields),i=h.rows.flattenValues(),a=h.columns.flattenValues(),s=[],l=0;l<a.length;l++){for(var u=a[l],c=[u.name],d=0;d<i.length;d++)c.push(h.getData(t.dataFields[0].name,i[d].dim,u.dim));s.push(c)}return{title:r+": "+n+" by "+o,hAxisLabel:n,vAxisLabel:r,legendsLabel:o,colNames:i.map(function(e){return e.name}),dataTable:s}},this.query=s(h),t()};u.EVENT_UPDATED="pgrid:updated",u.EVENT_SORT_CHANGED="pgrid:sort-changed",u.EVENT_CONFIG_CHANGED="pgrid:config-changed"},{"./orb.axe":36,"./orb.config":37,"./orb.filtering":40,"./orb.pubsub":43,"./orb.query":44,"./orb.utils":53}],43:[function(e,t,n){var r=e("./orb.utils");t.exports=function(){var e={};this.subscribe=function(t,n){r.isString(t)&&r.isFunction(n)&&(e[t]=e[t]||[],e[t].push(n))},this.publish=function(t){r.isString(t)&&r.forEach(e[t],function(e){e.apply(null,[t].concat(Array.prototype.slice.call(arguments,1)))})}}},{"./orb.utils":53}],44:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}var o=e("babel-runtime/helpers/typeof"),i=r(o),a=e("./orb.utils"),s=e("./orb.axe"),l=e("./orb.aggregation"),u=function(e,t,n){var r=this;this.source=e,this.query=t,this.filters=n,this.extractResult=function(e,t,n){if(n.multi===!0){for(var o={},i=0;i<t.multiFieldNames.length;i++)o[t.multiFieldNames[i]]=e[r.getCaptionName(t.multiFieldNames[i])];return o}return e[n.datafieldname]},this.measureFunc=function(e,t,n,o){var i={datafieldname:r.getCaptionName(e),multi:t,aggregateFunc:n};return function(e){e=r.cleanOptions(e,arguments,i);var n=r.compute(e,o,t);return r.extractResult(n,e,i)}},this.setDefaultAggFunctions=function(e){var t=r.query.val?"val_":"val";r.query[t]=r.measureFunc(void 0,!0,void 0,e);for(var n=a.ownProperties(l),o=0;o<n.length;o++){var i=n[o];"toAggregateFunc"!==i&&(r.query[i]=r.measureFunc(void 0,!0,l[i],e))}}},c=function(e){function t(e,t){return function(n){return n.value===t.val&&(!e||e.some(function(e){
var t=n.parent;if(t)for(;t.depth<e.depth;)t=t.parent;return t===e}))}}u.call(this,e,{},{});var n=this;this.getCaptionName=function(e){return n.source.config.captionToName(e)},this.cleanOptions=function(e,t,r){var o={fieldNames:[]};if(r.multi===!0){e&&"object"===("undefined"==typeof e?"undefined":(0,i["default"])(e))?(o.aggregateFunc=e.aggregateFunc,o.multiFieldNames=e.fields):(o.aggregateFunc=r.aggregateFunc,o.multiFieldNames=t);for(var a=0;a<o.multiFieldNames.length;a++)o.fieldNames.push(n.getCaptionName(o.multiFieldNames[a]))}else o.aggregateFunc=e,o.fieldNames.push(r.datafieldname);return o.aggregateFunc&&(o.aggregateFunc=l.toAggregateFunc(o.aggregateFunc)),o},this.setup=function(e){var t,r=n.source.config.rowFields,o=n.source.config.columnFields,i=n.source.config.dataFields;for(t=0;t<r.length;t++)n.slice(r[t],s.Type.ROWS,r.length-t);for(t=0;t<o.length;t++)n.slice(o[t],s.Type.COLUMNS,o.length-t);for(t=0;t<i.length;t++){var a=i[t],l=a.name,u=a.caption||l;n.query[l]=n.query[u]=n.measureFunc(l)}if(e)for(var c in e)e.hasOwnProperty(c)&&n.query[c](e[c]);return n.setDefaultAggFunctions(),n.query},this.slice=function(e,t,r){n.query[e.name]=n.query[e.caption||e.name]=function(o){var i={name:e.name,val:o,depth:r};return(n.filters[t]=n.filters[t]||[]).push(i),n.query}},this.applyFilters=function(e){if(n.filters[e]){for(var r=n.filters[e].sort(function(e,t){return t.depth-e.depth}),o=n.source[e===s.Type.ROWS?"rows":"columns"],i=0,a=null;i<r.length;){var l=r[i];a=o.dimensionsByDepth[l.depth].filter(t(a,l)),i++}return a}return null},this.compute=function(e){var t,r=n.applyFilters(s.Type.ROWS)||[n.source.rows.root],o=n.applyFilters(s.Type.COLUMNS)||[n.source.columns.root];if(1===r.length&&1===o.length){t={};for(var i=0;i<e.fieldNames.length;i++)t[e.fieldNames[i]]=n.source.getData(e.fieldNames[i],r[0],o[0],e.aggregateFunc)}else{for(var a=[],l=[],u=0;u<r.length;u++)a=a.concat(r[u].getRowIndexes());for(var c=0;c<o.length;c++)l=l.concat(o[c].getRowIndexes());t=n.source.calcAggregation(a,l,e.fieldNames,e.aggregateFunc)}return t}},d=function(e){u.call(this,e,{},[]);var t=this,n={};this.setCaptionName=function(e,t){n[e||t]=t},this.getCaptionName=function(e){return n[e]||e},this.cleanOptions=function(e,n,r){var o={fieldNames:[]};if(r.multi===!0){e&&"object"===("undefined"==typeof e?"undefined":(0,i["default"])(e))?(o.aggregateFunc=e.aggregateFunc,o.multiFieldNames=e.fields):(o.aggregateFunc=r.aggregateFunc,o.multiFieldNames=n);for(var a=0;a<o.multiFieldNames.length;a++)o.fieldNames.push(t.getCaptionName(o.multiFieldNames[a]))}else o.aggregateFunc=e||r.aggregateFunc,o.fieldNames.push(r.datafieldname);return o},this.setup=function(e){if(t.query.slice=function(e,n){var r={name:e,val:n};return t.filters.push(r),t.query},e)for(var n=a.ownProperties(e),r=0;r<n.length;r++){var o=n[r],i=e[o],s=i.caption||i.name;i.name=o,t.setCaptionName(s,o),i.toAggregate?t.query[o]=t.query[s]=t.measureFunc(o,!1,i.aggregateFunc):t.slice(i)}return t.setDefaultAggFunctions(e),t.query},this.slice=function(e){t.query[e.name]=t.query[e.caption||e.name]=function(n){return t.query.slice(e.name,n)}},this.applyFilters=function(){for(var e=[],n=0;n<t.source.length;n++){for(var r=t.source[n],o=!0,i=0;i<t.filters.length;i++){var a=t.filters[i];if(r[a.name]!==a.val){o=!1;break}}o&&e.push(n)}return e},this.compute=function(e,n,r){for(var o=t.applyFilters(),i={},a=0;a<e.fieldNames.length;a++){var s=e.fieldNames[a],u=l.toAggregateFunc(r===!0?e.aggregateFunc||(n&&n[s]?n[s].aggregateFunc:void 0):e.aggregateFunc);i[s]=u(s,o||"all",t.source,o,null)}return i}};t.exports=function(e,t){return a.isArray(e)?new d(e).setup(t):function(t){return new c(e).setup(t)}}},{"./orb.aggregation":35,"./orb.axe":36,"./orb.utils":53,"babel-runtime/helpers/typeof":3}],45:[function(e,t,n){t.exports=function(){var e={};this.set=function(t,n){e[t]=n},this.get=function(t){return e[t]}}},{}],46:[function(e,t,n){t.exports=function(){function e(){return"bootstrap"===t}var t="blue",n={};n.themes={red:"#C72C48",blue:"#5bc0de",green:"#3fb618",orange:"#df691a",flower:"#A74AC7",gray:"#808080",black:"#000000",white:"#FFFFFF"},n.current=function(e){return e&&(t=n.validateTheme(e)),t},n.validateTheme=function(e){return e=(e||"").toString().trim(),n.themes[e]||"bootstrap"===e?e:"blue"},n.getPivotClasses=function(){return{container:"orb-container orb-"+t,table:"orb"+(e()?" table":"")}},n.getButtonClasses=function(){return{pivotButton:"fld-btn"+(e()?" btn btn-default btn-xs":""),orbButton:"orb-btn"+(e()?" btn btn-default btn-xs":""),scrollBar:e()?" btn btn-default btn-xs":""}},n.getFilterClasses=function(){return{container:"orb-"+t+" orb fltr-cntnr"}},n.getGridClasses=function(){return{table:e()?"table table-condensed":"orb-table"}},n.getDialogClasses=function(n){var r={overlay:"orb-overlay orb-overlay-"+(n?"visible":"hidden")+" orb-"+t,dialog:"orb-dialog",content:"",header:"orb-dialog-header",title:"",body:"orb-dialog-body"};return e()&&(r.overlay+=" modal",r.dialog+=" modal-dialog",r.content="modal-content",r.header+=" modal-header",r.title="modal-title",r.body+=" modal-body"),r};var r=n.utils={hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},rgbaToHex:function(e){var t=e.match(/rgba\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+(?:\.\d+)?)\s*\)/);if(t){var n=parseFloat(t[4]);return"#"+r.applyAlphaAndToHex(t[1],n)+r.applyAlphaAndToHex(t[2],n)+r.applyAlphaAndToHex(t[3],n)}return null},rgbaToHexA:function(e){var t=e.match(/rgba\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+(?:\.\d+)?)\s*\)/);if(t){var n=parseFloat(t[4]);return"#"+r.applyAlphaAndToHex(0,n)+r.applyAlphaAndToHex(t[1],1)+r.applyAlphaAndToHex(t[2],1)+r.applyAlphaAndToHex(t[3],1)}return null},applyAlphaAndToHex:function(e,t){return(Math.floor(t*parseInt(e)+255*(1-t))+256).toString(16).substr(1,2)},fadeoutColor:function(e,t){return e=r.hexToRgb(e),"#"+r.applyAlphaAndToHex(e.r,t)+r.applyAlphaAndToHex(e.g,t)+r.applyAlphaAndToHex(e.b,t)}};return n}()},{}],47:[function(e,t,n){var r=e("./orb.axe"),o=e("./orb.ui.header");t.exports=function(e){var t=this;this.axe=e,this.headers=[],this.dataFieldsCount=function(){return"columns"===t.axe.pgrid.config.dataHeadersLocation&&t.axe.type===r.Type.COLUMNS||"rows"===t.axe.pgrid.config.dataHeadersLocation&&t.axe.type===r.Type.ROWS?t.axe.pgrid.config.dataFieldsCount:1},this.isMultiDataFields=function(){return t.dataFieldsCount()>1},this.toggleFieldExpansion=function(e,t){for(var n,r=[],i=!0,a=0;a<this.headers.length;a++)for(n=0;n<this.headers[a].length;n++){var s=this.headers[a][n];s.type!==o.HeaderType.SUB_TOTAL||null!=e&&s.dim.field.name!=e.name||(r.push(s),i=i&&s.expanded)}if(void 0!==t&&(i=!t),r.length>0){for(n=0;n<r.length;n++)i?r[n].collapse():r[n].expand();return!0}return!1}}},{"./orb.axe":36,"./orb.ui.header":49}],48:[function(e,t,n){var r=e("./orb.axe"),o=e("./orb.ui.axe"),i=e("./orb.ui.header");t.exports=function(e){function t(){function e(e){e&&e.dim.field.subTotal.visible&&t.push(e.subtotalHeader)}var t=[];if(a.headers.length>0){var n=a.headers[a.headers.length-1],r=n[0];if(r){for(var o,s=r.parent,l=0;l<n.length;l++){if(r=n[l],o=r.parent,o!=s){if(e(s),null!=o)for(var u=o.parent,c=s?s.parent:null;u!=c&&null!=c;)e(c),u=u?u.parent:null,c=c?c.parent:null;s=o}if(t.push(n[l]),l===n.length-1)for(;null!=s;)e(s),s=s.parent}a.axe.pgrid.config.grandTotal.columnsvisible&&a.axe.dimensionsCount>1&&t.push(a.headers[0][a.headers[0].length-1])}}if(a.isMultiDataFields()){a.leafsHeaders=[];for(var d=0;d<t.length;d++)for(var p=0;p<a.dataFieldsCount();p++)a.leafsHeaders.push(new i.dataHeader(a.axe.pgrid.config.dataFields[p],t[d]));a.headers.push(a.leafsHeaders)}else a.leafsHeaders=t}function n(e,t){for(var n=t[t.length-1],o=a.axe.root.depth===e?[null]:t[a.axe.root.depth-e-1].filter(function(e){return e.type!==i.HeaderType.SUB_TOTAL}),s=0;s<o.length;s++)for(var l=o[s],u=null==l?a.axe.root:l.dim,c=0;c<u.values.length;c++){var d,p=u.values[c],f=u.subdimvals[p];d=!f.isLeaf&&f.field.subTotal.visible?new i.header(r.Type.COLUMNS,i.HeaderType.SUB_TOTAL,f,l,a.dataFieldsCount()):null;var h=new i.header(r.Type.COLUMNS,null,f,l,a.dataFieldsCount(),d);n.push(h),!f.isLeaf&&f.field.subTotal.visible&&n.push(d)}}var a=this;o.call(a,e),this.leafsHeaders=null,this.build=function(){if(a.headers=[],null!=a.axe){if(a.axe.root.values.length>0||a.axe.pgrid.config.grandTotal.columnsvisible){for(var e=a.axe.root.depth;e>1;e--)a.headers.push([]),n(e,a.headers);a.axe.pgrid.config.grandTotal.columnsvisible&&(a.headers[0]=a.headers[0]||[]).push(new i.header(r.Type.COLUMNS,i.HeaderType.GRAND_TOTAL,a.axe.root,null,a.dataFieldsCount()))}0===a.headers.length&&a.headers.push([new i.header(r.Type.COLUMNS,i.HeaderType.INNER,a.axe.root,null,a.dataFieldsCount())]),t()}},this.build()}},{"./orb.axe":36,"./orb.ui.axe":47,"./orb.ui.header":49}],49:[function(e,t,n){function r(e){this.axetype=e.axetype,this.type=e.type,this.template=e.template,this.value=e.value,this.expanded=!0,this.cssclass=e.cssclass,this.hspan=e.hspan||function(){return 1},this.vspan=e.vspan||function(){return 1},this.visible=e.isvisible||function(){return!0},this.key=this.axetype+this.type+this.value,this.getState=function(){return i.get(this.key)},this.setState=function(e){i.set(this.key,e)}}var o=e("./orb.axe"),i=new(e("./orb.state")),a=t.exports.HeaderType={EMPTY:1,DATA_HEADER:2,DATA_VALUE:3,FIELD_BUTTON:4,INNER:5,WRAPPER:6,SUB_TOTAL:7,GRAND_TOTAL:8,getHeaderClass:function(e,t){var n=t===o.Type.ROWS?"header-row":t===o.Type.COLUMNS?"header-col":"";switch(e){case a.EMPTY:case a.FIELD_BUTTON:n="empty";break;case a.INNER:n="header "+n;break;case a.WRAPPER:n="header "+n;break;case a.SUB_TOTAL:n="header header-st "+n;break;case a.GRAND_TOTAL:n="header header-gt "+n}return n},getCellClass:function(e,t){var n="";switch(e){case a.GRAND_TOTAL:n="cell-gt";break;case a.SUB_TOTAL:n=t===a.GRAND_TOTAL?"cell-gt":"cell-st";break;default:n=t===a.GRAND_TOTAL?"cell-gt":t===a.SUB_TOTAL?"cell-st":""}return n}};t.exports.header=function(e,t,n,i,s,l){function u(){if(h.type===a.SUB_TOTAL){for(var e=h.parent;null!=e;){if(e.subtotalHeader&&!e.subtotalHeader.expanded)return!1;e=e.parent}return!0}var t=h.dim.isRoot||h.dim.isLeaf||!h.dim.field.subTotal.visible||h.subtotalHeader.expanded;if(!t)return!1;for(var n=h.parent;null!=n&&(!n.dim.field.subTotal.visible||null!=n.subtotalHeader&&n.subtotalHeader.expanded);)n=n.parent;return null==n||null==n.subtotalHeader?t:n.subtotalHeader.expanded}function c(e){var t,n=0,r=!1;if(g||e||h.visible()){if(h.dim.isLeaf)return s;if(h.subheaders.length>0)for(var o=0;o<h.subheaders.length;o++){var i=h.subheaders[o];i.dim.isLeaf?n+=s:(t=g?i.vspan():i.hspan(),n+=t,0===o&&0===t&&(r=!0))}else n+=s;return n+(r?1:0)}return n}var d,p,f,h=this,g=e===o.Type.ROWS;switch(t=t||(1===n.depth?a.INNER:a.WRAPPER)){case a.GRAND_TOTAL:f="Grand Total",d=g?n.depth-1||1:s,p=g?s:n.depth-1||1;break;case a.SUB_TOTAL:f=n.field&&n.value&&n.field.headerFunc?n.field.headerFunc(n.value):n.value,d=g?n.depth:s,p=g?s:n.depth;break;default:f=n.field&&n.value&&n.field.headerFunc?n.field.headerFunc(n.value):n.value,d=g?1:null,p=g?null:1}r.call(this,{axetype:e,type:t,template:g?"cell-template-row-header":"cell-template-column-header",value:f,cssclass:a.getHeaderClass(t,e),hspan:null!=d?function(){return d}:c,vspan:null!=p?function(){return p}:c,isvisible:u}),this.subtotalHeader=l,this.parent=i,this.subheaders=[],this.dim=n,this.expanded=this.getState()?this.getState().expanded:t!==a.SUB_TOTAL||!n.field.subTotal.collapsed,this.expand=function(){h.expanded=!0,this.setState({expanded:h.expanded})},this.collapse=function(){h.expanded=!1,this.setState({expanded:h.expanded})},null!=i&&i.subheaders.push(this)},t.exports.dataHeader=function(e,t){r.call(this,{axetype:null,type:a.DATA_HEADER,template:"cell-template-dataheader",value:e,cssclass:a.getHeaderClass(t.type,t.axetype),isvisible:t.visible}),this.parent=t},t.exports.dataCell=function(e,t,n,o){this.rowDimension=n.type===a.DATA_HEADER?n.parent.dim:n.dim,this.columnDimension=o.type===a.DATA_HEADER?o.parent.dim:o.dim,this.rowType=n.type===a.DATA_HEADER?n.parent.type:n.type,this.colType=o.type===a.DATA_HEADER?o.parent.type:o.type,this.datafield=e.config.dataFieldsCount>1?"rows"===e.config.dataHeadersLocation?n.value:o.value:e.config.dataFields[0],r.call(this,{axetype:null,type:a.DATA_VALUE,template:"cell-template-datavalue",value:e.getData(this.datafield?this.datafield.name:null,this.rowDimension,this.columnDimension),cssclass:"cell "+a.getCellClass(this.rowType,this.colType),isvisible:t})},t.exports.buttonCell=function(e){r.call(this,{axetype:null,type:a.FIELD_BUTTON,template:"cell-template-fieldbutton",value:e,cssclass:a.getHeaderClass(a.FIELD_BUTTON)})},t.exports.emptyCell=function(e,t){r.call(this,{axetype:null,type:a.EMPTY,template:"cell-template-empty",value:null,cssclass:a.getHeaderClass(a.EMPTY),hspan:function(){return e},vspan:function(){return t}})}},{"./orb.axe":36,"./orb.state":45}],50:[function(e,t,n){var r="undefined"==typeof window?e("react-dom"):window.ReactDOM,o=e("./orb.axe"),i=e("./orb.pgrid"),a=e("./orb.ui.header"),s=e("./orb.ui.rows"),l=e("./orb.ui.cols"),u=e("./react/orb.react.Dialog.jsx"),c=e("./react/orb.react.PivotChart.jsx"),d=e("./react/orb.react.PivotTable.jsx"),p=e("./react/orb.react.Grid.jsx");t.exports=function(e){function t(){m.pgrid.subscribe(i.EVENT_UPDATED,f),m.pgrid.subscribe(i.EVENT_SORT_CHANGED,f),m.pgrid.subscribe(i.EVENT_CONFIG_CHANGED,f),n()}function n(){function e(e,t){return function(){return e()&&t()}}m.rows=new s(m.pgrid.rows),m.columns=new l(m.pgrid.columns);var t=m.rows.headers,n=m.columns.leafsHeaders;m.layout={rowHeaders:{width:(m.pgrid.rows.fields.length||1)+("rows"===m.pgrid.config.dataHeadersLocation&&m.pgrid.config.dataFieldsCount>1?1:0),height:t.length},columnHeaders:{width:m.columns.leafsHeaders.length,height:(m.pgrid.columns.fields.length||1)+("columns"===m.pgrid.config.dataHeadersLocation&&m.pgrid.config.dataFieldsCount>1?1:0)}},m.layout.pivotTable={width:m.layout.rowHeaders.width+m.layout.columnHeaders.width,height:m.layout.rowHeaders.height+m.layout.columnHeaders.height};var r,o=[];if(t.length>0)for(var i=0;i<t.length;i++){var u=t[i],c=u[u.length-1];r=[];for(var d=0;d<n.length;d++){var p=n[d],f=e(c.visible,p.visible);r[d]=new a.dataCell(m.pgrid,f,c,p)}o.push(r)}m.dataRows=o}function f(){n(),m.render()}var h,g,m=this,v=u.create();this.pgrid=new i(e),this.rows=null,this.columns=null,this.dataRows=[],this.layout={rowHeaders:{width:null,height:null},columnHeaders:{width:null,height:null},pivotTable:{width:null,height:null}},this.expandRow=function(e){e.expand(),this.render()},this.collapseRow=function(e){e.subtotalHeader.collapse(),this.render()},this.sort=function(e,t){m.pgrid.sort(e,t)},this.refreshData=function(e){m.pgrid.refreshData(e)},this.applyFilter=function(e,t,n,r,o){m.pgrid.applyFilter(e,t,n,r,o)},this.moveField=function(e,t,n,r){m.pgrid.moveField(e,t,n,r)},this.toggleFieldExpansion=function(e,t,n){var r=e===o.Type.ROWS?m.rows:e===o.Type.COLUMNS?m.columns:null;r&&r.toggleFieldExpansion(t,n)&&m.render()},this.toggleSubtotals=function(e){m.pgrid.toggleSubtotals(e)},this.areSubtotalsVisible=function(e){return m.pgrid.areSubtotalsVisible(e)},this.toggleGrandtotal=function(e){m.pgrid.toggleGrandtotal(e)},this.isGrandtotalVisible=function(e){return m.pgrid.isGrandtotalVisible(e)},this.changeTheme=function(e){g.changeTheme(e)},this.render=function(e){if(h=e||h){var t=React.createFactory(m.pgrid.config.chartMode.enabled?c:d),n=t({pgridwidget:m});g=r.render(n,h)}},this.unmount=function(){r.unmountComponentAtNode(h)},this.drilldown=function(e,t){if(e){var n,r=e.columnDimension.getRowIndexes(),o=e.rowDimension.getRowIndexes().filter(function(e){return r.indexOf(e)>=0}).map(function(e){return m.pgrid.filteredDataSource[e]});n=e.rowType===a.HeaderType.GRAND_TOTAL&&e.colType===a.HeaderType.GRAND_TOTAL?"Grand total":e.rowType===a.HeaderType.GRAND_TOTAL?e.columnDimension.value+"/Grand total ":e.colType===a.HeaderType.GRAND_TOTAL?e.rowDimension.value+"/Grand total ":e.rowDimension.value+"/"+e.columnDimension.value,v.show({title:n,comp:{type:p,props:{headers:m.pgrid.config.getDataSourceFieldCaptions(),data:o,theme:m.pgrid.config.theme}},theme:m.pgrid.config.theme,style:g.fontStyle})}},t()}},{"./orb.axe":36,"./orb.pgrid":42,"./orb.ui.cols":48,"./orb.ui.header":49,"./orb.ui.rows":51,"./react/orb.react.Dialog.jsx":55,"./react/orb.react.Grid.jsx":62,"./react/orb.react.PivotChart.jsx":65,"./react/orb.react.PivotTable.jsx":74,"react-dom":"react-dom"}],51:[function(e,t,n){var r=e("./orb.axe"),o=e("./orb.ui.axe"),i=e("./orb.ui.header");t.exports=function(e){function t(e,t){if(a.isMultiDataFields())for(var n=e[e.length-1],r=0;r<a.dataFieldsCount();r++)n.push(new i.dataHeader(a.axe.pgrid.config.dataFields[r],t)),r<a.dataFieldsCount()-1&&e.push(n=[])}function n(e,o){if(o.values.length>0)for(var s=e.length-1,l=e[s],u=l.length>0?l[l.length-1]:null,c=0;c<o.values.length;c++){var d,p=o.values[c],f=o.subdimvals[p];d=!f.isLeaf&&f.field.subTotal.visible?new i.header(r.Type.ROWS,i.HeaderType.SUB_TOTAL,f,u,a.dataFieldsCount()):null;var h=new i.header(r.Type.ROWS,null,f,u,a.dataFieldsCount(),d);c>0&&e.push(l=[]),l.push(h),f.isLeaf?t(e,h):(n(e,f),f.field.subTotal.visible&&(e.push([d]),t(e,d)))}}var a=this;o.call(a,e),this.build=function(){var e,o=[];if(null!=a.axe){if((a.axe.root.values.length>0||a.axe.pgrid.config.grandTotal.rowsvisible)&&(o.push([]),n(o,a.axe.root),a.axe.pgrid.config.grandTotal.rowsvisible)){var s=o[o.length-1];e=new i.header(r.Type.ROWS,i.HeaderType.GRAND_TOTAL,a.axe.root,null,a.dataFieldsCount()),0===s.length?s.push(e):o.push([e])}0===o.length&&o.push([e=new i.header(r.Type.ROWS,i.HeaderType.INNER,a.axe.root,null,a.dataFieldsCount())]),e&&t(o,e)}a.headers=o},this.build()}},{"./orb.axe":36,"./orb.ui.axe":47,"./orb.ui.header":49}],52:[function(e,t,n){function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}t.exports.removeClass=function(e,t){if(e&&t)for(;e.className.indexOf(t)>=0;)e.className=e.className.replace(t,"")},t.exports.addClass=function(e,t){e&&t&&e.className.indexOf(t)<0&&(e.className+=" "+t)},t.exports.getOffset=function(e){if(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top}}return{x:0,y:0}},t.exports.getParentOffset=function(e){if(e){var t=e.getBoundingClientRect(),n=null!=e.parentNode?e.parentNode.getBoundingClientRect():{top:0,left:0};return{x:t.left-n.left,y:t.top-n.top}}return{x:0,y:0}},t.exports.getSize=function(e){if(e){var t=e.getBoundingClientRect();return{width:t.right-t.left,height:t.bottom-t.top}}return{width:0,height:0}};var o=/\-(\w)/g;t.exports.getStyle=function(e,t,n){var o=[];if(e&&t){var i,a,s;e.currentStyle?(i=e.currentStyle,a=function(e){return i[e]},s=!0):window&&window.getComputedStyle&&(i=window.getComputedStyle(e,null),a=function(e){return i.getPropertyValue(e)});for(var l=0;l<t.length;l++){var u=a(s?r(t[l]):t[l]);o.push(u&&n!==!0?Math.ceil(parseFloat(u)):u)}}return o},t.exports.isVisible=function(e){return e?"none"!==e.style.display&&(0!==e.offsetWidth||0!==e.offsetHeight):!1},t.exports.updateTableColGroup=function(e,t){if(e){var n=e.firstChild;if(n&&"COLGROUP"===n.nodeName){for(e.style.tableLayout="auto",e.style.width="";n.firstChild;)n.removeChild(n.firstChild);for(var r=0;r<t.length;r++){var o=document.createElement("col");o.style.width=t[r]+"px",n.appendChild(o)}e.style.tableLayout="fixed"}}}},{}],53:[function(e,t,n){(function(n){function r(e){return e&&e.__esModule?e:{"default":e}}var o=e("babel-runtime/core-js/json/stringify"),i=r(o);t.exports={ns:function(e,t){var n=e.split("."),r=0;for(t=t||window;r<n.length;)t[n[r]]=t[n[r]]||{},t=t[n[r]],r++;return t},ownProperties:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},forEach:function(e,t,n){var r;if(e)for(var o=0,i=e.length;i>o&&(r=t(e[o],o),!r||n===!0);o++);return r},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isDate:function(e){return"[object Date]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.apply(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.apply(e)},escapeRegex:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},findInArray:function(e,t){if(this.isArray(e)&&t)for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}},jsonStringify:function(e,t){function n(e,n){return t&&t.indexOf(e)>-1?void 0:n}return(0,i["default"])(e,n,2)},addEventListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeEventListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},preventDefault:function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getEventButton:function(e){var t=e.button;return"which"in e?t:1===t?0:4===t?1:2},getMousePageXY:function(e){e=e||window.event;var t=e.pageX,n=e.pageY;return void 0===t&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{pageX:t,pageY:n}}},function(e){function t(e){this.message=e}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa=n&&n.btoa?function(e){return n.btoa(e)}:function(e){for(var n,o,i=String(e),a=0,s=r,l="";i.charAt(0|a)||(s="=",a%1);l+=s.charAt(63&n>>8-a%1*8)){if(o=i.charCodeAt(a+=.75),o>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return l},e.atob=n&&n.atob?function(e){return n.atob(e)}:function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,a=0,s=0,l="";i=n.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?l+=String.fromCharCode(255&o>>(-2*a&6)):0)i=r.indexOf(i);return l}}(t.exports)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/json/stringify":1}],54:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM;t.exports=r.createClass({displayName:"exports",getInitialState:function(){return{canRender:!1}},canRender:function(){return this.state.canRender&&"string"==typeof this.props.chartMode.type&&"function"==typeof google.visualization[this.props.chartMode.type]},drawChart:function(){if(this.canRender()){var e=this.props.pivotTableComp.pgridwidget.pgrid.getChartData(),t=new google.visualization.DataTable;t.addColumn("string",e.hAxisLabel);for(var n=0;n<e.colNames.length;n++)t.addColumn("number",e.colNames[n]);t.addRows(e.dataTable);var r={title:e.title,fontName:this.state.chartStyle.fontFamily,fontSize:parseFloat(this.state.chartStyle.fontSize),hAxis:{title:e.hAxisLabel},vAxis:{title:e.vAxisLabel}};if("function"==typeof google.visualization[this.props.chartMode.type]){var i=new google.visualization[this.props.chartMode.type](o.findDOMNode(this));i.draw(t,r)}}},componentDidMount:function(){this.drawChart()},componentDidUpdate:function(){this.drawChart()},render:function(){return this.canRender()?r.createElement("div",{className:"chart",style:this.state.chartStyle}):null}})},{react:"react","react-dom":"react-dom"}],55:[function(e,t,n){function r(){var e=document.createElement("div");return e.className="orb-overlay orb-overlay-hidden",document.body.appendChild(e),e}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.utils"),s=t.exports=o.createClass({displayName:"exports",statics:{create:function(){var e=o.createFactory(s),t=r();return{show:function(n){i.render(e(n),t)}}}},overlayElement:null,setOverlayClass:function(e){this.overlayElement.className=this.props.theme.getDialogClasses(e).overlay},componentDidMount:function(){this.overlayElement=i.findDOMNode(this).parentNode,this.setOverlayClass(!0),a.addEventListener(this.overlayElement,"click",this.close);var e=this.overlayElement.children[0],t=e.children[0].children[1],n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=2*r/3;o=301>o?301:o;var s=e.offsetWidth+(e.offsetHeight>o?11:0),l=e.offsetHeight>o?o:e.offsetHeight;e.style.top=(r>l?(r-l)/2:0)+"px",e.style.left=(n>s?(n-s)/2:0)+"px",e.style.height=l+"px",t.style.width=s+"px",t.style.height=l-45+"px"},close:function(e){var t=e.target||e.srcElement;(t==this.overlayElement||"button-close"===t.className)&&(a.removeEventListener(this.overlayElement,"click",this.close),i.unmountComponentAtNode(this.overlayElement),this.setOverlayClass(!1))},render:function(){if(this.props.comp){var e=o.createElement(this.props.comp.type,this.props.comp.props),t=this.props.theme.getDialogClasses();return o.createElement("div",{className:t.dialog,style:this.props.style||{}},o.createElement("div",{className:t.content},o.createElement("div",{className:t.header},o.createElement("div",{className:"button-close",onClick:this.close}),o.createElement("div",{className:t.title},this.props.title)),o.createElement("div",{className:t.body},e)))}}})},{"../orb.utils":53,react:"react","react-dom":"react-dom"}],56:[function(e,t,n){var r="undefined"==typeof window?e("react-dom"):window.ReactDOM,o=e("../orb.utils");t.exports=function(){function e(e,t){return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function t(e,t){u?a(u,function(){u=e,i(e,t)}):(u=e,i(e,t))}function n(e){c?a(c,function(){c=e,i(e)}):(c=e,i(e))}function i(e,t){e&&e.onDragOver?e.onDragOver(t):t&&t()}function a(e,t){e&&e.onDragEnd?e.onDragEnd(t):t&&t()}var s=null,l=null,u=null,c=null,d=null,p=[],f=[],h=!1;return{init:function(e){h=!0,s=e},setDragElement:function(e){var o=l;if(l=e,l!=o)if(null==e){if(u){var i=null!=c?c.position:null;s.moveButton(o,u.component.props.axetype,i)}d=null,t(null),n(null)}else d=r.findDOMNode(l)},registerTarget:function(e,t,n,r){p.push({component:e,axetype:t,onDragOver:n,onDragEnd:r})},unregisterTarget:function(e){for(var t,n=0;n<p.length;n++)if(p[n].component==e){t=n;break}null!=t&&p.splice(t,1)},registerIndicator:function(e,t,n,r,o){f.push({component:e,axetype:t,position:n,onDragOver:r,onDragEnd:o})},unregisterIndicator:function(e){for(var t,n=0;n<f.length;n++)if(f[n].component==e){t=n;break}null!=t&&f.splice(t,1)},elementMoved:function(){if(null!=l){var i,a=d.getBoundingClientRect();o.forEach(p,function(t){if(!i){var n=r.findDOMNode(t.component).getBoundingClientRect(),o=e(a,n);if(o)return void(i=t)}}),i&&t(i,function(){var t=null;if(o.forEach(f,function(n,o){if(!t){var s=n.component.props.axetype===l.props.axetype&&n.component.props.position===l.props.position,u=n.component.props.axetype===i.component.props.axetype;if(u&&!s){var c=r.findDOMNode(n.component).getBoundingClientRect(),d=e(a,c);if(d)return t=n,!0}}}),!t){var s=f.filter(function(e){return e.component.props.axetype===i.component.props.axetype});s.length>0&&(t=s[s.length-1])}n(t)})}}}}()},{"../orb.utils":53,"react-dom":"react-dom"}],57:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.DragManager.jsx");t.exports=r.createClass({displayName:"DropIndicator",getInitialState:function(){return o.registerIndicator(this,this.props.axetype,this.props.position,this.onDragOver,this.onDragEnd),{isover:!1}},componentWillUnmount:function(){o.unregisterIndicator(this)},onDragOver:function(e){this.isMounted()?this.setState({isover:!0},e):e&&e()},onDragEnd:function(e){this.isMounted()?this.setState({isover:!1},e):e&&e()},render:function(){var e="drp-indic"+(this.props.isVertical?"-vertical":"");this.props.isFirst&&(e+=" drp-indic-first"),this.props.isLast&&(e+=" drp-indic-last");var t={};return this.state.isover&&(e+=" drp-indic-over"),r.createElement("div",{style:t,className:e})}})},{"./orb.react.DragManager.jsx":56,react:"react"}],58:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.DragManager.jsx"),i=e("./orb.react.DropIndicator.jsx"),a=e("../orb.axe"),s=0;t.exports=r.createClass({displayName:"exports",getInitialState:function(){return this.dtid=++s,{isover:!1}},componentDidMount:function(){o.registerTarget(this,this.props.axetype,this.onDragOver,this.onDragEnd)},componentWillUnmount:function(){o.unregisterTarget(this)},onDragOver:function(e){this.isMounted()?this.setState({isover:!0},e):e&&e()},onDragEnd:function(e){this.isMounted()?this.setState({isover:!1},e):e&&e()},render:function(){var e=this,t=!1;e.props.axetype===a.Type.ROWS&&(t=!0);var n=this.props.buttons.map(function(n,o){return o<e.props.buttons.length-1?t?[r.createElement("td",null,r.createElement(i,{isFirst:0===o,position:o,axetype:e.props.axetype})),r.createElement("td",null,n)]:[r.createElement("div",null,r.createElement(i,{isFirst:0===o,position:o,axetype:e.props.axetype})),r.createElement("div",null,n)]:t?[r.createElement("td",null,r.createElement(i,{isFirst:0===o,position:o,axetype:e.props.axetype})),r.createElement("td",null,n),r.createElement("td",null,r.createElement(i,{isLast:!0,position:null,axetype:e.props.axetype}))]:[r.createElement("div",null,r.createElement(i,{isFirst:0===o,position:o,axetype:e.props.axetype})),r.createElement("div",null,n),r.createElement("div",null,r.createElement(i,{isLast:!0,position:null,axetype:e.props.axetype}))]}),o=e.props.axetype===a.Type.ROWS?{position:"absolute",left:0,bottom:11}:{height:"auto"},s=t?{}:{width:"100%"};return r.createElement("div",{className:"drp-trgt"+(this.state.isover?" drp-trgt-over":"")+(0===n.length?" drp-trgt-empty":""),style:o},r.createElement("table",{style:s},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,n)))))}})},{"../orb.axe":36,"./orb.react.DragManager.jsx":56,"./orb.react.DropIndicator.jsx":57,react:"react"}],59:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.DragManager.jsx"),i=e("./orb.react.DropIndicator.jsx"),a=0;t.exports=r.createClass({displayName:"exports",getInitialState:function(){return this.dtid=++a,{isover:!1}},componentDidMount:function(){o.registerTarget(this,this.props.axetype,this.onDragOver,this.onDragEnd)},componentWillUnmount:function(){o.unregisterTarget(this)},onDragOver:function(e){this.isMounted()?this.setState({isover:!0},e):e&&e()},onDragEnd:function(e){this.isMounted()?this.setState({isover:!1},e):e&&e()},render:function(){var e=this,t=this.props.buttons.map(function(t,n){var o=[r.createElement("tr",null,r.createElement("td",null,r.createElement(i,{isFirst:0===n,position:n,axetype:e.props.axetype,isVertical:!0}))),r.createElement("tr",null,r.createElement("td",null,t))];return n==e.props.buttons.length-1&&o.push(r.createElement("tr",null,r.createElement("td",null,r.createElement(i,{isLast:!0,position:null,axetype:e.props.axetype,isVertical:!0})))),o});return r.createElement("div",{className:"drp-trgt-vertical"+(this.state.isover?" drp-trgt-over":"")+(0===t.length?" drp-trgt-vertical-empty":"")},r.createElement("table",null,r.createElement("tbody",null,t)))}})},{"./orb.react.DragManager.jsx":56,"./orb.react.DropIndicator.jsx":57,react:"react"}],60:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("../orb.utils");t.exports=r.createClass({displayName:"exports",openOrClose:function(e){var t=this.refs.valueElement,n=this.refs.valuesList,r=e.target||e.srcElement;r===t&&"none"===n.style.display?n.style.display="block":n.style.display="none"},onMouseEnter:function(){var e=this.refs.valueElement;e.className="orb-tgl-btn-down",e.style.backgroundPosition="right center";
},onMouseLeave:function(){this.refs.valueElement.className=""},componentDidMount:function(){o.addEventListener(document,"click",this.openOrClose)},componentWillUnmount:function(){o.removeEventListener(document,"click",this.openOrClose)},selectValue:function(e){for(var t=this.refs.valuesList,n=e.target||e.srcElement,r=!1;!r&&null!=n;){if(n.parentNode==t){r=!0;break}n=n.parentNode}if(r){var o=n.textContent,i=this.refs.valueElement;i.textContent!=o&&(i.textContent=o,this.props.onValueChanged&&this.props.onValueChanged(o))}},render:function(){for(var e=[],t=0;t<this.props.values.length;t++)e.push(r.createElement("li",{key:"item"+t,dangerouslySetInnerHTML:{__html:this.props.values[t]}}));return r.createElement("div",{className:"orb-select"},r.createElement("div",{ref:"valueElement",dangerouslySetInnerHTML:{__html:this.props.selectedValue},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),r.createElement("ul",{ref:"valuesList",style:{display:"none"},onClick:this.selectValue},e))}})},{"../orb.utils":53,react:"react"}],61:[function(e,t,n){function r(e,t){function n(e,t){return null==t?"none"!=e.parentNode.parentNode.style.display:void(e.parentNode.parentNode.style.display=t?"":"none")}function r(){if(t){var e={values:t.staticValue,toExclude:t.excludeStatic};t.term?(f=!0,g=t.operator,d.toggleRegexpButtonVisibility(),t.regexpMode?(h=!0,d.toggleRegexpButtonState(),m=t.term.source):m=t.term,v.searchBox.value=m,d.applyFilterTerm(t.operator,t.term)):a=e,d.updateCheckboxes(e),d.updateAllCheckbox()}}function o(){d.toggleRegexpButtonVisibility(),s.addEventListener(v.filterContainer,"click",d.valueChecked),s.addEventListener(v.searchBox,"keyup",d.searchChanged),s.addEventListener(v.clearSearchButton,"click",d.clearSearchBox),s.addEventListener(v.okButton,"click",function(){var t=d.getCheckedValues();e.onFilter(g.name,g.regexpSupported&&f&&h?new RegExp(m,"i"):m,t.values,t.toExclude)}),s.addEventListener(v.cancelButton,"click",function(){e.destroy()})}function i(e,t,n){var r=301,o=223,i={x:0,y:0},a=!1;this.resizeMouseDown=function(e){if(0===s.getEventButton(e)){var t=s.getMousePageXY(e);a=!0,document.body.style.cursor="se-resize",i.x=t.pageX,i.y=t.pageY,s.stopPropagation(e),s.preventDefault(e)}},this.resizeMouseUp=function(){return a=!1,document.body.style.cursor="auto",!0},this.resizeMouseMove=function(l){if(a){var u=s.getMousePageXY(l),c=n.getBoundingClientRect(),d=e.getBoundingClientRect(),p=t.tBodies[0].getBoundingClientRect(),f=d.right-d.left,h=d.bottom-d.top,g={x:r>=f&&u.pageX<c.left?0:u.pageX-i.x,y:o>=h&&u.pageY<c.top?0:u.pageY-i.y},m=f+g.x,v=h+g.y;i.x=u.pageX,i.y=u.pageY,m>=r&&(e.style.width=m+"px"),v>=o&&(e.style.height=v+"px",t.tBodies[0].style.height=p.bottom-p.top+g.y+"px"),s.stopPropagation(l),s.preventDefault(l)}},s.addEventListener(n,"mousedown",this.resizeMouseDown),s.addEventListener(document,"mouseup",this.resizeMouseUp),s.addEventListener(document,"mousemove",this.resizeMouseMove)}var a,c,d=this,p="indeterminate",f=!1,h=!1,g=l.Operators.MATCH,m="",v={filterContainer:null,checkboxes:{},searchBox:null,operatorBox:null,allCheckbox:null,addCheckbox:null,enableRegexButton:null,clearSearchButton:null,okButton:null,cancelButton:null,resizeGrip:null};this.init=function(e){v.filterContainer=e,v.checkboxes={},v.searchBox=v.filterContainer.rows[0].cells[2].children[0].rows[0].cells[0].children[0],v.clearSearchButton=v.filterContainer.rows[0].cells[2].children[0].rows[0].cells[1].children[0],v.operatorBox=v.filterContainer.rows[0].cells[0].children[0],v.okButton=v.filterContainer.rows[2].cells[0].children[0],v.cancelButton=v.filterContainer.rows[2].cells[0].children[1],v.resizeGrip=v.filterContainer.rows[2].cells[1].children[0];for(var t=v.filterContainer.rows[1].cells[0].children[0].rows,n=0;n<t.length;n++){var a=t[n].cells[0].children[0];v.checkboxes[a.value]=a}v.allCheckbox=v.checkboxes[l.ALL],v.blanckCheckbox=v.checkboxes[l.BLANK],v.addCheckbox=null,v.enableRegexButton=v.filterContainer.rows[0].cells[1],c=new i(v.filterContainer.parentNode,v.filterContainer.rows[1].cells[0].children[0],v.resizeGrip),r(),o()},this.onOperatorChanged=function(e){g.name!==e&&(g=l.Operators.get(e),d.toggleRegexpButtonVisibility(),d.searchChanged("operatorChanged"))},this.clearSearchBox=function(){v.searchBox.value="",d.searchChanged()},this.toggleRegexpButtonVisibility=function(){g.regexpSupported?(s.addEventListener(v.enableRegexButton,"click",d.regexpActiveChanged),u.removeClass(v.enableRegexButton,"srchtyp-col-hidden")):(s.removeEventListener(v.enableRegexButton,"click",d.regexpActiveChanged),u.addClass(v.enableRegexButton,"srchtyp-col-hidden"))},this.toggleRegexpButtonState=function(){v.enableRegexButton.className=v.enableRegexButton.className.replace("srchtyp-col-active",""),h?u.addClass(v.enableRegexButton,"srchtyp-col-active"):u.removeClass(v.enableRegexButton,"srchtyp-col-active")},this.regexpActiveChanged=function(){h=!h,d.toggleRegexpButtonState(),d.searchChanged("regexModeChanged")},this.valueChecked=function(e){var t=e.target||e.srcElement;t&&t.type&&"checkbox"===t.type&&(t==v.allCheckbox?d.updateCheckboxes({values:v.allCheckbox.checked}):d.updateAllCheckbox())},this.applyFilterTerm=function(t,r){var o=r?!1:!0,i=t.regexpSupported&&f?h?r:s.escapeRegex(r):r;n(v.allCheckbox,o);for(var a=0;a<e.values.length;a++){var l=e.values[a],u=null!=l?v.checkboxes[l]:v.blanckCheckbox,c=!f||t.func(l,i);n(u,c),u.checked=c}},this.searchChanged=function(e){var t=(v.searchBox.value||"").trim();if("operatorChanged"===e||"regexModeChanged"===e&&t||t!=m){m=t;var n=f;f=""!==t,f&&!n&&(a=d.getCheckedValues()),("operatorChanged"!==e||f)&&d.applyFilterTerm(g,t),!f&&n&&d.updateCheckboxes(a),d.updateAllCheckbox()}},this.getCheckedValues=function(){if(f||v.allCheckbox.indeterminate){var t,r,o,i,a=0,s=0;for(r=0;r<e.values.length;r++)o=e.values[r],i=null!=o?v.checkboxes[o]:v.blanckCheckbox,n(i)&&(a++,i.checked&&s++);var u=!1;if(0===s)t=l.NONE;else if(s==a)t=l.ALL;else for(t=[],u=s>a/2+1,r=0;r<e.values.length;r++)o=e.values[r],i=null!=o?v.checkboxes[o]:v.blanckCheckbox,n(i)&&(!u&&i.checked||u&&!i.checked)&&t.push(o);return{values:t,toExclude:u}}return{values:v.allCheckbox.checked?l.ALL:l.NONE,toExclude:!1}},this.updateCheckboxes=function(t){for(var r=t?t.values:null,o=s.isArray(r)?null:null==r||r===l.ALL?!0:r===l.NONE?!1:!!r,i=0;i<e.values.length;i++){var a=e.values[i],u=null!=a?v.checkboxes[a]:v.blanckCheckbox;if(n(u))if(null!=o)u.checked=o;else{var c=r.indexOf(a)>=0;u.checked=t.toExclude?!c:c}}},this.updateAllCheckbox=function(){if(!f){for(var t=null,n=0;n<e.values.length;n++){var r=e.values[n],o=null!=r?v.checkboxes[r]:v.blanckCheckbox;if(null==t)t=o.checked;else if(t!==o.checked){t=p;break}}t===p?(v.allCheckbox.indeterminate=!0,v.allCheckbox.checked=!1):(v.allCheckbox.indeterminate=!1,v.allCheckbox.checked=t)}}}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("./orb.react.Dropdown.jsx"),s=e("../orb.utils"),l=e("../orb.filtering"),u=e("../orb.utils.dom");t.exports=o.createClass({displayName:"exports",pgridwidget:null,values:null,filterManager:null,getInitialState:function(){return this.pgridwidget=this.props.pivotTableComp.pgridwidget,{}},destroy:function(){var e=i.findDOMNode(this).parentNode;i.unmountComponentAtNode(e),e.parentNode.removeChild(e)},onFilter:function(e,t,n,r){this.props.pivotTableComp.applyFilter(this.props.field,e,t,n,r),this.destroy()},onMouseDown:function(e){for(var t=i.findDOMNode(this).parentNode,n=e.target||e.srcElement;null!=n;){if(n==t)return!0;n=n.parentNode}this.destroy()},onMouseWheel:function(e){for(var t=this.refs.valuesTable,n=e.target||e.srcElement;null!=n;){if(n==t)return void(t.scrollHeight<=t.clientHeight&&(s.stopPropagation(e),s.preventDefault(e)));n=n.parentNode}this.destroy()},componentWillMount:function(){s.addEventListener(document,"mousedown",this.onMouseDown),s.addEventListener(document,"wheel",this.onMouseWheel),s.addEventListener(window,"resize",this.destroy)},componentDidMount:function(){this.filterManager.init(i.findDOMNode(this))},componentWillUnmount:function(){s.removeEventListener(document,"mousedown",this.onMouseDown),s.removeEventListener(document,"wheel",this.onMouseWheel),s.removeEventListener(window,"resize",this.destroy)},render:function(){function e(e,n){return t.push(o.createElement("tr",{key:e},o.createElement("td",{className:"fltr-chkbox"},o.createElement("input",{type:"checkbox",value:e,defaultChecked:"checked"})),o.createElement("td",{className:"fltr-val",title:n||e},n||e)))}var t=[];this.filterManager=new r(this,this.pgridwidget.pgrid.getFieldFilter(this.props.field)),this.values=this.pgridwidget.pgrid.getFieldValues(this.props.field),e(l.ALL,"(Show All)");for(var n=0;n<this.values.length;n++)null!=this.values[n]?e(this.values[n]):e(l.BLANK,"(Blank)");var i=this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().orbButton,s=this.props.pivotTableComp.fontStyle,u=this.pgridwidget.pgrid.getFieldFilter(this.props.field);return o.createElement("table",{className:"fltr-scntnr",style:s},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{className:"srchop-col"},o.createElement(a,{values:[l.Operators.MATCH.name,l.Operators.NOTMATCH.name,l.Operators.EQ.name,l.Operators.NEQ.name,l.Operators.GT.name,l.Operators.GTE.name,l.Operators.LT.name,l.Operators.LTE.name],selectedValue:u&&u.operator?u.operator.name:l.Operators.MATCH.name,onValueChanged:this.filterManager.onOperatorChanged})),o.createElement("td",{className:"srchtyp-col",title:"Enable/disable Regular expressions"},".*"),o.createElement("td",{className:"srchbox-col"},o.createElement("table",{style:{width:"100%"}},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,o.createElement("input",{type:"text",placeholder:"search"})),o.createElement("td",null,o.createElement("div",{className:"srchclear-btn",onClick:this.clearFilter},"x"))))))),o.createElement("tr",null,o.createElement("td",{colSpan:"3",className:"fltr-vals-col"},o.createElement("table",{className:"fltr-vals-tbl",ref:"valuesTable"},o.createElement("tbody",null,t)))),o.createElement("tr",{className:"bottom-row"},o.createElement("td",{className:"cnfrm-btn-col",colSpan:"2"},o.createElement("input",{type:"button",className:i,value:"Ok",style:{"float":"left"}}),o.createElement("input",{type:"button",className:i,value:"Cancel",style:{"float":"left"}})),o.createElement("td",{className:"resize-col"},o.createElement("div",null)))))}})},{"../orb.filtering":40,"../orb.utils":53,"../orb.utils.dom":52,"./orb.react.Dropdown.jsx":60,react:"react","react-dom":"react-dom"}],62:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("../orb.utils");t.exports=r.createClass({displayName:"exports",render:function(){var e=this.props.data,t=this.props.headers,n=this.props.theme.getGridClasses(),i=[];if(t&&t.length>0){for(var a=[],s=0;s<t.length;s++)a.push(r.createElement("th",{key:"h"+s},t[s]));i.push(r.createElement("tr",{key:"h"},a))}if(e&&e.length>0)for(var l=0;l<e.length;l++){var u=[];if(o.isArray(e[l]))for(var c=0;c<e[l].length;c++)u.push(r.createElement("td",{key:l+""+c},e[l][c]));else for(var d in e[l])e[l].hasOwnProperty(d)&&u.push(r.createElement("td",{key:l+""+d},e[l][d]));i.push(r.createElement("tr",{key:l},u))}return r.createElement("table",{className:n.table},r.createElement("tbody",null,i))}})},{"../orb.utils":53,react:"react"}],63:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.FilterPanel.jsx"),a=e("./orb.react.DragManager.jsx"),s=e("../orb.utils"),l=e("../orb.axe"),u=e("../orb.utils.dom"),c=0;t.exports=r.createClass({displayName:"PivotButton",getInitialState:function(){return this.pbid=++c,{pos:{x:0,y:0},startpos:{x:0,y:0},mousedown:!1,dragging:!1}},onFilterMouseDown:function(e){if(0===e.button){var t=this.refs.filterButton,n=u.getOffset(t),a=document.createElement("div"),l=r.createFactory(i),c=l({field:this.props.field.name,pivotTableComp:this.props.pivotTableComp});a.className=this.props.pivotTableComp.pgrid.config.theme.getFilterClasses().container,a.style.top=n.y+"px",a.style.left=n.x+"px",document.body.appendChild(a),o.render(c,a),s.stopPropagation(e),s.preventDefault(e)}},componentDidUpdate:function(){this.props.pivotTableComp.pgrid.config.canMoveFields&&(this.state.mousedown?this.state.mousedown&&(a.setDragElement(this),s.addEventListener(document,"mousemove",this.onMouseMove)):(a.setDragElement(null),s.removeEventListener(document,"mousemove",this.onMouseMove)))},componentDidMount:function(){this.props.pivotTableComp.registerThemeChanged(this.updateClasses)},componentWillUnmount:function(){this.props.pivotTableComp.unregisterThemeChanged(this.updateClasses),s.removeEventListener(document,"mousemove",this.onMouseMove)},onMouseDown:function(e){if(0===e.button){if(e.ctrlKey)this.props.pivotTableComp.pgridwidget.toggleFieldExpansion(this.props.axetype,this.props.field);else{var t=u.getOffset(o.findDOMNode(this)),n=s.getMousePageXY(e);this.setState({mousedown:!0,mouseoffset:{x:t.x-n.pageX,y:t.y-n.pageY},startpos:{x:n.pageX,y:n.pageY}})}s.stopPropagation(e),s.preventDefault(e)}},onMouseUp:function(e){var t=this.state.dragging;this.setState({mousedown:!1,dragging:!1,size:null,pos:{x:0,y:0}}),e.ctrlKey||t||this.props.pivotTableComp.sort(this.props.axetype,this.props.field)},onMouseMove:function(e){if(this.props.pivotTableComp.pgrid.config.canMoveFields&&this.state.mousedown){var t=null,n=s.getMousePageXY(e);t=this.state.dragging?this.state.size:u.getSize(o.findDOMNode(this));var r={x:n.pageX+this.state.mouseoffset.x,y:n.pageY+this.state.mouseoffset.y};this.state.dragging&&r.x==this.state.pos.x&&r.y==this.state.pos.y||(this.setState({dragging:!0,size:t,pos:r}),a.elementMoved()),s.stopPropagation(e),s.preventDefault(e)}},updateClasses:function(){o.findDOMNode(this).className=this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton},render:function(){var e=this,t=this,n={left:t.state.pos.x+"px",top:t.state.pos.y+"px",position:t.state.dragging?"fixed":"",marginTop:"2px",zIndex:101};t.state.size&&(n.width=t.state.size.width+"px");var o="asc"===t.props.field.sort.order?"sort-asc":"desc"===t.props.field.sort.order?"sort-desc":"",i=(t.state.dragging?"":"fltr-btn")+(this.props.pivotTableComp.pgrid.isFieldFiltered(this.props.field.name)?" fltr-btn-active":""),a=(t.props.field.isMeasurement?" measurement":"")+(t.props.field.isDimension?" dimension":""),s="";return t.props.axetype!==l.Type.DATA||t.props.pivotTableComp.pgrid.config.hideFuncNames||(s=r.createElement("small",null," ("+t.props.field.aggregateFuncName+")")),r.createElement("div",{key:t.props.field.name,className:this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton+a,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:n},r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:"caption"},t.props.field.caption,s),function(){return t.props.field.isMeasurement?r.createElement("td",null):r.createElement("td",null,r.createElement("div",{className:"sort-indicator "+o}))}(),function(){return e.props.pivotTableComp.pgrid.config.hideFilters?r.createElement("td",null):r.createElement("td",{className:"filter"},r.createElement("div",{ref:"filterButton",className:i,onMouseDown:t.state.dragging?null:e.onFilterMouseDown}))}()))))}})},{"../orb.axe":36,"../orb.utils":53,"../orb.utils.dom":52,"./orb.react.DragManager.jsx":56,"./orb.react.FilterPanel.jsx":61,react:"react","react-dom":"react-dom"}],64:[function(e,t,n){function r(e){var t=e.cell,n=t.cssclass;"cell-template-empty"===t.template;return t.visible()||(n+=" cell-hidden"),t.type===a.HeaderType.SUB_TOTAL&&t.expanded&&(n+=" header-st-exp"),t.type===a.HeaderType.GRAND_TOTAL&&(1===t.dim.depth?n+=" header-nofields":t.dim.depth>2&&(n+=" header-gt-exp")),e.leftmost&&(n+=" "+("cell-template-datavalue"===t.template?"cell":"header")+"-leftmost"),e.topmost&&(n+=" cell-topmost"),n}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.ui.header"),s=e("../orb.utils.dom"),l=null,u=null;t.exports=o.createClass({displayName:"exports",expand:function(){this.props.pivotTableComp.pgridwidget.expandRow(this.props.cell)},collapse:function(){this.props.pivotTableComp.pgridwidget.collapseRow(this.props.cell)},updateCellInfos:function(){var e=i.findDOMNode(this),t=this.props.cell;if(e.__orb=e.__orb||{},t.visible()){var n=this.refs.cellContent,r=[],o=null==l,a=!this.props.leftmost&&null==u,c=e.textContent||e.innerText;if(o&&r.push("padding-left"),a&&r.push("border-left-width"),r.length>0){var d=s.getStyle(e,r,!0);o&&(l=parseFloat(d[0])),a&&(u=parseFloat(d[o?1:0]))}s.removeClass(e,"cell-hidden"),e.__orb._visible=!0,c==e.__orb._lastText&&e.__orb._textWidth||(e.__orb._lastText=c,e.__orb._textWidth=s.getSize(n).width),e.__orb._colSpan=this.props.cell.hspan(!0)||1,e.__orb._rowSpan=this.props.cell.vspan(!0)||1,e.__orb._paddingLeft=l,e.__orb._paddingRight=l,e.__orb._borderLeftWidth=this.props.leftmost?0:u,e.__orb._borderRightWidth=0}else e.__orb._visible=!1},componentDidMount:function(){this.updateCellInfos()},componentDidUpdate:function(){this.updateCellInfos()},shouldComponentUpdate:function(e,t){return!e.cell||e.cell!=this.props.cell||this._latestVisibleState||e.cell.visible()?!0:!1},_latestVisibleState:!1,render:function(){var e,t,n=this,i=this.props.cell,s=[],l=!1;switch(this._latestVisibleState=i.visible(),i.template){case"cell-template-row-header":case"cell-template-column-header":var u=i.type===a.HeaderType.WRAPPER&&i.dim.field.subTotal.visible&&i.dim.field.subTotal.collapsible,c=i.type===a.HeaderType.SUB_TOTAL&&!i.expanded;u||c?(l=!0,s.push(o.createElement("table",{key:"header-value",ref:"cellContent"},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{className:"orb-tgl-btn"},o.createElement("div",{className:"orb-tgl-btn-"+(u?"down":"right"),onClick:u?this.collapse:this.expand})),o.createElement("td",{className:"hdr-val"},o.createElement("div",{dangerouslySetInnerHTML:{__html:i.value||"&#160;"}}))))))):e=(i.value||"&#160;")+(i.type===a.HeaderType.SUB_TOTAL?" Total":"");break;case"cell-template-dataheader":e=i.value.caption;break;case"cell-template-datavalue":e=i.datafield&&i.datafield.formatFunc?i.datafield.formatFunc()(i.value):i.value,t=function(){0==n.props.pivotTableComp.pgrid.config.hideRowDialog&&n.props.pivotTableComp.pgridwidget.drilldown(i,n.props.pivotTableComp.id)}}if(!l){var d;switch(i.template){case"cell-template-datavalue":d="cell-data";break;default:"cell-template-dataheader"!=i.template&&i.type!==a.HeaderType.GRAND_TOTAL&&(d="hdr-val")}s.push(o.createElement("div",{key:"cell-value",ref:"cellContent",className:d},o.createElement("div",{dangerouslySetInnerHTML:{__html:e||"&#160;"}})))}return o.createElement("td",{className:r(this.props),onDoubleClick:t,colSpan:i.hspan(),rowSpan:i.vspan()},o.createElement("div",null,s))}})},{"../orb.ui.header":49,"../orb.utils.dom":52,react:"react","react-dom":"react-dom"}],65:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.DragManager.jsx"),a=e("./orb.react.PivotTable.SizingManager.jsx"),s=(e("./orb.react.Toolbar.jsx"),e("./orb.react.PivotTable.UpperButtons.jsx")),l=e("./orb.react.PivotTable.ColumnButtons.jsx"),u=e("./orb.react.PivotTable.RowButtons.jsx"),c=e("./orb.react.Chart.jsx"),d=e("../orb.utils.dom"),p=1,f={};t.exports=r.createClass({displayName:"exports",id:p++,pgrid:null,pgridwidget:null,fontStyle:null,getInitialState:function(){return i.init(this),f[this.id]=[],this.registerThemeChanged(this.updateClasses),this.pgridwidget=this.props.pgridwidget,this.pgrid=this.pgridwidget.pgrid,{}},sort:function(e,t){this.pgridwidget.sort(e,t)},moveButton:function(e,t,n){this.pgridwidget.moveField(e.props.field.name,e.props.axetype,t,n)},applyFilter:function(e,t,n,r,o){this.pgridwidget.applyFilter(e,t,n,r,o)},registerThemeChanged:function(e){e&&f[this.id].push(e)},unregisterThemeChanged:function(e){var t;e&&(t=f[this.id].indexOf(e))>=0&&f[this.id].splice(t,1)},changeTheme:function(e){if(this.pgridwidget.pgrid.config.setTheme(e))for(var t=0;t<f[this.id].length;t++)f[this.id][t]()},updateClasses:function(){var e=o.findDOMNode(this),t=this.pgridwidget.pgrid.config.theme.getPivotClasses();e.className=t.container,e.children[1].className=t.table},componentDidUpdate:function(){this.synchronizeWidths()},componentDidMount:function(){var e=d.getStyle(o.findDOMNode(this),["font-family","font-size"],!0);this.fontStyle={fontFamily:e[0],fontSize:e[1]},this.synchronizeWidths()},synchronizeWidths:function(){var e=a.synchronizeWidths(this);e.fontFamily=this.fontStyle.fontFamily,e.fontSize=this.fontStyle.fontSize,this.refs.chart.setState({canRender:!0,chartStyle:e})},render:function(){var e=this,t=this.pgridwidget.pgrid.config,n=t.theme.getPivotClasses(),o={};return t.width&&(o.width=t.width),t.height&&(o.height=t.height),r.createElement("div",{className:n.container,style:o,ref:"pivot"},r.createElement("table",{id:"tbl-"+e.id,ref:"pivotWrapperTable",className:n.table},r.createElement("colgroup",null,r.createElement("col",{ref:"column1"}),r.createElement("col",{ref:"column2"})),r.createElement("tbody",null,r.createElement("tr",{ref:"upperButtons"},r.createElement("td",{colSpan:"2"},r.createElement(s,{pivotTableComp:e}))),r.createElement("tr",{ref:"colButtons"},r.createElement("td",null),r.createElement("td",{style:{padding:"11px 4px !important"}},r.createElement(l,{pivotTableComp:e}))),r.createElement("tr",null,r.createElement("td",{style:{position:"relative"}},r.createElement(u,{pivotTableComp:e,ref:"rowButtons"})),r.createElement("td",null,r.createElement(c,{pivotTableComp:e,chartMode:t.chartMode,ref:"chart"}))))))}})},{"../orb.utils.dom":52,"./orb.react.Chart.jsx":54,"./orb.react.DragManager.jsx":56,"./orb.react.PivotTable.ColumnButtons.jsx":67,"./orb.react.PivotTable.RowButtons.jsx":70,"./orb.react.PivotTable.SizingManager.jsx":72,"./orb.react.PivotTable.UpperButtons.jsx":73,"./orb.react.Toolbar.jsx":76,react:"react","react-dom":"react-dom"}],66:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.PivotCell.jsx"),i=e("../orb.axe");t.exports=r.createClass({displayName:"exports",render:function(){var e,t=this,n=(this.props.row.length-1,this.props.row[0],!1),a=t.props.layoutInfos,s={},l=!1;return e=this.props.row.map(function(e,s){var u=!1;return e.visible()&&a&&(e.dim?(e.dim.isRoot&&void 0===a.topMostCells[e.dim.depth-1]||!e.dim.isRoot&&void 0===a.topMostCells[e.dim.depth]&&(e.dim.parent.isRoot||a.topMostCells[e.dim.depth+1]===e.dim.parent))&&(l=!0,a.topMostCells[e.dim.depth]=e.dim):a.topMostCells[0]||(l=a.topMostCells[0]=!0),n||t.props.axetype!==i.Type.DATA&&t.props.axetype!==i.Type.COLUMNS||0!==a.lastLeftMostCellVSpan||(u=n=!0,a.lastLeftMostCellVSpan=e.vspan()-1)),r.createElement(o,{key:s,cell:e,leftmost:u,topmost:l,pivotTableComp:t.props.pivotTableComp})}),a&&a.lastLeftMostCellVSpan>0&&!n&&a.lastLeftMostCellVSpan--,r.createElement("tr",{style:s},e)}})},{"../orb.axe":36,"./orb.react.PivotCell.jsx":64,react:"react"}],67:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("./orb.react.PivotButton.jsx"),a=e("./orb.react.DropTarget.jsx");t.exports=r.createClass({displayName:"exports",render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget.pgrid.config,n=t.columnFields.map(function(t,n){return r.createElement(i,{key:t.name,field:t,axetype:o.Type.COLUMNS,position:n,pivotTableComp:e.props.pivotTableComp})});return r.createElement(a,{buttons:n,axetype:o.Type.COLUMNS})}})},{"../orb.axe":36,"./orb.react.DropTarget.jsx":58,"./orb.react.PivotButton.jsx":63,react:"react"}],68:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("./orb.react.PivotRow.jsx");t.exports=r.createClass({displayName:"exports",render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget,n=0===t.columns.headers.length?"":" columns-cntr",a={lastLeftMostCellVSpan:0,topMostCells:{}},s=t.columns.headers.map(function(t,n){return r.createElement(i,{key:n,row:t,axetype:o.Type.COLUMNS,pivotTableComp:e.props.pivotTableComp,layoutInfos:a})});return r.createElement("div",{className:"inner-table-container"+n,onWheel:this.props.pivotTableComp.onWheel},r.createElement("table",{className:"inner-table"},r.createElement("colgroup",null),r.createElement("tbody",null,s)))}})},{"../orb.axe":36,"./orb.react.PivotRow.jsx":66,react:"react"}],69:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("./orb.react.PivotRow.jsx");t.exports=r.createClass({displayName:"exports",render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget,n={lastLeftMostCellVSpan:0,topMostCells:{}},a=t.dataRows.map(function(t,a){return r.createElement(i,{key:a,row:t,axetype:o.Type.DATA,layoutInfos:n,pivotTableComp:e.props.pivotTableComp})});return r.createElement("div",{className:"inner-table-container data-cntr",onWheel:this.props.pivotTableComp.onWheel},r.createElement("table",{className:"inner-table"},r.createElement("colgroup",null),r.createElement("tbody",null,a)))}})},{"../orb.axe":36,"./orb.react.PivotRow.jsx":66,react:"react"}],70:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.PivotButton.jsx"),i=e("./orb.react.DropTarget.jsx"),a=e("./orb.react.DropTargetVertical.jsx"),s=e("../orb.axe");t.exports=r.createClass({displayName:"exports",render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget.pgrid.config,n=t.rowFields.map(function(t,n){return r.createElement(o,{key:t.name,field:t,axetype:s.Type.ROWS,position:n,pivotTableComp:e.props.pivotTableComp})});return t.chartMode.enabled?r.createElement(a,{buttons:n,axetype:s.Type.ROWS}):r.createElement(i,{buttons:n,axetype:s.Type.ROWS})}})},{"../orb.axe":36,"./orb.react.DropTarget.jsx":58,"./orb.react.DropTargetVertical.jsx":59,"./orb.react.PivotButton.jsx":63,react:"react"}],71:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.PivotRow.jsx"),a=e("../orb.axe");t.exports=r.createClass({displayName:"exports",setColGroup:function(e){var t=o.findDOMNode(this),n=this.refs.colgroup;t.style.tableLayout="auto",n.innerHTML="";for(var r=0;r<e.length;r++){var i=document.createElement("col");i.style.width=e[r]+8+"px",n.appendChild(i)}t.style.tableLayout="fixed"},render:function(){var e=this,t=this.props.pivotTableComp.pgridwidget,n=0===t.rows.headers.length?"":" rows-cntr",o={lastLeftMostCellVSpan:0,topMostCells:{}},s=t.rows.headers.map(function(t,n){return r.createElement(i,{key:n,row:t,axetype:a.Type.ROWS,layoutInfos:o,pivotTableComp:e.props.pivotTableComp})});return r.createElement("div",{className:"inner-table-container"+n,onWheel:this.props.pivotTableComp.onWheel},r.createElement("table",{className:"inner-table"},r.createElement("colgroup",{ref:"colgroup"}),r.createElement("tbody",null,s)))}})},{"../orb.axe":36,"./orb.react.PivotRow.jsx":66,react:"react","react-dom":"react-dom"}],72:[function(e,t,n){function r(e,t,n){var r,s=this,l=i.findDOMNode(e);this.node=t?l.children[0]:l,r=a.getSize(this.node),this.w=r.width,this.h=r.height,this.setStyle=function(e,t){s.node.style[e]=t+"px"},this.setParentStyle=function(e,t){s.node.parentNode.style[e]=t+"px"},this.getLargestWidths=function(e){for(var t={max:[],total:0},n=0;n<s.colWidths.length;n++)t.max.push(Math.max(s.colWidths[n],e.colWidths[n])),t.total+=t.max[n];return t},this.addToWidth=function(e){e>0&&(s.w+=e,s.colWidths[s.colWidths.length-1]+=e)},"table"===n&&o(this)}function o(e){if(e&&e.node){for(var t=e.node,n=[],r=0;r<t.rows.length;r++){for(var o=t.rows[r],i=0,a=null,s=0;s<o.cells.length;s++){var l=o.cells[s];if(l.__orb._visible)for(var u=Math.ceil(l.__orb._textWidth/l.__orb._colSpan+l.__orb._paddingLeft+l.__orb._paddingRight+l.__orb._borderLeftWidth+l.__orb._borderRightWidth),c=(l.__orb._rowSpan>1&&l.__orb._rowSpan>=t.rows.length-r,0);c<l.__orb._colSpan;c++){for(a=n[i];a&&a.inhibit>0;)a.inhibit--,i++,a=n[i];n.length-1<i?n.push({width:u}):u>n[i].width&&(n[i].width=u),n[i].inhibit=l.__orb._rowSpan-1,i++}}for(a=n[i];a;)a.inhibit>0&&a.inhibit--,i++,a=n[i]}e.w=0,e.colWidths=n.map(function(t,n){return e.w+=t.width,t.width})}}var i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.utils.dom"),s=t.exports={synchronizeWidths:function(e){return e.pgridwidget.pgrid.config.chartMode.enabled?s.synchronizePivotChartWidths(e):void s.synchronizePivotTableWidths(e)},synchronizePivotChartWidths:function(e){var t=e.refs.pivotWrapperTable,n=new r(e.refs.pivot),o=new r(e.refs.upperButtons),i=new r(e.refs.colButtons),s=new r(e.refs.rowButtons),l=(new r(e.refs.chart),Math.max(s.w,67)),u=n.w-l,c=e.pgridwidget.pgrid.config.height,d=c?c-(o.h+i.h):null;return a.updateTableColGroup(t,[l,u]),{width:u,height:d}},synchronizePivotTableWidths:function(e){var t=e.refs.pivotWrapperTable,n=new r(e.refs.pivot),o=new r(e.refs.toolbar),i=new r(e.refs.colHeaders,!0,"table"),s=new r(e.refs.rowHeaders,!0,"table"),l=new r(e.refs.dataCells,!0,"table"),u=new r(e.refs.upperButtons),c=new r(e.refs.colButtons),d=new r(e.refs.rowButtons,!0),p=new r(e.refs.horizontalScrollBar),f=new r(e.refs.verticalScrollBar),h=l.getLargestWidths(i),g=Math.max(s.w,d.w,67),m=Math.min(h.total+1,n.w-g-f.w),v=e.pgridwidget.pgrid.config.height,b=v?v-(o?o.h+17:0)-(u.h+c.h+i.h+p.h):null,y=b?Math.ceil(Math.min(b,l.h)):null;s.addToWidth(g-s.w),a.updateTableColGroup(l.node,h.max),a.updateTableColGroup(i.node,h.max),a.updateTableColGroup(s.node,s.colWidths),l.setStyle("width",h.total),i.setStyle("width",h.total),s.setStyle("width",g),l.setParentStyle("width",m),i.setParentStyle("width",m),y&&(l.setParentStyle("height",y),s.setParentStyle("height",y)),a.updateTableColGroup(t,[g,m,f.w,Math.max(n.w-(g+m+f.w),0)]),e.refs.horizontalScrollBar.refresh(),e.refs.verticalScrollBar.refresh()}}},{"../orb.utils.dom":52,"react-dom":"react-dom"}],73:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("./orb.react.PivotButton.jsx"),i=e("./orb.react.DropTarget.jsx"),a=e("../orb.axe");t.exports=r.createClass({displayName:"exports",render:function(){var e,t=this,n=this.props.pivotTableComp.pgridwidget.pgrid.config;if(n.canMoveFields){var s=n.availablefields().map(function(e,n){return r.createElement(o,{key:e.name,field:e,axetype:null,position:n,pivotTableComp:t.props.pivotTableComp})});e=r.createElement("tr",null,r.createElement("td",{className:"flds-grp-cap av-flds text-muted"},r.createElement("div",null,"Fields")),r.createElement("td",{className:"av-flds"},r.createElement(i,{buttons:s,axetype:null})))}else e=null;var l=n.dataFields.map(function(e,n){return r.createElement(o,{key:e.name,field:e,axetype:a.Type.DATA,position:n,pivotTableComp:t.props.pivotTableComp})}),u=r.createElement("tr",null,r.createElement("td",{className:"flds-grp-cap text-muted"},r.createElement("div",null,"Data")),r.createElement("td",{className:"empty"},r.createElement(i,{buttons:l,axetype:a.Type.DATA})));return r.createElement("table",{className:"inner-table upper-buttons"},r.createElement("tbody",null,e,u))}})},{"../orb.axe":36,"./orb.react.DropTarget.jsx":58,"./orb.react.PivotButton.jsx":63,react:"react"}],74:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o="undefined"==typeof window?e("react-dom"):window.ReactDOM,i=e("./orb.react.DragManager.jsx"),a=e("./orb.react.PivotTable.SizingManager.jsx"),s=e("./orb.react.Toolbar.jsx"),l=e("./orb.react.PivotTable.UpperButtons.jsx"),u=e("./orb.react.PivotTable.ColumnButtons.jsx"),c=e("./orb.react.PivotTable.RowButtons.jsx"),d=e("./orb.react.PivotTable.RowHeaders.jsx"),p=e("./orb.react.PivotTable.ColumnHeaders.jsx"),f=e("./orb.react.PivotTable.DataCells.jsx"),h=e("./orb.react.ScrollBars.jsx"),g=h.HorizontalScrollBar,m=h.VerticalScrollBar,v=e("../orb.utils"),b=e("../orb.utils.dom"),y=1,x={};
t.exports=r.createClass({displayName:"exports",id:y++,pgrid:null,pgridwidget:null,fontStyle:null,getInitialState:function(){return i.init(this),x[this.id]=[],this.registerThemeChanged(this.updateClasses),this.pgridwidget=this.props.pgridwidget,this.pgrid=this.pgridwidget.pgrid,{}},sort:function(e,t){this.pgridwidget.sort(e,t)},moveButton:function(e,t,n){this.pgridwidget.moveField(e.props.field.name,e.props.axetype,t,n)},toggleSubtotals:function(e){this.pgridwidget.toggleSubtotals(e)},toggleGrandtotal:function(e){this.pgridwidget.toggleGrandtotal(e)},applyFilter:function(e,t,n,r,o){this.pgridwidget.applyFilter(e,t,n,r,o)},registerThemeChanged:function(e){e&&x[this.id].push(e)},unregisterThemeChanged:function(e){var t;e&&(t=x[this.id].indexOf(e))>=0&&x[this.id].splice(t,1)},changeTheme:function(e){if(this.pgridwidget.pgrid.config.setTheme(e))for(var t=0;t<x[this.id].length;t++)x[this.id][t]()},updateClasses:function(){var e=o.findDOMNode(this),t=this.pgridwidget.pgrid.config.theme.getPivotClasses();e.className=t.container,e.children[1].className=t.table},componentDidUpdate:function(){this.synchronizeWidths()},componentDidMount:function(){var e=b.getStyle(o.findDOMNode(this),["font-family","font-size"],!0);this.fontStyle={fontFamily:e[0],fontSize:e[1]};var t=o.findDOMNode(this.refs.dataCells),n=t.children[0],r=o.findDOMNode(this.refs.colHeaders),i=o.findDOMNode(this.refs.rowHeaders);this.refs.horizontalScrollBar.setScrollClient(t,function(e){var o=Math.ceil(e*(b.getSize(n).width-b.getSize(t).width));r.scrollLeft=o,t.scrollLeft=o}),this.refs.verticalScrollBar.setScrollClient(t,function(e){var r=Math.ceil(e*(b.getSize(n).height-b.getSize(t).height));i.scrollTop=r,t.scrollTop=r}),this.synchronizeWidths()},onWheel:function(e){var t,n,r;e.currentTarget==(t=o.findDOMNode(this.refs.colHeaders))?(n=this.refs.horizontalScrollBar,r=e.deltaX||e.deltaY):(e.currentTarget==(t=o.findDOMNode(this.refs.rowHeaders))||e.currentTarget==(t=o.findDOMNode(this.refs.dataCells)))&&(n=this.refs.verticalScrollBar,r=e.deltaY),n&&n.scroll(r,e.deltaMode)&&(v.stopPropagation(e),v.preventDefault(e))},synchronizeWidths:function(){a.synchronizeWidths(this),this.refs.horizontalScrollBar.refresh(),this.refs.verticalScrollBar.refresh()},render:function(){var e=this,t=this.pgridwidget.pgrid.config,n=t.theme.getPivotClasses(),o={};return t.width&&(o.width=t.width),t.height&&(o.height=t.height),r.createElement("div",{className:n.container,style:o,ref:"pivot"},t.toolbar&&t.toolbar.visible?r.createElement("div",{ref:"toolbar",className:"orb-toolbar"},r.createElement(s,{pivotTableComp:e})):null,r.createElement("table",{id:"tbl-"+e.id,ref:"pivotWrapperTable",className:n.table,style:{tableLayout:"fixed"}},r.createElement("colgroup",null,r.createElement("col",{ref:"column1"}),r.createElement("col",{ref:"column2"}),r.createElement("col",{ref:"column3"}),r.createElement("col",{ref:"column4"})),r.createElement("tbody",null,r.createElement("tr",{ref:"upperButtons"},r.createElement("td",{colSpan:"4"},r.createElement(l,{pivotTableComp:e}))),r.createElement("tr",{ref:"colButtons"},r.createElement("td",null),r.createElement("td",{style:{padding:"11px 4px !important"}},r.createElement(u,{pivotTableComp:e})),r.createElement("td",{colSpan:"2"})),r.createElement("tr",null,r.createElement("td",{style:{position:"relative"}},r.createElement(c,{pivotTableComp:e,ref:"rowButtons"})),r.createElement("td",null,r.createElement(p,{pivotTableComp:e,ref:"colHeaders"})),r.createElement("td",{colSpan:"2"})),r.createElement("tr",null,r.createElement("td",null,r.createElement(d,{pivotTableComp:e,ref:"rowHeaders"})),r.createElement("td",null,r.createElement(f,{pivotTableComp:e,ref:"dataCells"})),r.createElement("td",null,r.createElement(m,{pivotTableComp:e,ref:"verticalScrollBar"})),r.createElement("td",null)),r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null,r.createElement(g,{pivotTableComp:e,ref:"horizontalScrollBar"})),r.createElement("td",{colSpan:"2"})))),r.createElement("div",{className:"orb-overlay orb-overlay-hidden",id:"drilldialog"+e.id}))}})},{"../orb.utils":53,"../orb.utils.dom":52,"./orb.react.DragManager.jsx":56,"./orb.react.PivotTable.ColumnButtons.jsx":67,"./orb.react.PivotTable.ColumnHeaders.jsx":68,"./orb.react.PivotTable.DataCells.jsx":69,"./orb.react.PivotTable.RowButtons.jsx":70,"./orb.react.PivotTable.RowHeaders.jsx":71,"./orb.react.PivotTable.SizingManager.jsx":72,"./orb.react.PivotTable.UpperButtons.jsx":73,"./orb.react.ScrollBars.jsx":75,"./orb.react.Toolbar.jsx":76,react:"react","react-dom":"react-dom"}],75:[function(e,t,n){function r(e){var t=this;this.scrollBarComp=e,this.callback=null,this.raise=function(){t.callback&&t.callback(t.scrollBarComp.getScrollPercent())}}var o="undefined"==typeof window?e("react"):window.React,i="undefined"==typeof window?e("react-dom"):window.ReactDOM,a=e("../orb.utils"),s=e("../orb.utils.dom"),l={scrollEvent:null,scrollClient:null,getInitialState:function(){return{size:16,mousedown:!1,thumbOffset:0}},componentDidMount:function(){this.scrollEvent=new r(this)},componentDidUpdate:function(){this.state.mousedown?this.state.mousedown&&(a.addEventListener(document,"mousemove",this.onMouseMove),a.addEventListener(document,"mouseup",this.onMouseUp)):(a.removeEventListener(document,"mousemove",this.onMouseMove),a.removeEventListener(document,"mouseup",this.onMouseUp))},componentWillUnmount:function(){a.removeEventListener(document,"mousemove",this.onMouseMove),a.removeEventListener(document,"mouseup",this.onMouseUp)},onMouseDown:function(e){if(0===e.button){var t=this.refs.scrollThumb,n=s.getParentOffset(t),r=a.getMousePageXY(e);s.addClass(t,"orb-scrollthumb-hover"),this.setState({mousedown:!0,mouseoffset:r[this.mousePosProp],thumbOffset:n[this.posProp]}),a.stopPropagation(e),a.preventDefault(e)}},onMouseUp:function(){if(this.state.mousedown){var e=this.refs.scrollThumb;s.removeClass(e,"orb-scrollthumb-hover")}this.setState({mousedown:!1})},onMouseMove:function(e){if(this.state.mousedown){a.stopPropagation(e),a.preventDefault(e);var t=a.getMousePageXY(e),n=t[this.mousePosProp]-this.state.mouseoffset;this.state.mouseoffset=t[this.mousePosProp],this.scroll(n)}},getScrollSize:function(){return null!=this.scrollClient?s.getSize(this.scrollClient)[this.sizeProp]:s.getSize(i.findDOMNode(this))[this.sizeProp]},setScrollClient:function(e,t){this.scrollClient=e,this.scrollEvent.callback=t},getScrollPercent:function(){var e=this.getScrollSize()-this.state.size;return 0>=e?0:this.state.thumbOffset/e},refresh:function(){if(this.scrollClient){var e=this.scrollClient.children[0],t=s.getSize(this.scrollClient),n=s.getSize(e),r=this.getScrollSize(),o=t[this.sizeProp]>=n[this.sizeProp]?0:t[this.sizeProp]/n[this.sizeProp]*r;this.setState({containerSize:r,size:o,thumbOffset:Math.min(this.state.thumbOffset,r-o)},this.scrollEvent.raise)}},scroll:function(e,t){if(this.state.size>0){1==t&&(e*=8);var n=this.getScrollSize()-this.state.size,r=this.state.thumbOffset+e;if(0>r&&(r=0),r>n&&(r=n),this.state.thumbOffset!=r)return this.setState({thumbOffset:r},this.scrollEvent.raise),!0}return!1},onWheel:function(e){this.scroll(e.deltaY,e.deltaMode),a.stopPropagation(e),a.preventDefault(e)},render:function(){var e={padding:0};e[this.sizeProp]=this.state.size,e[this.offsetCssProp]=this.state.thumbOffset;var t={};t[this.sizeProp]=this.state.containerSize;var n="orb-scrollthumb "+this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().scrollBar,r=this.state.size<=0?null:o.createElement("div",{className:n,style:e,ref:"scrollThumb",onMouseDown:this.onMouseDown});return o.createElement("div",{className:this.cssClass,style:t,onWheel:this.onWheel},r)}};t.exports.HorizontalScrollBar=o.createClass({displayName:"HorizontalScrollBar",mixins:[l],posProp:"x",mousePosProp:"pageX",sizeProp:"width",offsetCssProp:"left",cssClass:"orb-h-scrollbar"}),t.exports.VerticalScrollBar=o.createClass({displayName:"VerticalScrollBar",mixins:[l],posProp:"y",mousePosProp:"pageY",sizeProp:"height",offsetCssProp:"top",cssClass:"orb-v-scrollbar"})},{"../orb.utils":53,"../orb.utils.dom":52,react:"react","react-dom":"react-dom"}],76:[function(e,t,n){var r="undefined"==typeof window?e("react"):window.React,o=e("../orb.axe"),i=e("../orb.utils.dom");t.exports=r.createClass({displayName:"exports",_toInit:[],componentDidMount:function(){for(var e=0;e<this._toInit.length;e++){var t=this._toInit[e];t.init(this.props.pivotTableComp,this.refs[t.ref])}},componentDidUpdate:function(){for(var e=0;e<this._toInit.length;e++){var t=this._toInit[e];t.init(this.props.pivotTableComp,this.refs[t.ref])}},createCallback:function(e){if(null!=e){var t=this.props.pivotTableComp;return function(n){e(t,n.target||n.srcElement)}}return null},render:function(){var e=this.props.pivotTableComp.pgridwidget.pgrid.config;if(e.toolbar&&e.toolbar.visible){for(var t=e.toolbar.buttons?s.buttons.concat(e.toolbar.buttons):s.buttons,n=[],o=0;o<t.length;o++){var i=t[o],a="btn"+o;"separator"==i.type?n.push(r.createElement("div",{key:o,className:"orb-tlbr-sep"})):"label"==i.type?n.push(r.createElement("div",{key:o,className:"orb-tlbr-lbl"},i.text)):n.push(r.createElement("div",{key:o,className:"orb-tlbr-btn "+i.cssClass,title:i.tooltip,ref:a,onClick:this.createCallback(i.action)})),i.init&&this._toInit.push({ref:a,init:i.init})}return r.createElement("div",null,n)}return r.createElement("div",null)}});var a=e("../orb.export.excel"),s={exportToExcel:function(e,t){var n=document.createElement("a");n.download="orbpivotgrid.xls",n.href=a(e.props.pgridwidget),document.body.appendChild(n),n.click(),document.body.removeChild(n)},expandAllRows:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.ROWS,null,!0)},collapseAllRows:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.ROWS,null,!1)},expandAllColumns:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.COLUMNS,null,!0)},collapseAllColumns:function(e,t){e.pgridwidget.toggleFieldExpansion(o.Type.COLUMNS,null,!1)},updateSubtotalsButton:function(e,t,n){var r=t.pgridwidget.areSubtotalsVisible(e);n.style.display=null===r?"none":"";var o="",a="";r?(o="subtotals-visible",a="subtotals-hidden"):(o="subtotals-hidden",a="subtotals-visible"),i.removeClass(n,a),i.addClass(n,o)},initSubtotals:function(e){var t=this;return function(n,r){t.updateSubtotalsButton(e,n,r)}},toggleSubtotals:function(e){var t=this;return function(n,r){n.toggleSubtotals(e),t.updateSubtotalsButton(e,n,r)}},updateGrandtotalButton:function(e,t,n){var r=t.pgridwidget.isGrandtotalVisible(e);n.style.display=null===r?"none":"";var o="",a="";r?(o="grndtotal-visible",a="grndtotal-hidden"):(o="grndtotal-hidden",a="grndtotal-visible"),i.removeClass(n,a),i.addClass(n,o)},initGrandtotal:function(e){var t=this;return function(n,r){t.updateGrandtotalButton(e,n,r)}},toggleGrandtotal:function(e){var t=this;return function(n,r){n.toggleGrandtotal(e),t.updateGrandtotalButton(e,n,r)}}};s.buttons=[{type:"label",text:"Rows:"},{type:"button",tooltip:"Expand all rows",cssClass:"expand-all",action:s.expandAllRows},{type:"button",tooltip:"Collapse all rows",cssClass:"collapse-all",action:s.collapseAllRows},{type:"button",tooltip:"Toggle rows sub totals",init:s.initSubtotals(o.Type.ROWS),action:s.toggleSubtotals(o.Type.ROWS)},{type:"button",tooltip:"Toggle rows grand total",init:s.initGrandtotal(o.Type.ROWS),action:s.toggleGrandtotal(o.Type.ROWS)},{type:"separator"},{type:"label",text:"Columns:"},{type:"button",tooltip:"Expand all columns",cssClass:"expand-all",action:s.expandAllColumns},{type:"button",tooltip:"Collapse all columns",cssClass:"collapse-all",action:s.collapseAllColumns},{type:"button",tooltip:"Toggle columns sub totals",init:s.initSubtotals(o.Type.COLUMNS),action:s.toggleSubtotals(o.Type.COLUMNS)},{type:"button",tooltip:"Toggle columns grand total",init:s.initGrandtotal(o.Type.COLUMNS),action:s.toggleGrandtotal(o.Type.COLUMNS)},{type:"separator"},{type:"label",text:"Export:"},{type:"button",tooltip:"Export to Excel",cssClass:"export-xls",action:s.exportToExcel}]},{"../orb.axe":36,"../orb.export.excel":39,"../orb.utils.dom":52,react:"react"}]},{},[41])(41)});
//# sourceMappingURL=orb.min.js.map

//# sourceMappingURL=orb-1.1.0.min.js.map
