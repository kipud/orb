{"version":3,"sources":["orb.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","orb","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_dereq_","default","__esModule","core-js/library/fn/json/stringify",2,"core-js/library/fn/symbol",3,"_interopRequireDefault","obj","_typeof","_Symbol","constructor","_symbol","_symbol2","../core-js/symbol",4,"core","it","JSON","stringify","apply","arguments","../../modules/$.core",5,"Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol",6,"TypeError",7,"isObject","./$.is-object",8,"toString","slice",9,"version","__e",10,"aFunction","fn","that","undefined","b","c","./$.a-function",11,12,"Object","defineProperty","get","./$.fails",13,"$","keys","getKeys","getSymbols","key","symbols","isEnum","push","./$",14,"ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","target","C","param","Function","./$.core","./$.ctx","./$.global",15,"exec",16,"toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject",17,"Math","__g",18,"hasOwnProperty",19,"createDesc","object","value","setDesc","./$.descriptors","./$.property-desc",20,"cof","propertyIsEnumerable","split","./$.cof",21,"Array","isArray","arg",22,23,"$Object","create","getProto","getPrototypeOf","getDesc","getOwnPropertyDescriptor","setDescs","defineProperties","getOwnPropertySymbols","each","forEach",24,"el","O","index",25,26,"bitmap","enumerable","configurable","writable",27,"./$.hide",28,"def","has","TAG","tag","stat","prototype","./$.has","./$.wks",29,"SHARED","store",30,"IObject","defined","./$.defined","./$.iobject",31,"id","px","random","concat",32,"uid","./$.shared","./$.uid",33,34,"DESCRIPTORS","redefine","$fails","shared","setToStringTag","wks","keyOf","$names","enumKeys","anObject","_create","$Symbol","$JSON","_stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","D","protoDesc","wrap","sym","_k","set","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","result","$getOwnPropertySymbols","$stringify","replacer","$replacer","args","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.an-object","./$.enum-keys","./$.export","./$.get-names","./$.is-array","./$.keyof","./$.library","./$.redefine","./$.set-to-string-tag",35,"calcVariance","datafield","intersection","datasource","population","variance","avg","len","forEachIntersection","val","NaN","callback","all","Aggregations","toAggregateFunc","func","sum","count","min","max","prod","stdev","sqrt","stdevp","var","varp",36,"utils","Dimension","AxeType","COLUMNS","ROWS","DATA","pgrid","getfieldindex","field","fields","fill","filteredDataSource","dimensionsCount","rowIndex","dataLength","row","dim","root","findex","depth","subfield","subvalue","subdimvals","values","dimid","rowIndexes","dimensionsByDepth","config","columnFields","rowFields","dataFields","update","ffield","sort","order","donottoggle","parents","customfunc","reverse","flattenValues","map","currDim","isRoot","parent","Type","./orb.dimension","./orb.utils",37,"getpropertyvalue","property","configs","defaultvalue","mergefieldconfigs","merged","sorts","subtotals","functions","nnconfig","subTotal","aggregateFuncName","aggregateFunc","formatFunc","headerFunc","createfield","rootconfig","axetype","fieldconfig","defaultfieldconfig","axeconfig","fieldAxeconfig","axe","rowSettings","columnSettings","dataSettings","Field","caption","visible","collapsible","collapsed","aggregation","isMeasurement","isDimension","GrandTotalConfig","options","rowsvisible","columnsvisible","SubTotalConfig","setdefaults","defaults","SortConfig","ChartConfig","enabled","filtering","themeManager","createSubOptions","defaultFormatFunc","_aggregatefunc","_formatfunc","isString","ensureFieldConfig","captionToName","getfield","axefields","fieldname","fieldindex","fi","dataSource","canMoveFields","dataHeadersLocation","grandTotal","width","height","toolbar","theme","chartMode","hideFilters","hideFuncNames","hideRowDialog","current","dataSourceFieldNames","dataSourceFieldCaptions","fcaptionIndex","indexOf","nameToCaption","fnameIndex","setTheme","newTheme","allFields","rows","columns","data","dataFieldsCount","runtimeVisibility","getField","getRowField","getColumnField","getDataField","availablefields","filter","notequalfield","otherfield","every","getDataSourceFieldCaptions","row0","fieldNames","ownProperties","headers","getPreFilters","prefilters","preFilters","filteredField","prefilterConfig","expressionFilter","opname","moveField","oldaxetype","newaxetype","position","oldaxe","oldposition","newaxe","fieldConfig","defaultFieldConfig","newAxeSubtotalsState","areSubtotalsVisible","splice","toggleSubtotals","axeFields","newState","toggleGrandtotal","isGrandtotalVisible","./orb.aggregation","./orb.axe","./orb.filtering","./orb.themes",38,"isLeaf","getRowIndexes","j",39,"uiheaders","uriHeader","docHeader","docFooter","pgridwidget","createButtonCell","buttonStyle","buttonTextColor","createButtons","buttons","cellsCountBefore","cellsCountAfter","prefix","str","reduce","tr","toBase64","btoa","unescape","encodeURIComponent","currTheme","override","themeColor","themes","themeFadeout","fadeoutColor","headerStyle","cellsHorizontalCount","layout","pivotTable","sep","rowHeaders","columnHeaders","currRow","rowStr","header","HeaderType","DATA_HEADER","hspan","vspan","rowHeadersAndDataCells","dataRow","dataRows","dataCell","./orb.ui.header",40,"ALL","NONE","BLANK","operator","term","staticValue","excludeStatic","ops","regexpMode","regexpSupported","isRegExp","ignoreCase","RegExp","test","found","isAlwaysTrue","Operators","MATCH","NOTMATCH","EQ","NEQ","GT","GTE","LT","LTE","search",41,"query","./orb.export.excel","./orb.pgrid","./orb.query","./orb.ui.pgridwidget",42,"PubSub","configuration","refresh","refreshFilters","refreshFilteredDataSource","computeValues","publish","EVENT_UPDATED","filterFields","filters","exclude","fieldFilter","computeValue","colIndexes","origRowIndexes","res","ri","rowindex","colrowindex","emptyIntersection","datafields","fieldnameIndex","datafieldIndex","defaultfield","dfi","computeRowValues","rowDim","rid","_iCache","p","rowindexes","subdim","cid","ur","vr","dataMatrix","EVENT_SORT_CHANGED","applyFilter","refreshData","EVENT_CONFIG_CHANGED","getFieldValues","filterFunc","values1","containsBlank","isNumber","isDate","vi","unshift","getFieldFilter","isFieldFiltered","getData","rowdim","coldim","datafieldName","calcAggregation","getChartData","getAxisLabel","axisFields","ti","hAxisLabel","vAxisLabel","legendsLabel","rowLeafDimensions","colLeafDimensions","ci","cdim","currData","rri","title","colNames","d","dataTable","./orb.config","./orb.pubsub",43,"_topics","subscribe","topic","isFunction",44,"_typeof2","_typeof3","queryBase","extractResult","aggs","outerArgs","multi","ai","multiFieldNames","getCaptionName","datafieldname","measureFunc","fieldsConfig","cleanOptions","compute","setDefaultAggFunctions","valname","aggFunctions","funcIndex","funcName","pgridQuery","filterDimensions","upperDims","some","upperDim","innerArgs","opts","setup","parameters","fIndex","colFields","df","dfname","dfcaption","applyFilters","sortedFilters","f1","f2","currAxe","filterIndex","filtered","rowdims","coldims","rdi","cdi","arrayQuery","array","setCaptionName","fname","fcaption","toAggregate","include","aggFunc","babel-runtime/helpers/typeof",45,"states","state",46,"isBootstrap","currentTheme","red","blue","green","orange","flower","gray","black","white","validateTheme","themeName","trim","getPivotClasses","container","table","getButtonClasses","pivotButton","orbButton","scrollBar","getFilterClasses","getGridClasses","getDialogClasses","classes","overlay","dialog","content","body","hexToRgb","hex","parseInt","rgbaToHex","rgba","matches","match","alpha","parseFloat","applyAlphaAndToHex","rgbaToHexA","floor","substr","color",47,"axeModel","isMultiDataFields","toggleFieldExpansion","hIndex","toToggle","allExpanded","SUB_TOTAL","expanded","collapse","expand",48,"axeUi","columnsAxe","generateLeafsHeaders","pushsubtotal","pheader","leafsHeaders","subtotalHeader","infos","currparent","prevpar","grandpar","prevgrandpar","leafIndex","datafieldindex","dataHeader","getUiInfo","pi","parentDim","di","build","GRAND_TOTAL","INNER","./orb.ui.axe",49,"CellBase","template","cssclass","isvisible","getState","setState","EMPTY","DATA_VALUE","FIELD_BUTTON","WRAPPER","getHeaderClass","headerType","getCellClass","rowHeaderType","colHeaderType","datafieldscount","isParentExpanded","hparent","isexpanded","par","calcSpan","ignoreVisibility","subSpan","tspan","addone","isRowsAxe","subheaders","subheader","rowinfo","colinfo","rowDimension","columnDimension","rowType","colType","buttonCell","emptyCell","_hspan","_vspan","./orb.state",50,"ReactDOM","uirows","uicols","Dialog","PivotChart","PivotTable","Grid","init","buildUiAndRender","buildUi","createVisibleFunc","rowvisible","colvisible","rowsHeaders","columnsLeafHeaders","arr","rowHeadersRow","rowLeafHeader","colHeaderIndex","columnLeafHeader","render","renderElement","pivotComponent","expandRow","cell","collapseRow","oldAxeType","newAxeType","axeToExpand","changeTheme","element","pivotTableFactory","React","createFactory","pivottable","unmount","unmountComponentAtNode","drilldown","pivotId","show","comp","props","style","fontStyle","./orb.ui.cols","./orb.ui.rows","./react/orb.react.Dialog.jsx","./react/orb.react.Grid.jsx","./react/orb.react.PivotChart.jsx","./react/orb.react.PivotTable.jsx","react-dom",51,"rowsAxe","addDataHeaders","lastInfosArray","dimension","infosMaxIndex","valIndex","subTotalHeader","newHeader","grandtotalHeader","lastrow",52,"replaceHyphenByUcase","replace","reHyphenToUcase","m","m1","toUpperCase","removeClass","classname","className","addClass","getOffset","rect","getBoundingClientRect","x","left","y","top","getParentOffset","rectParent","parentNode","getSize","right","bottom","getStyle","styleProps","keepString","currStyle","fixProp","currentStyle","prop","getComputedStyle","getPropertyValue","ceil","isVisible","display","offsetWidth","offsetHeight","updateTableColGroup","tableNode","widths","colGroupNode","firstChild","nodeName","tableLayout","removeChild","col","document","createElement","appendChild",53,"_stringify2","ns","identifier","parts","list","forceContinue","ret","escapeRegex","re","findInArray","predicate","item","jsonStringify","censorKeywords","censor","addEventListener","eventName","handler","attachEvent","removeEventListener","detachEvent","preventDefault","event","returnValue","stopPropagation","cancelBubble","getEventButton","button","getMousePageXY","pageX","pageY","clientX","scrollLeft","documentElement","clientY","scrollTop","InvalidCharacterError","message","chars","input","block","charCode","String","idx","output","charAt","charCodeAt","atob","bs","buffer","bc","fromCharCode","babel-runtime/core-js/json/stringify",54,"createClass","displayName","getInitialState","canRender","google","visualization","drawChart","chartData","pivotTableComp","DataTable","addColumn","addRows","fontName","chartStyle","fontFamily","fontSize","hAxis","vAxis","chart","findDOMNode","draw","componentDidMount","componentDidUpdate","react",55,"createOverlay","overlayElement","statics","dialogFactory","setOverlayClass","close","dialogElement","children","dialogBodyElement","screenWidth","clientWidth","innerWidth","screenHeight","clientHeight","innerHeight","maxHeight","dWidth","dHeight","srcElement","onClick","../orb.utils",56,"doElementsOverlap","elem1Rect","elem2Rect","setCurrDropTarget","dropTarget","_currDropTarget","signalDragEnd","signalDragOver","setCurrDropIndicator","dropIndicator","_currDropIndicator","onDragOver","onDragEnd","_pivotComp","_currDragElement","_dragNode","_dropTargets","_dropIndicators","_initialized","pivotComp","setDragElement","elem","prevDragElement","moveButton","component","registerTarget","dragOverHandler","dargEndHandler","unregisterTarget","tindex","registerIndicator","indicator","unregisterIndicator","iindex","elementMoved","foundTarget","dragNodeRect","tnodeRect","isOverlap","foundIndicator","elementOwnIndicator","targetIndicator","axeIndicators",57,"DragManager","isover","componentWillUnmount","isMounted","isVertical","isFirst","isLast","./orb.react.DragManager.jsx",58,"DropIndicator","dtid","setTR","dropTargetTableStyle","../orb.axe","./orb.react.DropIndicator.jsx",59,"currButton",60,"openOrClose","valueNode","refs","valueElement","valuesListNode","valuesList","onMouseEnter","backgroundPosition","onMouseLeave","selectValue","listNode","isli","textContent","onValueChanged","dangerouslySetInnerHTML","__html","ref","selectedValue",61,"FilterManager","reactComp","initialFilterObject","checkboxVisible","checkbox","applyInitialFilterObject","staticInfos","toExclude","isSearchMode","toggleRegexpButtonVisibility","isRegexMode","toggleRegexpButtonState","lastSearchTerm","elems","searchBox","applyFilterTerm","savedCheckedValues","updateCheckboxes","updateAllCheckbox","addEventListeners","filterContainer","valueChecked","searchChanged","clearSearchButton","clearSearchBox","okButton","checkedObj","getCheckedValues","onFilter","cancelButton","destroy","ResizeManager","outerContainerElem","valuesTableElem","resizeGripElem","minContainerWidth","minContainerHeight","mousedownpos","isMouseDown","resizeMouseDown","mousePageXY","cursor","resizeMouseUp","resizeMouseMove","resizeGripSize","outerContainerSize","valuesTableSize","tBodies","outerContainerWidth","outerContainerHeight","offset","newContainerWidth","newContainerHeight","resizeManager","INDETERMINATE","checkboxes","operatorBox","allCheckbox","addCheckbox","enableRegexButton","resizeGrip","filterContainerElement","cells","blanckCheckbox","onOperatorChanged","newOperator","regexpActiveChanged","domUtils","checked","defaultVisible","opterm","previousIsSearchMode","indeterminate","valuesCount","checkedCount","excludeUnchecked","checkedList","allchecked","valInList","Dropdown","filterManager","onMouseDown","onMouseWheel","valuesTable","scrollHeight","componentWillMount","addCheckboxRow","text","defaultChecked","buttonClass","currentFilter","placeholder","clearFilter","colSpan","float","../orb.filtering","../orb.utils.dom","./orb.react.Dropdown.jsx",62,"tableClasses","headerRow","h",63,"FilterPanel","pbid","pos","startpos","mousedown","dragging","onFilterMouseDown","filterButton","filterButtonPos","filterPanelFactory","filterPanel","onMouseMove","registerThemeChanged","updateClasses","unregisterThemeChanged","ctrlKey","thispos","mouseoffset","onMouseUp","isdragged","size","newpos","_this","divstyle","marginTop","zIndex","sortDirectionClass","filterClass","btnTypeClass","fieldAggFunc","./orb.react.FilterPanel.jsx",64,"getClassname","compProps","leftmost","topmost","_paddingLeft","_borderLeft","updateCellInfos","node","__orb","cellContentNode","cellContent","propList","retPaddingLeft","retBorderLeft","innerText","nodeStyle","_visible","_lastText","_textWidth","_colSpan","_rowSpan","_paddingRight","_borderLeftWidth","_borderRightWidth","shouldComponentUpdate","nextProps","nextState","_latestVisibleState","cellClick","divcontent","headerPushed","isWrapper","isSubtotal","headerClassName","onDoubleClick","rowSpan","../orb.ui.header",65,"SizingManager","UpperButtons","ColumnButtons","RowButtons","Chart","themeChangeCallbacks","compCallback","thisnode","synchronizeWidths","fontInfos","tblStyle","padding","./orb.react.Chart.jsx","./orb.react.PivotTable.ColumnButtons.jsx","./orb.react.PivotTable.RowButtons.jsx","./orb.react.PivotTable.SizingManager.jsx","./orb.react.PivotTable.UpperButtons.jsx","./orb.react.Toolbar.jsx",66,"PivotCell","leftmostCellFound","layoutInfos","rowstyle","istopmost","isleftmost","topMostCells","lastLeftMostCellVSpan","./orb.react.PivotCell.jsx",67,"PivotButton","DropTarget","columnButtons","./orb.react.DropTarget.jsx","./orb.react.PivotButton.jsx",68,"PivotRow","cntrClass","onWheel","./orb.react.PivotRow.jsx",69,"dataCells",70,"DropTargetVertical","rowButtons","./orb.react.DropTargetVertical.jsx",71,"setColGroup","colgroup","innerHTML",72,"ComponentSizeInfo","childType","w","setStyle","styleProp","setParentStyle","getLargestWidths","otherCompInfo","total","colWidths","addToWidth","getAllColumnsWidth","tblObject","tbl","arrayIndex","currWidth","cellIndex","currCell","cellwidth","cspan","inhibit","synchronizePivotChartWidths","synchronizePivotTableWidths","pivotWrapperTable","pivot","topBtns","upperButtons","cBtns","colButtons","rBtnsTbl","rBtnsWidth","chartWidth","pivotHeight","chartHeight","cHeadersTbl","colHeaders","rHeadersTbl","dataCellsTbl","hScroll","horizontalScrollBar","vScroll","verticalScrollBar","dataCellsWidths","rHeadersWidth","dataCellsContainerWidth","dataCellsRemHeight","dataCellsTableHeight",73,"fieldsDropTarget","fieldsButtons","dataButtons","dataDropTarget",74,"Toolbar","RowHeaders","ColumnHeaders","DataCells","ScrollBars","HorizontalScrollBar","VerticalScrollBar","dataCellsNode","dataCellsTableNode","colHeadersNode","rowHeadersNode","setScrollClient","scrollPercent","scrollAmount","scrollbar","amount","currentTarget","deltaX","deltaY","scroll","deltaMode","./orb.react.PivotTable.ColumnHeaders.jsx","./orb.react.PivotTable.DataCells.jsx","./orb.react.PivotTable.RowHeaders.jsx","./orb.react.ScrollBars.jsx",75,"ScrollEvent","scrollBarComp","raise","getScrollPercent","scrollBarMixin","scrollEvent","scrollClient","thumbOffset","thumbElem","scrollThumb","thumbposInParent","mousePosProp","posProp","getScrollSize","sizeProp","scrollCallback","maxOffset","scrolledElement","clientSize","elementSize","scrollBarContainerSize","newSize","containerSize","mode","newOffset","thumbStyle","offsetCssProp","thisStyle","thumbClass","cssClass","mixins",76,"_toInit","btn","createCallback","action","pgridComponent","configButtons","defaultToolbarConfig","btnConfig","refName","tooltip","excelExport","exportToExcel","download","href","click","expandAllRows","collapseAllRows","expandAllColumns","collapseAllColumns","updateSubtotalsButton","subTotalsState","classToAdd","classToRemove","initSubtotals","updateGrandtotalButton","initGrandtotal","../orb.export.excel"],"mappings":"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","file":"orb-1.1.0.min.js","sourcesContent":["/**\n * orb v1.1.0, Pivot table javascript library.\n *\n * Copyright (c) 2014-2016 Najmeddine Nouri <devnajm@gmail.com>.\n *\n * @version v1.1.0\n * @link http://orbjs.net/\n * @license MIT\n */\n\n/* global module, require, define, window, document, global, React */\n/*jshint node: true, eqnull: true*/\n\n'use strict';\n(function(f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f()\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f)\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window\n    } else if (typeof global !== \"undefined\") {\n      g = global\n    } else if (typeof self !== \"undefined\") {\n      g = self\n    } else {\n      g = this\n    }\n    g.orb = f()\n  }\n})(function() {\n  var define, module, exports;\n  return (function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a) return a(o, !0);\n          if (i) return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f\n        }\n        var l = n[o] = {\n          exports: {}\n        };\n        t[o][0].call(l.exports, function(e) {\n          var n = t[o][1][e];\n          return s(n ? n : e)\n        }, l, l.exports, e, t, n, r)\n      }\n      return n[o].exports\n    }\n    var i = typeof require == \"function\" && require;\n    for (var o = 0; o < r.length; o++) s(r[o]);\n    return s\n  })({\n    1: [function(_dereq_, module, exports) {\n      module.exports = {\n        \"default\": _dereq_(\"core-js/library/fn/json/stringify\"),\n        __esModule: true\n      };\n    }, {\n      \"core-js/library/fn/json/stringify\": 4\n    }],\n    2: [function(_dereq_, module, exports) {\n      module.exports = {\n        \"default\": _dereq_(\"core-js/library/fn/symbol\"),\n        __esModule: true\n      };\n    }, {\n      \"core-js/library/fn/symbol\": 5\n    }],\n    3: [function(_dereq_, module, exports) {\n\n      exports.__esModule = true;\n\n      var _symbol = _dereq_(\"../core-js/symbol\");\n\n      var _symbol2 = _interopRequireDefault(_symbol);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _typeof(obj) {\n        return obj && typeof _Symbol !== \"undefined\" && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n      }\n\n      exports.default = function(obj) {\n        return obj && typeof _symbol2.default !== \"undefined\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n      };\n    }, {\n      \"../core-js/symbol\": 2\n    }],\n    4: [function(_dereq_, module, exports) {\n      var core = _dereq_('../../modules/$.core');\n      module.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n        return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n      };\n    }, {\n      \"../../modules/$.core\": 9\n    }],\n    5: [function(_dereq_, module, exports) {\n      _dereq_('../../modules/es6.symbol');\n      _dereq_('../../modules/es6.object.to-string');\n      module.exports = _dereq_('../../modules/$.core').Symbol;\n    }, {\n      \"../../modules/$.core\": 9,\n      \"../../modules/es6.object.to-string\": 33,\n      \"../../modules/es6.symbol\": 34\n    }],\n    6: [function(_dereq_, module, exports) {\n      module.exports = function(it) {\n        if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n        return it;\n      };\n    }, {}],\n    7: [function(_dereq_, module, exports) {\n      var isObject = _dereq_('./$.is-object');\n      module.exports = function(it) {\n        if (!isObject(it)) throw TypeError(it + ' is not an object!');\n        return it;\n      };\n    }, {\n      \"./$.is-object\": 22\n    }],\n    8: [function(_dereq_, module, exports) {\n      var toString = {}.toString;\n\n      module.exports = function(it) {\n        return toString.call(it).slice(8, -1);\n      };\n    }, {}],\n    9: [function(_dereq_, module, exports) {\n      var core = module.exports = {\n        version: '1.2.6'\n      };\n      if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n    }, {}],\n    10: [function(_dereq_, module, exports) {\n      // optional / simple context binding\n      var aFunction = _dereq_('./$.a-function');\n      module.exports = function(fn, that, length) {\n        aFunction(fn);\n        if (that === undefined) return fn;\n        switch (length) {\n          case 1:\n            return function(a) {\n              return fn.call(that, a);\n            };\n          case 2:\n            return function(a, b) {\n              return fn.call(that, a, b);\n            };\n          case 3:\n            return function(a, b, c) {\n              return fn.call(that, a, b, c);\n            };\n        }\n        return function() {\n          return fn.apply(that, arguments);\n        };\n      };\n    }, {\n      \"./$.a-function\": 6\n    }],\n    11: [function(_dereq_, module, exports) {\n      // 7.2.1 RequireObjectCoercible(argument)\n      module.exports = function(it) {\n        if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n        return it;\n      };\n    }, {}],\n    12: [function(_dereq_, module, exports) {\n      // Thank's IE8 for his funny defineProperty\n      module.exports = !_dereq_('./$.fails')(function() {\n        return Object.defineProperty({}, 'a', {\n          get: function() {\n            return 7;\n          }\n        }).a != 7;\n      });\n    }, {\n      \"./$.fails\": 15\n    }],\n    13: [function(_dereq_, module, exports) {\n      // all enumerable object keys, includes symbols\n      var $ = _dereq_('./$');\n      module.exports = function(it) {\n        var keys = $.getKeys(it),\n          getSymbols = $.getSymbols;\n        if (getSymbols) {\n          var symbols = getSymbols(it),\n            isEnum = $.isEnum,\n            i = 0,\n            key;\n          while (symbols.length > i)\n            if (isEnum.call(it, key = symbols[i++])) keys.push(key);\n        }\n        return keys;\n      };\n    }, {\n      \"./$\": 23\n    }],\n    14: [function(_dereq_, module, exports) {\n      var global = _dereq_('./$.global'),\n        core = _dereq_('./$.core'),\n        ctx = _dereq_('./$.ctx'),\n        PROTOTYPE = 'prototype';\n\n      var $export = function(type, name, source) {\n        var IS_FORCED = type & $export.F,\n          IS_GLOBAL = type & $export.G,\n          IS_STATIC = type & $export.S,\n          IS_PROTO = type & $export.P,\n          IS_BIND = type & $export.B,\n          IS_WRAP = type & $export.W,\n          exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),\n          target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE],\n          key, own, out;\n        if (IS_GLOBAL) source = name;\n        for (key in source) {\n          // contains in native\n          own = !IS_FORCED && target && key in target;\n          if (own && key in exports) continue;\n          // export native or passed\n          out = own ? target[key] : source[key];\n          // prevent global pollution for namespaces\n          exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n            // bind timers to global for call from export context\n            : IS_BIND && own ? ctx(out, global)\n            // wrap global constructors for prevent change them in library\n            : IS_WRAP && target[key] == out ? (function(C) {\n              var F = function(param) {\n                return this instanceof C ? new C(param) : C(param);\n              };\n              F[PROTOTYPE] = C[PROTOTYPE];\n              return F;\n              // make static versions for prototype methods\n            })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n          if (IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n        }\n      };\n      // type bitmap\n      $export.F = 1; // forced\n      $export.G = 2; // global\n      $export.S = 4; // static\n      $export.P = 8; // proto\n      $export.B = 16; // bind\n      $export.W = 32; // wrap\n      module.exports = $export;\n    }, {\n      \"./$.core\": 9,\n      \"./$.ctx\": 10,\n      \"./$.global\": 17\n    }],\n    15: [function(_dereq_, module, exports) {\n      module.exports = function(exec) {\n        try {\n          return !!exec();\n        } catch (e) {\n          return true;\n        }\n      };\n    }, {}],\n    16: [function(_dereq_, module, exports) {\n      // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n      var toIObject = _dereq_('./$.to-iobject'),\n        getNames = _dereq_('./$').getNames,\n        toString = {}.toString;\n\n      var windowNames = typeof window == 'object' && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\n      var getWindowNames = function(it) {\n        try {\n          return getNames(it);\n        } catch (e) {\n          return windowNames.slice();\n        }\n      };\n\n      module.exports.get = function getOwnPropertyNames(it) {\n        if (windowNames && toString.call(it) == '[object Window]') return getWindowNames(it);\n        return getNames(toIObject(it));\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.to-iobject\": 30\n    }],\n    17: [function(_dereq_, module, exports) {\n      // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n      var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n      if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n    }, {}],\n    18: [function(_dereq_, module, exports) {\n      var hasOwnProperty = {}.hasOwnProperty;\n      module.exports = function(it, key) {\n        return hasOwnProperty.call(it, key);\n      };\n    }, {}],\n    19: [function(_dereq_, module, exports) {\n      var $ = _dereq_('./$'),\n        createDesc = _dereq_('./$.property-desc');\n      module.exports = _dereq_('./$.descriptors') ? function(object, key, value) {\n        return $.setDesc(object, key, createDesc(1, value));\n      } : function(object, key, value) {\n        object[key] = value;\n        return object;\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.descriptors\": 12,\n      \"./$.property-desc\": 26\n    }],\n    20: [function(_dereq_, module, exports) {\n      // fallback for non-array-like ES3 and non-enumerable old V8 strings\n      var cof = _dereq_('./$.cof');\n      module.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it) {\n        return cof(it) == 'String' ? it.split('') : Object(it);\n      };\n    }, {\n      \"./$.cof\": 8\n    }],\n    21: [function(_dereq_, module, exports) {\n      // 7.2.2 IsArray(argument)\n      var cof = _dereq_('./$.cof');\n      module.exports = Array.isArray || function(arg) {\n        return cof(arg) == 'Array';\n      };\n    }, {\n      \"./$.cof\": 8\n    }],\n    22: [function(_dereq_, module, exports) {\n      module.exports = function(it) {\n        return typeof it === 'object' ? it !== null : typeof it === 'function';\n      };\n    }, {}],\n    23: [function(_dereq_, module, exports) {\n      var $Object = Object;\n      module.exports = {\n        create: $Object.create,\n        getProto: $Object.getPrototypeOf,\n        isEnum: {}.propertyIsEnumerable,\n        getDesc: $Object.getOwnPropertyDescriptor,\n        setDesc: $Object.defineProperty,\n        setDescs: $Object.defineProperties,\n        getKeys: $Object.keys,\n        getNames: $Object.getOwnPropertyNames,\n        getSymbols: $Object.getOwnPropertySymbols,\n        each: [].forEach\n      };\n    }, {}],\n    24: [function(_dereq_, module, exports) {\n      var $ = _dereq_('./$'),\n        toIObject = _dereq_('./$.to-iobject');\n      module.exports = function(object, el) {\n        var O = toIObject(object),\n          keys = $.getKeys(O),\n          length = keys.length,\n          index = 0,\n          key;\n        while (length > index)\n          if (O[key = keys[index++]] === el) return key;\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.to-iobject\": 30\n    }],\n    25: [function(_dereq_, module, exports) {\n      module.exports = true;\n    }, {}],\n    26: [function(_dereq_, module, exports) {\n      module.exports = function(bitmap, value) {\n        return {\n          enumerable: !(bitmap & 1),\n          configurable: !(bitmap & 2),\n          writable: !(bitmap & 4),\n          value: value\n        };\n      };\n    }, {}],\n    27: [function(_dereq_, module, exports) {\n      module.exports = _dereq_('./$.hide');\n    }, {\n      \"./$.hide\": 19\n    }],\n    28: [function(_dereq_, module, exports) {\n      var def = _dereq_('./$').setDesc,\n        has = _dereq_('./$.has'),\n        TAG = _dereq_('./$.wks')('toStringTag');\n\n      module.exports = function(it, tag, stat) {\n        if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, {\n          configurable: true,\n          value: tag\n        });\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.has\": 18,\n      \"./$.wks\": 32\n    }],\n    29: [function(_dereq_, module, exports) {\n      var global = _dereq_('./$.global'),\n        SHARED = '__core-js_shared__',\n        store = global[SHARED] || (global[SHARED] = {});\n      module.exports = function(key) {\n        return store[key] || (store[key] = {});\n      };\n    }, {\n      \"./$.global\": 17\n    }],\n    30: [function(_dereq_, module, exports) {\n      // to indexed object, toObject with fallback for non-array-like ES3 strings\n      var IObject = _dereq_('./$.iobject'),\n        defined = _dereq_('./$.defined');\n      module.exports = function(it) {\n        return IObject(defined(it));\n      };\n    }, {\n      \"./$.defined\": 11,\n      \"./$.iobject\": 20\n    }],\n    31: [function(_dereq_, module, exports) {\n      var id = 0,\n        px = Math.random();\n      module.exports = function(key) {\n        return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n      };\n    }, {}],\n    32: [function(_dereq_, module, exports) {\n      var store = _dereq_('./$.shared')('wks'),\n        uid = _dereq_('./$.uid'),\n        Symbol = _dereq_('./$.global').Symbol;\n      module.exports = function(name) {\n        return store[name] || (store[name] =\n          Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n      };\n    }, {\n      \"./$.global\": 17,\n      \"./$.shared\": 29,\n      \"./$.uid\": 31\n    }],\n    33: [function(_dereq_, module, exports) {\n\n    }, {}],\n    34: [function(_dereq_, module, exports) {\n\n      // ECMAScript 6 symbols shim\n      var $ = _dereq_('./$'),\n        global = _dereq_('./$.global'),\n        has = _dereq_('./$.has'),\n        DESCRIPTORS = _dereq_('./$.descriptors'),\n        $export = _dereq_('./$.export'),\n        redefine = _dereq_('./$.redefine'),\n        $fails = _dereq_('./$.fails'),\n        shared = _dereq_('./$.shared'),\n        setToStringTag = _dereq_('./$.set-to-string-tag'),\n        uid = _dereq_('./$.uid'),\n        wks = _dereq_('./$.wks'),\n        keyOf = _dereq_('./$.keyof'),\n        $names = _dereq_('./$.get-names'),\n        enumKeys = _dereq_('./$.enum-keys'),\n        isArray = _dereq_('./$.is-array'),\n        anObject = _dereq_('./$.an-object'),\n        toIObject = _dereq_('./$.to-iobject'),\n        createDesc = _dereq_('./$.property-desc'),\n        getDesc = $.getDesc,\n        setDesc = $.setDesc,\n        _create = $.create,\n        getNames = $names.get,\n        $Symbol = global.Symbol,\n        $JSON = global.JSON,\n        _stringify = $JSON && $JSON.stringify,\n        setter = false,\n        HIDDEN = wks('_hidden'),\n        isEnum = $.isEnum,\n        SymbolRegistry = shared('symbol-registry'),\n        AllSymbols = shared('symbols'),\n        useNative = typeof $Symbol == 'function',\n        ObjectProto = Object.prototype;\n\n      // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n      var setSymbolDesc = DESCRIPTORS && $fails(function() {\n        return _create(setDesc({}, 'a', {\n          get: function() {\n            return setDesc(this, 'a', {\n              value: 7\n            }).a;\n          }\n        })).a != 7;\n      }) ? function(it, key, D) {\n        var protoDesc = getDesc(ObjectProto, key);\n        if (protoDesc) delete ObjectProto[key];\n        setDesc(it, key, D);\n        if (protoDesc && it !== ObjectProto) setDesc(ObjectProto, key, protoDesc);\n      } : setDesc;\n\n      var wrap = function(tag) {\n        var sym = AllSymbols[tag] = _create($Symbol.prototype);\n        sym._k = tag;\n        DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n          configurable: true,\n          set: function(value) {\n            if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n            setSymbolDesc(this, tag, createDesc(1, value));\n          }\n        });\n        return sym;\n      };\n\n      var isSymbol = function(it) {\n        return typeof it == 'symbol';\n      };\n\n      var $defineProperty = function defineProperty(it, key, D) {\n        if (D && has(AllSymbols, key)) {\n          if (!D.enumerable) {\n            if (!has(it, HIDDEN)) setDesc(it, HIDDEN, createDesc(1, {}));\n            it[HIDDEN][key] = true;\n          } else {\n            if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n            D = _create(D, {\n              enumerable: createDesc(0, false)\n            });\n          }\n          return setSymbolDesc(it, key, D);\n        }\n        return setDesc(it, key, D);\n      };\n      var $defineProperties = function defineProperties(it, P) {\n        anObject(it);\n        var keys = enumKeys(P = toIObject(P)),\n          i = 0,\n          l = keys.length,\n          key;\n        while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n        return it;\n      };\n      var $create = function create(it, P) {\n        return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n      };\n      var $propertyIsEnumerable = function propertyIsEnumerable(key) {\n        var E = isEnum.call(this, key);\n        return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n      };\n      var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n        var D = getDesc(it = toIObject(it), key);\n        if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n        return D;\n      };\n      var $getOwnPropertyNames = function getOwnPropertyNames(it) {\n        var names = getNames(toIObject(it)),\n          result = [],\n          i = 0,\n          key;\n        while (names.length > i)\n          if (!has(AllSymbols, key = names[i++]) && key != HIDDEN) result.push(key);\n        return result;\n      };\n      var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n        var names = getNames(toIObject(it)),\n          result = [],\n          i = 0,\n          key;\n        while (names.length > i)\n          if (has(AllSymbols, key = names[i++])) result.push(AllSymbols[key]);\n        return result;\n      };\n      var $stringify = function stringify(it) {\n        if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n        var args = [it],\n          i = 1,\n          $$ = arguments,\n          replacer, $replacer;\n        while ($$.length > i) args.push($$[i++]);\n        replacer = args[1];\n        if (typeof replacer == 'function') $replacer = replacer;\n        if ($replacer || !isArray(replacer)) replacer = function(key, value) {\n          if ($replacer) value = $replacer.call(this, key, value);\n          if (!isSymbol(value)) return value;\n        };\n        args[1] = replacer;\n        return _stringify.apply($JSON, args);\n      };\n      var buggyJSON = $fails(function() {\n        var S = $Symbol();\n        // MS Edge converts symbol values to JSON as {}\n        // WebKit converts symbol values to JSON as null\n        // V8 throws on boxed symbols\n        return _stringify([S]) != '[null]' || _stringify({\n          a: S\n        }) != '{}' || _stringify(Object(S)) != '{}';\n      });\n\n      // 19.4.1.1 Symbol([description])\n      if (!useNative) {\n        $Symbol = function Symbol() {\n          if (isSymbol(this)) throw TypeError('Symbol is not a constructor');\n          return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n        };\n        redefine($Symbol.prototype, 'toString', function toString() {\n          return this._k;\n        });\n\n        isSymbol = function(it) {\n          return it instanceof $Symbol;\n        };\n\n        $.create = $create;\n        $.isEnum = $propertyIsEnumerable;\n        $.getDesc = $getOwnPropertyDescriptor;\n        $.setDesc = $defineProperty;\n        $.setDescs = $defineProperties;\n        $.getNames = $names.get = $getOwnPropertyNames;\n        $.getSymbols = $getOwnPropertySymbols;\n\n        if (DESCRIPTORS && !_dereq_('./$.library')) {\n          redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n        }\n      }\n\n      var symbolStatics = {\n        // 19.4.2.1 Symbol.for(key)\n        'for': function(key) {\n          return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n        },\n        // 19.4.2.5 Symbol.keyFor(sym)\n        keyFor: function keyFor(key) {\n          return keyOf(SymbolRegistry, key);\n        },\n        useSetter: function() {\n          setter = true;\n        },\n        useSimple: function() {\n          setter = false;\n        }\n      };\n      // 19.4.2.2 Symbol.hasInstance\n      // 19.4.2.3 Symbol.isConcatSpreadable\n      // 19.4.2.4 Symbol.iterator\n      // 19.4.2.6 Symbol.match\n      // 19.4.2.8 Symbol.replace\n      // 19.4.2.9 Symbol.search\n      // 19.4.2.10 Symbol.species\n      // 19.4.2.11 Symbol.split\n      // 19.4.2.12 Symbol.toPrimitive\n      // 19.4.2.13 Symbol.toStringTag\n      // 19.4.2.14 Symbol.unscopables\n      $.each.call((\n        'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n        'species,split,toPrimitive,toStringTag,unscopables'\n      ).split(','), function(it) {\n        var sym = wks(it);\n        symbolStatics[it] = useNative ? sym : wrap(sym);\n      });\n\n      setter = true;\n\n      $export($export.G + $export.W, {\n        Symbol: $Symbol\n      });\n\n      $export($export.S, 'Symbol', symbolStatics);\n\n      $export($export.S + $export.F * !useNative, 'Object', {\n        // 19.1.2.2 Object.create(O [, Properties])\n        create: $create,\n        // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n        defineProperty: $defineProperty,\n        // 19.1.2.3 Object.defineProperties(O, Properties)\n        defineProperties: $defineProperties,\n        // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n        getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n        // 19.1.2.7 Object.getOwnPropertyNames(O)\n        getOwnPropertyNames: $getOwnPropertyNames,\n        // 19.1.2.8 Object.getOwnPropertySymbols(O)\n        getOwnPropertySymbols: $getOwnPropertySymbols\n      });\n\n      // 24.3.2 JSON.stringify(value [, replacer [, space]])\n      $JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {\n        stringify: $stringify\n      });\n\n      // 19.4.3.5 Symbol.prototype[@@toStringTag]\n      setToStringTag($Symbol, 'Symbol');\n      // 20.2.1.9 Math[@@toStringTag]\n      setToStringTag(Math, 'Math', true);\n      // 24.3.3 JSON[@@toStringTag]\n      setToStringTag(global.JSON, 'JSON', true);\n    }, {\n      \"./$\": 23,\n      \"./$.an-object\": 7,\n      \"./$.descriptors\": 12,\n      \"./$.enum-keys\": 13,\n      \"./$.export\": 14,\n      \"./$.fails\": 15,\n      \"./$.get-names\": 16,\n      \"./$.global\": 17,\n      \"./$.has\": 18,\n      \"./$.is-array\": 21,\n      \"./$.keyof\": 24,\n      \"./$.library\": 25,\n      \"./$.property-desc\": 26,\n      \"./$.redefine\": 27,\n      \"./$.set-to-string-tag\": 28,\n      \"./$.shared\": 29,\n      \"./$.to-iobject\": 30,\n      \"./$.uid\": 31,\n      \"./$.wks\": 32\n    }],\n    35: [function(_dereq_, module, exports) {\n\n      var Aggregations = module.exports = {\n        toAggregateFunc: function toAggregateFunc(func) {\n          if (func) {\n            if (typeof func === 'string' && Aggregations[func]) {\n              return Aggregations[func];\n            } else if (typeof func === 'function') {\n              return func;\n            } else {\n              return Aggregations.sum;\n            }\n          } else {\n            return Aggregations.sum;\n          }\n        },\n        count: function count(datafield, intersection, datasource) {\n          return intersection === 'all' ? datasource.length : intersection.length;\n        },\n        sum: function sum(datafield, intersection, datasource) {\n          var sum = 0;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            sum += val;\n          });\n          return sum;\n        },\n        min: function min(datafield, intersection, datasource) {\n          var min = null;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            if (min == null || val < min) {\n              min = val;\n            }\n          });\n          return min;\n        },\n        max: function max(datafield, intersection, datasource) {\n          var max = null;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            if (max == null || val > max) {\n              max = val;\n            }\n          });\n          return max;\n        },\n        avg: function avg(datafield, intersection, datasource) {\n          var avg = 0;\n          var len = (intersection === 'all' ? datasource : intersection).length;\n          if (len > 0) {\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              avg += val;\n            });\n            avg /= len;\n          }\n          return avg;\n        },\n        prod: function prod(datafield, intersection, datasource) {\n          var prod;\n          var len = (intersection === 'all' ? datasource : intersection).length;\n          if (len > 0) {\n            prod = 1;\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              prod *= val;\n            });\n          }\n          return prod;\n        },\n        stdev: function stdev(datafield, intersection, datasource) {\n          return Math.sqrt(calcVariance(datafield, intersection, datasource, false));\n        },\n        stdevp: function stdevp(datafield, intersection, datasource) {\n          return Math.sqrt(calcVariance(datafield, intersection, datasource, true));\n        },\n        'var': function _var(datafield, intersection, datasource) {\n          return calcVariance(datafield, intersection, datasource, false);\n        },\n        varp: function varp(datafield, intersection, datasource) {\n          return calcVariance(datafield, intersection, datasource, true);\n        }\n      };\n\n      function calcVariance(datafield, intersection, datasource, population) {\n        var variance = 0;\n        var avg = 0;\n        var len = (intersection === 'all' ? datasource : intersection).length;\n        if (len > 0) {\n          if (population || len > 1) {\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              avg += val;\n            });\n            avg /= len;\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              variance += (val - avg) * (val - avg);\n            });\n            variance = variance / (population ? len : len - 1);\n          } else {\n            variance = NaN;\n          }\n        }\n        return variance;\n      }\n\n      function forEachIntersection(datafield, intersection, datasource, callback) {\n        var all = intersection === 'all';\n        intersection = all ? datasource : intersection;\n        if (intersection.length > 0) {\n          for (var i = 0; i < intersection.length; i++) {\n            callback((all ? intersection[i] : datasource[intersection[i]])[datafield]);\n          }\n        }\n      }\n\n    }, {}],\n    36: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var Dimension = _dereq_('./orb.dimension');\n\n      var AxeType = {\n        COLUMNS: 1,\n        ROWS: 2,\n        DATA: 3\n      };\n\n      module.exports = function(pgrid, type) {\n\n        var self = this;\n        var dimid = 0;\n\n        if (pgrid != null && pgrid.config != null) {\n\n\n          this.pgrid = pgrid;\n\n\n          this.type = type;\n\n\n          this.fields = function() {\n            switch (type) {\n              case AxeType.COLUMNS:\n                return self.pgrid.config.columnFields;\n              case AxeType.ROWS:\n                return self.pgrid.config.rowFields;\n              case AxeType.DATA:\n                return self.pgrid.config.dataFields;\n              default:\n                return [];\n            }\n          }();\n\n\n          this.dimensionsCount = null;\n\n\n          this.root = null;\n\n\n          this.dimensionsByDepth = null;\n\n          this.update = function() {\n            self.dimensionsCount = self.fields.length;\n            self.root = new Dimension(++dimid, null, null, null, self.dimensionsCount + 1, true);\n\n            self.dimensionsByDepth = {};\n            for (var depth = 1; depth <= self.dimensionsCount; depth++) {\n              self.dimensionsByDepth[depth] = [];\n            }\n\n            // fill data\n            fill();\n\n            // initial sort\n            for (var findex = 0; findex < self.fields.length; findex++) {\n              var ffield = self.fields[findex];\n              if (ffield.sort.order === 'asc' || ffield.sort.order === 'desc') {\n                self.sort(ffield, true);\n              }\n            }\n          };\n\n          this.sort = function(field, donottoggle) {\n            if (field != null) {\n              if (donottoggle !== true) {\n                if (field.sort.order !== 'asc') {\n                  field.sort.order = 'asc';\n                } else {\n                  field.sort.order = 'desc';\n                }\n              }\n\n              var depth = self.dimensionsCount - getfieldindex(field);\n              var parents = depth === self.dimensionsCount ? [self.root] : self.dimensionsByDepth[depth + 1];\n              for (var i = 0; i < parents.length; i++) {\n                if (field.sort.customfunc != null) {\n                  parents[i].values.sort(field.sort.customfunc);\n                } else {\n                  parents[i].values.sort();\n                }\n                if (field.sort.order === 'desc') {\n                  parents[i].values.reverse();\n                }\n              }\n            }\n          };\n\n          this.flattenValues = function() {\n            return self.dimensionsByDepth[1].map(function(dim) {\n              var name = '';\n              var currDim = dim;\n              while (!currDim.isRoot) {\n                name = currDim.value + (name !== '' ? '-' + name : '');\n                currDim = currDim.parent;\n              }\n              return {\n                name: name,\n                dim: dim\n              };\n            }).sort(function(a, b) {\n              if (a.name < b.name) return -1;\n              if (a.name > b.name) return 1;\n              return 0;\n            });\n          };\n        }\n\n        function getfieldindex(field) {\n          for (var i = 0; i < self.fields.length; i++) {\n            if (self.fields[i].name === field.name) {\n              return i;\n            }\n          }\n          return -1;\n        }\n\n\n        function fill() {\n\n          if (self.pgrid.filteredDataSource != null && self.dimensionsCount > 0) {\n\n            var datasource = self.pgrid.filteredDataSource;\n            if (datasource != null && utils.isArray(datasource) && datasource.length > 0) {\n              for (var rowIndex = 0, dataLength = datasource.length; rowIndex < dataLength; rowIndex++) {\n                var row = datasource[rowIndex];\n                var dim = self.root;\n                for (var findex = 0; findex < self.dimensionsCount; findex++) {\n                  var depth = self.dimensionsCount - findex;\n                  var subfield = self.fields[findex];\n                  var subvalue = row[subfield.name];\n                  var subdimvals = dim.subdimvals;\n\n                  if (subdimvals[subvalue] !== undefined) {\n                    dim = subdimvals[subvalue];\n                  } else {\n                    dim.values.push(subvalue);\n                    dim = new Dimension(++dimid, dim, subvalue, subfield, depth, false, findex == self.dimensionsCount - 1);\n                    subdimvals[subvalue] = dim;\n                    dim.rowIndexes = [];\n                    self.dimensionsByDepth[depth].push(dim);\n                  }\n\n                  dim.rowIndexes.push(rowIndex);\n                }\n              }\n            }\n          }\n        }\n      };\n\n      module.exports.Type = AxeType;\n\n    }, {\n      \"./orb.dimension\": 38,\n      \"./orb.utils\": 53\n    }],\n    37: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var axe = _dereq_('./orb.axe');\n      var aggregation = _dereq_('./orb.aggregation');\n      var filtering = _dereq_('./orb.filtering');\n      var themeManager = _dereq_('./orb.themes');\n\n      function getpropertyvalue(property, configs, defaultvalue) {\n        for (var i = 0; i < configs.length; i++) {\n          if (configs[i][property] != null) {\n            return configs[i][property];\n          }\n        }\n        return defaultvalue;\n      }\n\n      function mergefieldconfigs() {\n\n        var merged = {\n          configs: [],\n          sorts: [],\n          subtotals: [],\n          functions: []\n        };\n\n        for (var i = 0; i < arguments.length; i++) {\n          var nnconfig = arguments[i] || {};\n          merged.configs.push(nnconfig);\n          merged.sorts.push(nnconfig.sort || {});\n          merged.subtotals.push(nnconfig.subTotal || {});\n          merged.functions.push({\n            aggregateFuncName: nnconfig.aggregateFuncName,\n            aggregateFunc: nnconfig.aggregateFunc ? nnconfig.aggregateFunc() : null,\n            formatFunc: nnconfig.formatFunc ? nnconfig.formatFunc() : null,\n            headerFunc: nnconfig.headerFunc ? nnconfig.headerFunc : null\n          });\n        }\n\n        return merged;\n      }\n\n      function createfield(rootconfig, axetype, fieldconfig, defaultfieldconfig) {\n\n        var axeconfig;\n        var fieldAxeconfig;\n\n        if (defaultfieldconfig) {\n          switch (axetype) {\n            case axe.Type.ROWS:\n              axeconfig = rootconfig.rowSettings;\n              fieldAxeconfig = defaultfieldconfig.rowSettings;\n              break;\n            case axe.Type.COLUMNS:\n              axeconfig = rootconfig.columnSettings;\n              fieldAxeconfig = defaultfieldconfig.columnSettings;\n              break;\n            case axe.Type.DATA:\n              axeconfig = rootconfig.dataSettings;\n              fieldAxeconfig = defaultfieldconfig.dataSettings;\n              break;\n            default:\n              axeconfig = null;\n              fieldAxeconfig = null;\n              break;\n          }\n        } else {\n          axeconfig = null;\n          fieldAxeconfig = null;\n        }\n\n        var merged = mergefieldconfigs(fieldconfig, fieldAxeconfig, axeconfig, defaultfieldconfig, rootconfig);\n\n        return new Field({\n          name: getpropertyvalue('name', merged.configs, ''),\n\n          caption: getpropertyvalue('caption', merged.configs, ''),\n\n          sort: {\n            order: getpropertyvalue('order', merged.sorts, null),\n            customfunc: getpropertyvalue('customfunc', merged.sorts, null)\n          },\n          subTotal: {\n            visible: getpropertyvalue('visible', merged.subtotals, true),\n            collapsible: getpropertyvalue('collapsible', merged.subtotals, true),\n            collapsed: getpropertyvalue('collapsed', merged.subtotals, false) && getpropertyvalue('collapsible', merged.subtotals, true)\n          },\n\n          aggregateFuncName: getpropertyvalue('aggregateFuncName', merged.functions, 'sum'),\n          aggregateFunc: getpropertyvalue('aggregateFunc', merged.functions, aggregation.sum),\n          formatFunc: getpropertyvalue('formatFunc', merged.functions, null),\n          headerFunc: getpropertyvalue('headerFunc', merged.functions, false),\n\n          isMeasurement: getpropertyvalue('isMeasurement', merged.configs, false),\n          isDimension: getpropertyvalue('isDimension', merged.configs, false)\n        }, false);\n      }\n\n      function GrandTotalConfig(options) {\n\n        options = options || {};\n\n        this.rowsvisible = options.rowsvisible !== undefined ? options.rowsvisible : true;\n        this.columnsvisible = options.columnsvisible !== undefined ? options.columnsvisible : true;\n      }\n\n      function SubTotalConfig(options, setdefaults) {\n\n        var defaults = {\n          visible: setdefaults === true ? true : undefined,\n          collapsible: setdefaults === true ? true : undefined,\n          collapsed: setdefaults === true ? false : undefined\n        };\n        options = options || {};\n\n        this.visible = options.visible !== undefined ? options.visible : defaults.visible;\n        this.collapsible = options.collapsible !== undefined ? options.collapsible : defaults.collapsible;\n        this.collapsed = options.collapsed !== undefined ? options.collapsed : defaults.collapsed;\n      }\n\n      function SortConfig(options) {\n        options = options || {};\n\n        this.order = options.order || (options.customfunc ? 'asc' : null);\n        this.customfunc = options.customfunc;\n      }\n\n      function ChartConfig(options) {\n        options = options || {};\n\n        this.enabled = options.enabled || false;\n        // type can be: 'LineChart', 'AreaChart', 'ColumnChart', 'BarChart', 'SteppedAreaChart'\n        this.type = options.type || 'LineChart';\n      }\n\n      var Field = module.exports.field = function(options, createSubOptions) {\n\n        options = options || {};\n\n        // field name\n        this.name = options.name;\n\n        // shared settings\n        this.caption = options.caption || this.name;\n\n        // header formatter function\n        this.headerFunc = options.headerFunc || false;\n\n        // rows & columns settings\n        this.sort = new SortConfig(options.sort);\n        this.subTotal = new SubTotalConfig(options.subTotal);\n\n        // is field is defined as a measurement/dimension field then limit drag and drop\n        this.isMeasurement = options.isMeasurement || null;\n        this.isDimension = options.isDimension || null;\n\n        // data settings\n        var _aggregatefunc;\n        var _formatfunc;\n\n        function defaultFormatFunc(val) {\n          return val != null ? val.toString() : '';\n        }\n\n        this.aggregateFunc = function(func) {\n          if (func) {\n            _aggregatefunc = aggregation.toAggregateFunc(func);\n          } else {\n            return _aggregatefunc;\n          }\n        };\n\n        this.formatFunc = function(func) {\n          if (func) {\n            _formatfunc = func;\n          } else {\n            return _formatfunc;\n          }\n        };\n\n        this.aggregateFuncName = options.aggregateFuncName || (options.aggregateFunc ? utils.isString(options.aggregateFunc) ? options.aggregateFunc : 'custom' : null);\n\n        this.aggregateFunc(options.aggregateFunc);\n        this.formatFunc(options.formatFunc || defaultFormatFunc);\n\n        if (createSubOptions !== false) {\n          (this.rowSettings = new Field(options.rowSettings, false)).name = this.name;\n          (this.columnSettings = new Field(options.columnSettings, false)).name = this.name;\n          (this.dataSettings = new Field(options.dataSettings, false)).name = this.name;\n        }\n      };\n\n      module.exports.config = function(config) {\n\n        var self = this;\n\n        this.dataSource = config.dataSource || [];\n        this.canMoveFields = config.canMoveFields !== undefined ? !!config.canMoveFields : true;\n        this.dataHeadersLocation = config.dataHeadersLocation === 'columns' ? 'columns' : 'rows';\n        this.grandTotal = new GrandTotalConfig(config.grandTotal);\n        this.subTotal = new SubTotalConfig(config.subTotal, true);\n        this.width = config.width;\n        this.height = config.height;\n        this.toolbar = config.toolbar;\n        this.theme = themeManager;\n        this.chartMode = new ChartConfig(config.chartMode);\n        this.hideFilters = config.hideFilters || false;\n        this.hideFuncNames = config.hideFuncNames || false;\n        this.hideRowDialog = config.hideRowDialog || false;\n\n        themeManager.current(config.theme);\n\n        this.rowSettings = new Field(config.rowSettings, false);\n        this.columnSettings = new Field(config.columnSettings, false);\n        this.dataSettings = new Field(config.dataSettings, false);\n\n        // datasource field names\n        this.dataSourceFieldNames = [];\n        // datasource field captions\n        this.dataSourceFieldCaptions = [];\n\n        this.captionToName = function(caption) {\n          var fcaptionIndex = self.dataSourceFieldCaptions.indexOf(caption);\n          return fcaptionIndex >= 0 ? self.dataSourceFieldNames[fcaptionIndex] : caption;\n        };\n\n        this.nameToCaption = function(name) {\n          var fnameIndex = self.dataSourceFieldNames.indexOf(name);\n          return fnameIndex >= 0 ? self.dataSourceFieldCaptions[fnameIndex] : name;\n        };\n\n        this.setTheme = function(newTheme) {\n          return self.theme.current() !== self.theme.current(newTheme);\n        };\n\n        this.allFields = (config.fields || []).map(function(fieldconfig) {\n          var f = new Field(fieldconfig);\n          // map fields names to captions\n          self.dataSourceFieldNames.push(f.name);\n          self.dataSourceFieldCaptions.push(f.caption);\n          return f;\n        });\n\n        function ensureFieldConfig(obj) {\n          if (typeof obj === 'string') {\n            return {\n              name: self.captionToName(obj)\n            };\n          }\n          return obj;\n        }\n\n        this.rowFields = (config.rows || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.ROWS, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.columnFields = (config.columns || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.COLUMNS, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.dataFields = (config.data || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.DATA, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.dataFieldsCount = this.dataFields ? this.dataFields.length || 1 : 1;\n\n        var runtimeVisibility = {\n          subtotals: {\n            rows: self.rowSettings.subTotal.visible !== undefined ? self.rowSettings.subTotal.visible : true,\n            columns: self.columnSettings.subTotal.visible !== undefined ? self.columnSettings.subTotal.visible : true\n          }\n        };\n\n        function getfield(axefields, fieldname) {\n          var fieldindex = getfieldindex(axefields, fieldname);\n          if (fieldindex > -1) {\n            return axefields[fieldindex];\n          }\n          return null;\n        }\n\n        function getfieldindex(axefields, fieldname) {\n          for (var fi = 0; fi < axefields.length; fi++) {\n            if (axefields[fi].name === fieldname) {\n              return fi;\n            }\n          }\n          return -1;\n        }\n\n        this.getField = function(fieldname) {\n          return getfield(self.allFields, fieldname);\n        };\n\n        this.getRowField = function(fieldname) {\n          return getfield(self.rowFields, fieldname);\n        };\n\n        this.getColumnField = function(fieldname) {\n          return getfield(self.columnFields, fieldname);\n        };\n\n        this.getDataField = function(fieldname) {\n          return getfield(self.dataFields, fieldname);\n        };\n\n        this.availablefields = function() {\n          return self.allFields.filter(function(field) {\n            var notequalfield = function notequalfield(otherfield) {\n              return field.name !== otherfield.name;\n            };\n\n            return self.dataFields.every(notequalfield) && self.rowFields.every(notequalfield) && self.columnFields.every(notequalfield);\n          });\n        };\n\n        this.getDataSourceFieldCaptions = function() {\n          var row0;\n          if (self.dataSource && (row0 = self.dataSource[0])) {\n            var fieldNames = utils.ownProperties(row0);\n            var headers = [];\n            for (var i = 0; i < fieldNames.length; i++) {\n              headers.push(self.nameToCaption(fieldNames[i]));\n            }\n            return headers;\n          }\n          return null;\n        };\n\n        this.getPreFilters = function() {\n          var prefilters = {};\n          if (config.preFilters) {\n            utils.forEach(utils.ownProperties(config.preFilters), function(filteredField) {\n              var prefilterConfig = config.preFilters[filteredField];\n              if (utils.isArray(prefilterConfig)) {\n                prefilters[self.captionToName(filteredField)] = new filtering.expressionFilter(null, null, prefilterConfig, false);\n              } else {\n                var opname = utils.ownProperties(prefilterConfig)[0];\n                if (opname) {\n                  prefilters[self.captionToName(filteredField)] = new filtering.expressionFilter(opname, prefilterConfig[opname]);\n                }\n              }\n            });\n          }\n\n          return prefilters;\n        };\n\n        this.moveField = function(fieldname, oldaxetype, newaxetype, position) {\n\n          var oldaxe, oldposition;\n          var newaxe;\n          var fieldConfig;\n          var defaultFieldConfig = getfield(self.allFields, fieldname);\n\n          if (defaultFieldConfig) {\n            // move restrictions check\n            if (oldaxetype != newaxetype && defaultFieldConfig.isMeasurement && (newaxetype == axe.Type.ROWS || newaxetype == axe.Type.COLUMNS)) {\n              return false;\n            } else if (oldaxetype != newaxetype && defaultFieldConfig.isDimension && newaxetype == axe.Type.DATA) {\n              return false;\n            }\n\n            switch (oldaxetype) {\n              case axe.Type.ROWS:\n                oldaxe = self.rowFields;\n                break;\n              case axe.Type.COLUMNS:\n                oldaxe = self.columnFields;\n                break;\n              case axe.Type.DATA:\n                oldaxe = self.dataFields;\n                break;\n              default:\n                break;\n            }\n\n            switch (newaxetype) {\n              case axe.Type.ROWS:\n                newaxe = self.rowFields;\n                fieldConfig = self.getRowField(fieldname);\n                break;\n              case axe.Type.COLUMNS:\n                newaxe = self.columnFields;\n                fieldConfig = self.getColumnField(fieldname);\n                break;\n              case axe.Type.DATA:\n                newaxe = self.dataFields;\n                fieldConfig = self.getDataField(fieldname);\n                break;\n              default:\n                break;\n            }\n\n            if (oldaxe || newaxe) {\n\n              var newAxeSubtotalsState = self.areSubtotalsVisible(newaxetype);\n\n              if (oldaxe) {\n                oldposition = getfieldindex(oldaxe, fieldname);\n                if (oldaxetype === newaxetype) {\n                  if (oldposition == oldaxe.length - 1 && position == null || oldposition === position - 1) {\n                    return false;\n                  }\n                }\n                oldaxe.splice(oldposition, 1);\n              }\n\n              var field = createfield(self, newaxetype, fieldConfig, defaultFieldConfig);\n\n              if (!newAxeSubtotalsState && field.subTotal.visible !== false) {\n                field.subTotal.visible = null;\n              }\n\n              if (newaxe) {\n                if (position != null) {\n                  newaxe.splice(position, 0, field);\n                } else {\n                  newaxe.push(field);\n                }\n              }\n\n              // update data fields count\n              self.dataFieldsCount = self.dataFields ? self.dataFields.length || 1 : 1;\n\n              return true;\n            }\n          }\n        };\n\n        this.toggleSubtotals = function(axetype) {\n\n          var i;\n          var axeFields;\n          var newState = !self.areSubtotalsVisible(axetype);\n\n          if (axetype === axe.Type.ROWS) {\n            runtimeVisibility.subtotals.rows = newState;\n            axeFields = self.rowFields;\n          } else if (axetype === axe.Type.COLUMNS) {\n            runtimeVisibility.subtotals.columns = newState;\n            axeFields = self.columnFields;\n          } else {\n            return false;\n          }\n\n          newState = newState === false ? null : true;\n          for (i = 0; i < axeFields.length; i++) {\n            if (axeFields[i].subTotal.visible !== false) {\n              axeFields[i].subTotal.visible = newState;\n            }\n          }\n          return true;\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          if (axetype === axe.Type.ROWS) {\n            return runtimeVisibility.subtotals.rows;\n          } else if (axetype === axe.Type.COLUMNS) {\n            return runtimeVisibility.subtotals.columns;\n          } else {\n            return null;\n          }\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          var newState = !self.isGrandtotalVisible(axetype);\n\n          if (axetype === axe.Type.ROWS) {\n            self.grandTotal.rowsvisible = newState;\n          } else if (axetype === axe.Type.COLUMNS) {\n            self.grandTotal.columnsvisible = newState;\n          } else {\n            return false;\n          }\n          return true;\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          if (axetype === axe.Type.ROWS) {\n            return self.grandTotal.rowsvisible;\n          } else if (axetype === axe.Type.COLUMNS) {\n            return self.grandTotal.columnsvisible;\n          } else {\n            return false;\n          }\n        };\n      };\n\n    }, {\n      \"./orb.aggregation\": 35,\n      \"./orb.axe\": 36,\n      \"./orb.filtering\": 40,\n      \"./orb.themes\": 46,\n      \"./orb.utils\": 53\n    }],\n    38: [function(_dereq_, module, exports) {\n\n      module.exports = function(id, parent, value, field, depth, isRoot, isLeaf) {\n\n        var self = this;\n\n        this.id = id;\n\n        this.parent = parent;\n\n        this.value = value;\n\n        this.isRoot = isRoot;\n\n        this.isLeaf = isLeaf;\n\n        this.field = field;\n\n        this.depth = depth;\n\n        this.values = [];\n\n        this.subdimvals = {};\n\n        this.rowIndexes = null;\n\n        this.getRowIndexes = function(result) {\n          if (self.rowIndexes == null) {\n            self.rowIndexes = [];\n            for (var i = 0; i < self.values.length; i++) {\n              self.subdimvals[self.values[i]].getRowIndexes(self.rowIndexes);\n            }\n          }\n          if (result != null) {\n            for (var j = 0; j < self.rowIndexes.length; j++) {\n              result.push(self.rowIndexes[j]);\n            }\n            return result;\n          } else {\n            return self.rowIndexes;\n          }\n        };\n      };\n\n    }, {}],\n    39: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var uiheaders = _dereq_('./orb.ui.header');\n      var themeManager = _dereq_('./orb.themes');\n\n      var uriHeader = 'data:application/vnd.ms-excel;base64,';\n      var docHeader = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\">' + '<head>' + '<meta http-equiv=Content-Type content=\"text/html; charset=UTF-8\">' + '<!--[if gte mso 9]><xml>' + ' <x:ExcelWorkbook>' + '  <x:ExcelWorksheets>' + '   <x:ExcelWorksheet>' + '    <x:Name>###sheetname###</x:Name>' + '    <x:WorksheetOptions>' + '     <x:ProtectContents>False</x:ProtectContents>' + '     <x:ProtectObjects>False</x:ProtectObjects>' + '     <x:ProtectScenarios>False</x:ProtectScenarios>' + '    </x:WorksheetOptions>' + '   </x:ExcelWorksheet>' + '  </x:ExcelWorksheets>' + '  <x:ProtectStructure>False</x:ProtectStructure>' + '  <x:ProtectWindows>False</x:ProtectWindows>' + ' </x:ExcelWorkbook>' + '</xml><![endif]-->' + '</head>' + '<body>';\n      var docFooter = '</body></html>';\n\n      module.exports = function(pgridwidget) {\n\n        var config = pgridwidget.pgrid.config;\n\n        var currTheme = themeManager.current();\n        currTheme = currTheme === 'bootstrap' ? 'white' : currTheme;\n        var override = currTheme === 'white';\n\n        var buttonTextColor = override ? 'black' : 'white';\n        var themeColor = themeManager.themes[currTheme];\n        var themeFadeout = themeManager.utils.fadeoutColor(themeColor, 0.1);\n\n        var buttonStyle = 'style=\"font-weight: bold; color: ' + buttonTextColor + '; background-color: ' + themeColor + ';\" bgcolor=\"' + themeColor + '\"';\n        var headerStyle = 'style=\"background-color: ' + themeFadeout + ';\" bgcolor=\"' + themeFadeout + '\"';\n\n        function createButtonCell(caption) {\n          return '<td ' + buttonStyle + '><font color=\"' + buttonTextColor + '\">' + caption + '</font></td>';\n        }\n\n        function createButtons(buttons, cellsCountBefore, cellsCountAfter, prefix) {\n          var i;\n          var str = prefix || '<tr>';\n          for (i = 0; i < cellsCountBefore; i++) {\n            str += '<td></td>';\n          }\n\n          str += buttons.reduce(function(tr, field) {\n            return tr += createButtonCell(field.caption);\n          }, '');\n\n          for (i = 0; i < cellsCountAfter; i++) {\n            str += '<td></td>';\n          }\n          return str + '</tr>';\n        }\n\n        var cellsHorizontalCount = Math.max(config.dataFields.length + 1, pgridwidget.layout.pivotTable.width);\n\n        var dataFields = createButtons(config.dataFields, 0, cellsHorizontalCount - config.dataFields.length, '<tr><td><font color=\"#ccc\">Data</font></td>');\n\n        var sep = '<tr><td style=\"height: 22px;\" colspan=\"' + cellsHorizontalCount + '\"></td></tr>';\n\n        var columnFields = createButtons(config.columnFields, pgridwidget.layout.rowHeaders.width, cellsHorizontalCount - (pgridwidget.layout.rowHeaders.width + config.columnFields.length));\n\n        var columnHeaders = function() {\n          var str = '';\n          var j;\n          for (var i = 0; i < pgridwidget.columns.headers.length; i++) {\n            var currRow = pgridwidget.columns.headers[i];\n            var rowStr = '<tr>';\n            if (i < pgridwidget.columns.headers.length - 1) {\n              for (j = 0; j < pgridwidget.layout.rowHeaders.width; j++) {\n                rowStr += '<td></td>';\n              }\n            } else {\n              rowStr += config.rowFields.reduce(function(tr, field) {\n                return tr += createButtonCell(field.caption);\n              }, '');\n            }\n\n            rowStr += currRow.reduce(function(tr, header) {\n              var value = header.type === uiheaders.HeaderType.DATA_HEADER ? header.value.caption : header.value;\n              return tr += '<td ' + headerStyle + ' colspan=\"' + header.hspan(true) + '\" rowspan=\"' + header.vspan(true) + '\">' + value + '</td>';\n            }, '');\n            str += rowStr + '</tr>';\n          }\n          return str;\n        }();\n\n        var rowHeadersAndDataCells = function() {\n          var str = '';\n          var j;\n          for (var i = 0; i < pgridwidget.rows.headers.length; i++) {\n            var currRow = pgridwidget.rows.headers[i];\n            var rowStr = '<tr>';\n            rowStr += currRow.reduce(function(tr, header) {\n              return tr += '<td ' + headerStyle + ' colspan=\"' + header.hspan(true) + '\" rowspan=\"' + header.vspan(true) + '\">' + header.value + '</td>';\n            }, '');\n            var dataRow = pgridwidget.dataRows[i];\n            rowStr += dataRow.reduce(function(tr, dataCell, index) {\n              var formatFunc = config.dataFields[index = index % config.dataFields.length].formatFunc;\n              var value = dataCell.value == null ? '' : formatFunc ? formatFunc()(dataCell.value) : dataCell.value;\n              return tr += '<td>' + value + '</td>';\n            }, '');\n            str += rowStr + '</tr>';\n          }\n          return str;\n        }();\n\n        function toBase64(str) {\n          return utils.btoa(unescape(encodeURIComponent(str)));\n        }\n\n        return uriHeader + toBase64(docHeader + '<table>' + dataFields + sep + columnFields + columnHeaders + rowHeadersAndDataCells + '</table>' + docFooter);\n      };\n\n    }, {\n      \"./orb.themes\": 46,\n      \"./orb.ui.header\": 49,\n      \"./orb.utils\": 53\n    }],\n    40: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n\n      var filtering = module.exports = {\n        ALL: '#All#',\n        NONE: '#None#',\n        BLANK: '#Blank#\"'\n      };\n\n      filtering.expressionFilter = function(operator, term, staticValue, excludeStatic) {\n        var self = this;\n\n        this.operator = ops.get(operator);\n        this.regexpMode = false;\n        this.term = term || null;\n        if (this.term && this.operator && this.operator.regexpSupported) {\n          if (utils.isRegExp(this.term)) {\n            this.regexpMode = true;\n            if (!this.term.ignoreCase) {\n              this.term = new RegExp(this.term.source, 'i');\n            }\n          }\n        }\n\n        this.staticValue = staticValue;\n        this.excludeStatic = excludeStatic;\n\n        this.test = function(value) {\n          if (utils.isArray(self.staticValue)) {\n            var found = self.staticValue.indexOf(value) >= 0;\n            return self.excludeStatic && !found || !self.excludeStatic && found;\n          } else if (self.term) {\n            return self.operator.func(value, self.term);\n          } else if (self.staticValue === true || self.staticValue === filtering.ALL) {\n            return true;\n          } else if (self.staticValue === false || self.staticValue === filtering.NONE) {\n            return false;\n          } else {\n            return true;\n          }\n        };\n\n        this.isAlwaysTrue = function() {\n          return !(self.term || utils.isArray(self.staticValue) || self.staticValue === filtering.NONE || self.staticValue === false);\n        };\n      };\n\n      var ops = filtering.Operators = {\n        get: function get(opname) {\n          switch (opname) {\n            case ops.MATCH.name:\n              return ops.MATCH;\n            case ops.NOTMATCH.name:\n              return ops.NOTMATCH;\n            case ops.EQ.name:\n              return ops.EQ;\n            case ops.NEQ.name:\n              return ops.NEQ;\n            case ops.GT.name:\n              return ops.GT;\n            case ops.GTE.name:\n              return ops.GTE;\n            case ops.LT.name:\n              return ops.LT;\n            case ops.LTE.name:\n              return ops.LTE;\n            default:\n              return ops.NONE;\n          }\n        },\n        NONE: null,\n        MATCH: {\n          name: 'Matches',\n          func: function func(value, term) {\n            if (value) {\n              return value.toString().search(utils.isRegExp(term) ? term : new RegExp(term, 'i')) >= 0;\n            } else {\n              return !!!term;\n            }\n          },\n          regexpSupported: true\n        },\n        NOTMATCH: {\n          name: 'Does Not Match',\n          func: function func(value, term) {\n            if (value) {\n              return value.toString().search(utils.isRegExp(term) ? term : new RegExp(term, 'i')) < 0;\n            } else {\n              return !!term;\n            }\n          },\n          regexpSupported: true\n        },\n        EQ: {\n          name: '=',\n          func: function func(value, term) {\n            return value == term;\n          },\n          regexpSupported: false\n        },\n        NEQ: {\n          name: '<>',\n          func: function func(value, term) {\n            return value != term;\n          },\n          regexpSupported: false\n        },\n        GT: {\n          name: '>',\n          func: function func(value, term) {\n            return value > term;\n          },\n          regexpSupported: false\n        },\n        GTE: {\n          name: '>=',\n          func: function func(value, term) {\n            return value >= term;\n          },\n          regexpSupported: false\n        },\n        LT: {\n          name: '<',\n          func: function func(value, term) {\n            return value < term;\n          },\n          regexpSupported: false\n        },\n        LTE: {\n          name: '<=',\n          func: function func(value, term) {\n            return value <= term;\n          },\n          regexpSupported: false\n        }\n      };\n\n    }, {\n      \"./orb.utils\": 53\n    }],\n    41: [function(_dereq_, module, exports) {\n\n      module.exports.utils = _dereq_('./orb.utils');\n      module.exports.pgrid = _dereq_('./orb.pgrid');\n      module.exports.pgridwidget = _dereq_('./orb.ui.pgridwidget');\n      module.exports.query = _dereq_('./orb.query');\n      module.exports['export'] = _dereq_('./orb.export.excel');\n\n    }, {\n      \"./orb.export.excel\": 39,\n      \"./orb.pgrid\": 42,\n      \"./orb.query\": 44,\n      \"./orb.ui.pgridwidget\": 50,\n      \"./orb.utils\": 53\n    }],\n    42: [function(_dereq_, module, exports) {\n\n      var PubSub = _dereq_('./orb.pubsub'),\n        axe = _dereq_('./orb.axe'),\n        configuration = _dereq_('./orb.config').config,\n        filtering = _dereq_('./orb.filtering'),\n        query = _dereq_('./orb.query'),\n        utils = _dereq_('./orb.utils');\n\n      var pgrid = module.exports = function(config) {\n\n        var self = this,\n          defaultfield = {\n            name: '#undefined#'\n          },\n          _iCache;\n\n        // inherit PubSub\n        PubSub.call(this);\n\n        this.config = new configuration(config);\n        this.filters = self.config.getPreFilters();\n        this.filteredDataSource = self.config.dataSource;\n\n        this.rows = new axe(self, axe.Type.ROWS);\n        this.columns = new axe(self, axe.Type.COLUMNS);\n        this.dataMatrix = {};\n\n        function refresh(refreshFilters) {\n          if (refreshFilters !== false) {\n            refreshFilteredDataSource();\n          }\n          self.rows.update();\n          self.columns.update();\n          computeValues();\n\n          // publish updated event\n          self.publish(pgrid.EVENT_UPDATED);\n        }\n\n        function refreshFilteredDataSource() {\n          var filterFields = utils.ownProperties(self.filters);\n          if (filterFields.length > 0) {\n            self.filteredDataSource = [];\n\n            for (var i = 0; i < self.config.dataSource.length; i++) {\n              var row = self.config.dataSource[i];\n              var exclude = false;\n              for (var fi = 0; fi < filterFields.length; fi++) {\n                var fieldname = filterFields[fi];\n                var fieldFilter = self.filters[fieldname];\n\n                if (fieldFilter && !fieldFilter.test(row[fieldname])) {\n                  exclude = true;\n                  break;\n                }\n              }\n              if (!exclude) {\n                self.filteredDataSource.push(row);\n              }\n            }\n          } else {\n            self.filteredDataSource = self.config.dataSource;\n          }\n        }\n\n        this.sort = function(axetype, field) {\n          if (axetype === axe.Type.ROWS) {\n            self.rows.sort(field);\n          } else if (axetype === axe.Type.COLUMNS) {\n            self.columns.sort(field);\n          } else {\n            return;\n          }\n\n          self.publish(pgrid.EVENT_SORT_CHANGED);\n        };\n\n        this.moveField = function(fieldname, oldaxetype, newaxetype, position) {\n          if (self.config.moveField(fieldname, oldaxetype, newaxetype, position)) {\n            refresh(false);\n            return true;\n          }\n          return false;\n        };\n\n        this.applyFilter = function(fieldname, operator, term, staticValue, excludeStatic) {\n          self.filters[fieldname] = new filtering.expressionFilter(operator, term, staticValue, excludeStatic);\n          refresh();\n        };\n\n        this.refreshData = function(data) {\n          self.config.dataSource = data;\n          refresh();\n        };\n\n        this.toggleSubtotals = function(axetype) {\n          if (self.config.toggleSubtotals(axetype)) {\n            self.publish(pgrid.EVENT_CONFIG_CHANGED);\n          }\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          if (self.config.toggleGrandtotal(axetype)) {\n            self.publish(pgrid.EVENT_CONFIG_CHANGED);\n          }\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          return self.config.areSubtotalsVisible(axetype);\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          return self.config.isGrandtotalVisible(axetype);\n        };\n\n        this.getFieldValues = function(field, filterFunc) {\n          var values1 = [];\n          var values = [];\n          var containsBlank = false;\n          for (var i = 0; i < self.config.dataSource.length; i++) {\n            var row = self.config.dataSource[i];\n            var val = row[field];\n            if (filterFunc !== undefined) {\n              if (filterFunc === true || typeof filterFunc === 'function' && filterFunc(val)) {\n                values1.push(val);\n              }\n            } else {\n              if (val != null) {\n                values1.push(val);\n              } else {\n                containsBlank = true;\n              }\n            }\n          }\n          if (values1.length > 1) {\n            if (utils.isNumber(values1[0]) || utils.isDate(values1[0])) {\n              values1.sort(function(a, b) {\n                return a ? b ? a - b : 1 : b ? -1 : 0;\n              });\n            } else {\n              values1.sort();\n            }\n\n            for (var vi = 0; vi < values1.length; vi++) {\n              if (vi === 0 || values1[vi] !== values[values.length - 1]) {\n                values.push(values1[vi]);\n              }\n            }\n          } else {\n            values = values1;\n          }\n          if (containsBlank) {\n            values.unshift(null);\n          }\n          return values;\n        };\n\n        this.getFieldFilter = function(field) {\n          return self.filters[field];\n        };\n\n        this.isFieldFiltered = function(field) {\n          var filter = self.getFieldFilter(field);\n          return filter != null && !filter.isAlwaysTrue();\n        };\n\n        this.getData = function(field, rowdim, coldim, aggregateFunc) {\n          var value;\n          if (rowdim && coldim) {\n\n            var datafieldName = field || (self.config.dataFields[0] || defaultfield).name;\n            var datafield = self.config.getDataField(datafieldName);\n\n            if (!datafield || aggregateFunc && datafield.aggregateFunc != aggregateFunc) {\n              value = self.calcAggregation(rowdim.isRoot ? null : rowdim.getRowIndexes().slice(0), coldim.isRoot ? null : coldim.getRowIndexes().slice(0), [datafieldName], aggregateFunc)[datafieldName];\n            } else {\n              if (self.dataMatrix[rowdim.id] && self.dataMatrix[rowdim.id][coldim.id]) {\n                value = self.dataMatrix[rowdim.id][coldim.id][datafieldName];\n              } else {\n                value = null;\n              }\n            }\n          }\n\n          return value === undefined ? null : value;\n        };\n\n        this.calcAggregation = function(rowIndexes, colIndexes, fieldNames, aggregateFunc) {\n          return computeValue(rowIndexes, colIndexes, rowIndexes, fieldNames, aggregateFunc);\n        };\n\n        this.getChartData = function() {\n\n          var config = self.config;\n\n          function getAxisLabel(axisFields) {\n            var str = '';\n            for (var ti = 0; ti < axisFields.length; ti++) {\n              str += (ti > 0 ? ' - ' : '') + axisFields[ti].caption;\n            }\n            return str;\n          }\n\n          var hAxisLabel = getAxisLabel(config.columnFields);\n          var vAxisLabel = config.dataFields[0].aggregateFuncName + '(' + config.dataFields[0].caption + ')';\n          var legendsLabel = getAxisLabel(config.rowFields);\n\n          var rowLeafDimensions = self.rows.flattenValues();\n          var colLeafDimensions = self.columns.flattenValues();\n          var data = [];\n\n          for (var ci = 0; ci < colLeafDimensions.length; ci++) {\n            var cdim = colLeafDimensions[ci];\n            var currData = [cdim.name];\n            for (var rri = 0; rri < rowLeafDimensions.length; rri++) {\n              currData.push(self.getData(config.dataFields[0].name, rowLeafDimensions[rri].dim, cdim.dim));\n            }\n            data.push(currData);\n          }\n\n          return {\n            title: vAxisLabel + ': ' + hAxisLabel + ' by ' + legendsLabel,\n            hAxisLabel: hAxisLabel,\n            vAxisLabel: vAxisLabel,\n            legendsLabel: legendsLabel,\n            colNames: rowLeafDimensions.map(function(d) {\n              return d.name;\n            }),\n            dataTable: data\n          };\n        };\n\n        this.query = query(self);\n\n        refresh();\n\n        function computeValue(rowIndexes, colIndexes, origRowIndexes, fieldNames, aggregateFunc) {\n\n          var res = {};\n\n          if (self.config.dataFieldsCount > 0) {\n\n            var intersection;\n\n            if (rowIndexes == null) {\n              intersection = colIndexes;\n            } else if (colIndexes == null) {\n              intersection = rowIndexes;\n            } else {\n              intersection = [];\n              for (var ri = 0; ri < rowIndexes.length; ri++) {\n                var rowindex = rowIndexes[ri];\n                if (rowindex >= 0) {\n                  var colrowindex = colIndexes.indexOf(rowindex);\n                  if (colrowindex >= 0) {\n                    rowIndexes[ri] = 0 - (rowindex + 2);\n                    intersection.push(rowindex);\n                  }\n                }\n              }\n            }\n\n            var emptyIntersection = intersection && intersection.length === 0;\n            var datasource = self.filteredDataSource;\n            var datafield;\n            var datafields = [];\n\n            if (fieldNames) {\n              for (var fieldnameIndex = 0; fieldnameIndex < fieldNames.length; fieldnameIndex++) {\n                datafield = self.config.getDataField(fieldNames[fieldnameIndex]);\n                if (!aggregateFunc) {\n                  if (!datafield) {\n                    datafield = self.config.getField(fieldNames[fieldnameIndex]);\n                    if (datafield) {\n                      aggregateFunc = datafield.dataSettings ? datafield.dataSettings.aggregateFunc() : datafield.aggregateFunc();\n                    }\n                  } else {\n                    aggregateFunc = datafield.aggregateFunc();\n                  }\n                }\n\n                if (datafield && aggregateFunc) {\n                  datafields.push({\n                    field: datafield,\n                    aggregateFunc: aggregateFunc\n                  });\n                }\n              }\n            } else {\n              for (var datafieldIndex = 0; datafieldIndex < self.config.dataFieldsCount; datafieldIndex++) {\n                datafield = self.config.dataFields[datafieldIndex] || defaultfield;\n                if (aggregateFunc || datafield.aggregateFunc) {\n                  datafields.push({\n                    field: datafield,\n                    aggregateFunc: aggregateFunc || datafield.aggregateFunc()\n                  });\n                }\n              }\n            }\n\n            for (var dfi = 0; dfi < datafields.length; dfi++) {\n              datafield = datafields[dfi];\n              // no data\n              if (emptyIntersection) {\n                res[datafield.field.name] = null;\n              } else {\n                res[datafield.field.name] = datafield.aggregateFunc(datafield.field.name, intersection || 'all', self.filteredDataSource, origRowIndexes || rowIndexes, colIndexes);\n              }\n            }\n          }\n\n          return res;\n        }\n\n        function computeRowValues(rowDim) {\n\n          if (rowDim) {\n            var data = {};\n            var rid = 'r' + rowDim.id;\n\n            // set cached row indexes for current row dimension\n            if (_iCache[rid] === undefined) {\n              _iCache[rid] = rowDim.isRoot ? null : _iCache[rowDim.parent.id] || rowDim.getRowIndexes();\n            }\n\n            // calc grand-total cell\n            data[self.columns.root.id] = computeValue(rowDim.isRoot ? null : _iCache[rid].slice(0), null);\n\n            if (self.columns.dimensionsCount > 0) {\n              var p = 0;\n              var parents = [self.columns.root];\n\n              while (p < parents.length) {\n                var parent = parents[p];\n                var rowindexes = rowDim.isRoot ? null : parent.isRoot ? _iCache[rid].slice(0) : _iCache['c' + parent.id].slice(0);\n\n                for (var i = 0; i < parent.values.length; i++) {\n                  var subdim = parent.subdimvals[parent.values[i]];\n                  var cid = 'c' + subdim.id;\n\n                  // set cached row indexes for this column leaf dimension\n                  if (_iCache[cid] === undefined) {\n                    _iCache[cid] = _iCache[cid] || subdim.getRowIndexes().slice(0);\n                  }\n\n                  data[subdim.id] = computeValue(rowindexes, _iCache[cid], rowDim.isRoot ? null : rowDim.getRowIndexes());\n\n                  if (!subdim.isLeaf) {\n                    parents.push(subdim);\n                    if (rowindexes) {\n                      _iCache[cid] = [];\n                      for (var ur = 0; ur < rowindexes.length; ur++) {\n                        var vr = rowindexes[ur];\n                        if (vr != -1 && vr < 0) {\n                          _iCache[cid].push(0 - (vr + 2));\n                          rowindexes[ur] = -1;\n                        }\n                      }\n                    }\n                  }\n                }\n                _iCache['c' + parent.id] = undefined;\n                p++;\n              }\n            }\n\n            return data;\n          }\n        }\n\n        function computeValues() {\n          self.dataMatrix = {};\n          _iCache = {};\n\n          // calc grand total row\n          self.dataMatrix[self.rows.root.id] = computeRowValues(self.rows.root);\n\n          if (self.rows.dimensionsCount > 0) {\n            var parents = [self.rows.root];\n            var p = 0;\n            var parent;\n            while (p < parents.length) {\n              parent = parents[p];\n              // calc children rows\n              for (var i = 0; i < parent.values.length; i++) {\n                var subdim = parent.subdimvals[parent.values[i]];\n                // calc child row\n                self.dataMatrix[subdim.id] = computeRowValues(subdim);\n                // if row is not a leaf, add it to parents array to process its children\n                if (!subdim.isLeaf) {\n                  parents.push(subdim);\n                }\n              }\n              // next parent\n              p++;\n            }\n          }\n        }\n      };\n\n      // pgrid events\n      pgrid.EVENT_UPDATED = 'pgrid:updated';\n      pgrid.EVENT_SORT_CHANGED = 'pgrid:sort-changed';\n      pgrid.EVENT_CONFIG_CHANGED = 'pgrid:config-changed';\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.config\": 37,\n      \"./orb.filtering\": 40,\n      \"./orb.pubsub\": 43,\n      \"./orb.query\": 44,\n      \"./orb.utils\": 53\n    }],\n    43: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n\n      module.exports = function() {\n        var _topics = {};\n\n        this.subscribe = function(topic, callback) {\n          if (utils.isString(topic) && utils.isFunction(callback)) {\n            _topics[topic] = _topics[topic] || [];\n            _topics[topic].push(callback);\n          }\n        };\n\n        this.publish = function(topic) {\n          if (utils.isString(topic)) {\n            utils.forEach(_topics[topic], function(callback) {\n              callback.apply(null, [topic].concat(Array.prototype.slice.call(arguments, 1)));\n            });\n          }\n        };\n      };\n\n    }, {\n      \"./orb.utils\": 53\n    }],\n    44: [function(_dereq_, module, exports) {\n\n      var _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\n      var _typeof3 = _interopRequireDefault(_typeof2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var utils = _dereq_('./orb.utils');\n      var axe = _dereq_('./orb.axe');\n      var aggregation = _dereq_('./orb.aggregation');\n\n      var queryBase = function queryBase(source, query, filters) {\n\n        var self = this;\n\n        this.source = source;\n        this.query = query;\n        this.filters = filters;\n\n        this.extractResult = function(aggs, options, outerArgs) {\n          if (outerArgs.multi === true) {\n            var res = {};\n            for (var ai = 0; ai < options.multiFieldNames.length; ai++) {\n              res[options.multiFieldNames[ai]] = aggs[self.getCaptionName(options.multiFieldNames[ai])];\n            }\n            return res;\n          } else {\n            return aggs[outerArgs.datafieldname];\n          }\n        };\n\n        this.measureFunc = function(datafieldname, multi, aggregateFunc, fieldsConfig) {\n\n          var outerArgs = {\n            datafieldname: self.getCaptionName(datafieldname),\n            multi: multi,\n            aggregateFunc: aggregateFunc\n          };\n\n          return function(options) {\n            options = self.cleanOptions(options, arguments, outerArgs);\n            var aggs = self.compute(options, fieldsConfig, multi);\n            return self.extractResult(aggs, options, outerArgs);\n          };\n        };\n\n        this.setDefaultAggFunctions = function(param) {\n\n          // if there is a registered field with a name or caption 'val', use 'val_'\n          var valname = self.query.val ? 'val_' : 'val';\n          self.query[valname] = self.measureFunc(undefined, true, undefined, param);\n\n\n          var aggFunctions = utils.ownProperties(aggregation);\n          for (var funcIndex = 0; funcIndex < aggFunctions.length; funcIndex++) {\n            var funcName = aggFunctions[funcIndex];\n            if (funcName !== 'toAggregateFunc') {\n              self.query[funcName] = self.measureFunc(undefined, true, aggregation[funcName], param);\n            }\n          }\n        };\n      };\n\n      var pgridQuery = function pgridQuery(pgrid) {\n\n        queryBase.call(this, pgrid, {}, {});\n\n        var self = this;\n\n        this.getCaptionName = function(caption) {\n          return self.source.config.captionToName(caption);\n        };\n\n        this.cleanOptions = function(options, innerArgs, outerArgs) {\n          var opts = {\n            fieldNames: []\n          };\n\n          if (outerArgs.multi === true) {\n            if (options && (typeof options === 'undefined' ? 'undefined' : (0, _typeof3.default)(options)) === 'object') {\n              opts.aggregateFunc = options.aggregateFunc;\n              opts.multiFieldNames = options.fields;\n            } else {\n              opts.aggregateFunc = outerArgs.aggregateFunc;\n              opts.multiFieldNames = innerArgs;\n            }\n\n            for (var ai = 0; ai < opts.multiFieldNames.length; ai++) {\n              opts.fieldNames.push(self.getCaptionName(opts.multiFieldNames[ai]));\n            }\n          } else {\n            opts.aggregateFunc = options;\n            opts.fieldNames.push(outerArgs.datafieldname);\n          }\n\n          if (opts.aggregateFunc) {\n            opts.aggregateFunc = aggregation.toAggregateFunc(opts.aggregateFunc);\n          }\n\n          return opts;\n        };\n\n        this.setup = function(parameters) {\n          var rowFields = self.source.config.rowFields;\n          var colFields = self.source.config.columnFields;\n          var datafields = self.source.config.dataFields;\n          var fIndex;\n\n          // row fields setup\n          for (fIndex = 0; fIndex < rowFields.length; fIndex++) {\n            self.slice(rowFields[fIndex], axe.Type.ROWS, rowFields.length - fIndex);\n          }\n\n          // column fields setup\n          for (fIndex = 0; fIndex < colFields.length; fIndex++) {\n            self.slice(colFields[fIndex], axe.Type.COLUMNS, colFields.length - fIndex);\n          }\n\n          // data fields setup\n          for (fIndex = 0; fIndex < datafields.length; fIndex++) {\n            var df = datafields[fIndex];\n            var dfname = df.name;\n            var dfcaption = df.caption || dfname;\n\n            self.query[dfname] = self.query[dfcaption] = self.measureFunc(dfname);\n          }\n\n          if (parameters) {\n            for (var param in parameters) {\n              if (parameters.hasOwnProperty(param)) {\n                self.query[param](parameters[param]);\n              }\n            }\n          }\n\n          self.setDefaultAggFunctions();\n\n          return self.query;\n        };\n\n        this.slice = function(field, axetype, depth) {\n          self.query[field.name] = self.query[field.caption || field.name] = function(val) {\n            var f = {\n              name: field.name,\n              val: val,\n              depth: depth\n            };\n            (self.filters[axetype] = self.filters[axetype] || []).push(f);\n            return self.query;\n          };\n        };\n\n        function filterDimensions(upperDims, filter) {\n          return function(dim) {\n            return dim.value === filter.val && (!upperDims || upperDims.some(function(upperDim) {\n              var parent = dim.parent;\n              if (parent) {\n                while (parent.depth < upperDim.depth) {\n                  parent = parent.parent;\n                }\n              }\n              return parent === upperDim;\n            }));\n          };\n        }\n\n        this.applyFilters = function(axetype) {\n          if (self.filters[axetype]) {\n            var sortedFilters = self.filters[axetype].sort(function(f1, f2) {\n              return f2.depth - f1.depth;\n            });\n\n            var currAxe = self.source[axetype === axe.Type.ROWS ? 'rows' : 'columns'];\n            var filterIndex = 0;\n            var filtered = null;\n            while (filterIndex < sortedFilters.length) {\n              var filter = sortedFilters[filterIndex];\n              filtered = currAxe.dimensionsByDepth[filter.depth].filter(filterDimensions(filtered, filter));\n              filterIndex++;\n            }\n            return filtered;\n          }\n          return null;\n        };\n\n        this.compute = function(options) {\n          var rowdims = self.applyFilters(axe.Type.ROWS) || [self.source.rows.root];\n          var coldims = self.applyFilters(axe.Type.COLUMNS) || [self.source.columns.root];\n\n          var aggs;\n\n          if (rowdims.length === 1 && coldims.length === 1) {\n            aggs = {};\n            for (var ai = 0; ai < options.fieldNames.length; ai++) {\n              aggs[options.fieldNames[ai]] = self.source.getData(options.fieldNames[ai], rowdims[0], coldims[0], options.aggregateFunc);\n            }\n          } else {\n            var rowIndexes = [];\n            var colIndexes = [];\n\n            for (var rdi = 0; rdi < rowdims.length; rdi++) {\n              rowIndexes = rowIndexes.concat(rowdims[rdi].getRowIndexes());\n            }\n            for (var cdi = 0; cdi < coldims.length; cdi++) {\n              colIndexes = colIndexes.concat(coldims[cdi].getRowIndexes());\n            }\n\n            aggs = self.source.calcAggregation(rowIndexes, colIndexes, options.fieldNames, options.aggregateFunc);\n          }\n\n          return aggs;\n        };\n      };\n\n      var arrayQuery = function arrayQuery(array) {\n\n        queryBase.call(this, array, {}, []);\n\n        var self = this;\n        var captionToName = {};\n\n        this.setCaptionName = function(caption, name) {\n          captionToName[caption || name] = name;\n        };\n\n        this.getCaptionName = function(caption) {\n          return captionToName[caption] || caption;\n        };\n\n        this.cleanOptions = function(options, innerArgs, outerArgs) {\n          var opts = {\n            fieldNames: []\n          };\n\n          if (outerArgs.multi === true) {\n            if (options && (typeof options === 'undefined' ? 'undefined' : (0, _typeof3.default)(options)) === 'object') {\n              opts.aggregateFunc = options.aggregateFunc;\n              opts.multiFieldNames = options.fields;\n            } else {\n              opts.aggregateFunc = outerArgs.aggregateFunc;\n              opts.multiFieldNames = innerArgs;\n            }\n\n            for (var ai = 0; ai < opts.multiFieldNames.length; ai++) {\n              opts.fieldNames.push(self.getCaptionName(opts.multiFieldNames[ai]));\n            }\n          } else {\n            opts.aggregateFunc = options || outerArgs.aggregateFunc;\n            opts.fieldNames.push(outerArgs.datafieldname);\n          }\n\n          return opts;\n        };\n\n        this.setup = function(fieldsConfig) {\n\n          self.query.slice = function(field, val) {\n            var f = {\n              name: field,\n              val: val\n            };\n            self.filters.push(f);\n            return self.query;\n          };\n\n          if (fieldsConfig) {\n\n            var fieldNames = utils.ownProperties(fieldsConfig);\n\n            for (var fi = 0; fi < fieldNames.length; fi++) {\n              var fname = fieldNames[fi];\n              var f = fieldsConfig[fname];\n              var fcaption = f.caption || f.name;\n              f.name = fname;\n\n              self.setCaptionName(fcaption, fname);\n\n              if (f.toAggregate) {\n                self.query[fname] = self.query[fcaption] = self.measureFunc(fname, false, f.aggregateFunc);\n              } else {\n                self.slice(f);\n              }\n            }\n          }\n\n          self.setDefaultAggFunctions(fieldsConfig);\n\n          return self.query;\n        };\n\n        this.slice = function(field) {\n          self.query[field.name] = self.query[field.caption || field.name] = function(val) {\n            return self.query.slice(field.name, val);\n          };\n        };\n\n        this.applyFilters = function() {\n          var rowIndexes = [];\n\n          for (var i = 0; i < self.source.length; i++) {\n            var row = self.source[i];\n            var include = true;\n            for (var j = 0; j < self.filters.length; j++) {\n              var filter = self.filters[j];\n              if (row[filter.name] !== filter.val) {\n                include = false;\n                break;\n              }\n            }\n            if (include) {\n              rowIndexes.push(i);\n            }\n          }\n\n          return rowIndexes;\n        };\n\n        this.compute = function(options, fieldsConfig, multi) {\n          var rowIndexes = self.applyFilters();\n\n          var aggs = {};\n\n          for (var ai = 0; ai < options.fieldNames.length; ai++) {\n            var datafield = options.fieldNames[ai];\n            var aggFunc = aggregation.toAggregateFunc(multi === true ? options.aggregateFunc || (fieldsConfig && fieldsConfig[datafield] ? fieldsConfig[datafield].aggregateFunc : undefined) : options.aggregateFunc);\n\n            aggs[datafield] = aggFunc(datafield, rowIndexes || 'all', self.source, rowIndexes, null);\n          }\n\n          return aggs;\n        };\n      };\n\n      module.exports = function(source, fieldsConfig) {\n        if (utils.isArray(source)) {\n          return new arrayQuery(source).setup(fieldsConfig);\n        } else {\n          // assume it's a pgrid\n          return function(parameters) {\n            return new pgridQuery(source).setup(parameters);\n          };\n        }\n      };\n\n    }, {\n      \"./orb.aggregation\": 35,\n      \"./orb.axe\": 36,\n      \"./orb.utils\": 53,\n      \"babel-runtime/helpers/typeof\": 3\n    }],\n    45: [function(_dereq_, module, exports) {\n\n      module.exports = function() {\n        var states = {};\n\n        this.set = function(key, state) {\n          states[key] = state;\n        };\n\n        this.get = function(key) {\n          return states[key];\n        };\n      };\n\n    }, {}],\n    46: [function(_dereq_, module, exports) {\n\n      module.exports = function() {\n\n        var currentTheme = 'blue';\n        var themeManager = {};\n\n        function isBootstrap() {\n          return currentTheme === 'bootstrap';\n        }\n\n        themeManager.themes = {\n          red: '#C72C48',\n          blue: '#5bc0de',\n          green: '#3fb618',\n          orange: '#df691a',\n          flower: '#A74AC7',\n          gray: '#808080',\n          black: '#000000',\n          white: '#FFFFFF'\n        };\n\n        themeManager.current = function(newTheme) {\n          if (newTheme) {\n            currentTheme = themeManager.validateTheme(newTheme);\n          }\n\n          return currentTheme;\n        };\n\n        themeManager.validateTheme = function(themeName) {\n          themeName = (themeName || '').toString().trim();\n          if (!themeManager.themes[themeName] && themeName !== 'bootstrap') {\n            return 'blue';\n          } else {\n            return themeName;\n          }\n        };\n\n        themeManager.getPivotClasses = function() {\n          return {\n            container: 'orb-container orb-' + currentTheme,\n            table: 'orb' + (isBootstrap() ? ' table' : '')\n          };\n        };\n\n        themeManager.getButtonClasses = function() {\n          return {\n            pivotButton: 'fld-btn' + (isBootstrap() ? ' btn btn-default btn-xs' : ''),\n            orbButton: 'orb-btn' + (isBootstrap() ? ' btn btn-default btn-xs' : ''),\n            scrollBar: isBootstrap() ? ' btn btn-default btn-xs' : ''\n          };\n        };\n\n        themeManager.getFilterClasses = function() {\n          return {\n            container: 'orb-' + currentTheme + ' orb fltr-cntnr'\n          };\n        };\n\n        themeManager.getGridClasses = function() {\n          return {\n            table: isBootstrap() ? 'table table-condensed' : 'orb-table'\n          };\n        };\n\n        themeManager.getDialogClasses = function(visible) {\n          var classes = {\n            overlay: 'orb-overlay orb-overlay-' + (visible ? 'visible' : 'hidden') + ' orb-' + currentTheme,\n            dialog: 'orb-dialog',\n            content: '',\n            header: 'orb-dialog-header',\n            title: '',\n            body: 'orb-dialog-body'\n          };\n\n          if (isBootstrap()) {\n            classes.overlay += ' modal';\n            classes.dialog += ' modal-dialog';\n            classes.content = 'modal-content';\n            classes.header += ' modal-header';\n            classes.title = 'modal-title';\n            classes.body += ' modal-body';\n          }\n          return classes;\n        };\n\n        var utils = themeManager.utils = {\n          hexToRgb: function hexToRgb(hex) {\n            var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n            return result ? {\n              r: parseInt(result[1], 16),\n              g: parseInt(result[2], 16),\n              b: parseInt(result[3], 16)\n            } : null;\n          },\n          rgbaToHex: function rgbaToHex(rgba) {\n            var matches = rgba.match(/rgba\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*\\)/);\n            if (matches) {\n              var alpha = parseFloat(matches[4]);\n              return '#' + utils.applyAlphaAndToHex(matches[1], alpha) + utils.applyAlphaAndToHex(matches[2], alpha) + utils.applyAlphaAndToHex(matches[3], alpha);\n            }\n            return null;\n          },\n          rgbaToHexA: function rgbaToHexA(rgba) {\n            var matches = rgba.match(/rgba\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*\\)/);\n            if (matches) {\n              var alpha = parseFloat(matches[4]);\n              return '#' + utils.applyAlphaAndToHex(0, alpha) + utils.applyAlphaAndToHex(matches[1], 1) + utils.applyAlphaAndToHex(matches[2], 1) + utils.applyAlphaAndToHex(matches[3], 1);\n            }\n            return null;\n          },\n          applyAlphaAndToHex: function applyAlphaAndToHex(value, alpha) {\n            return (Math.floor(alpha * parseInt(value) + (1 - alpha) * 255) + 256).toString(16).substr(1, 2);\n          },\n          fadeoutColor: function fadeoutColor(color, alpha) {\n            color = utils.hexToRgb(color);\n            return '#' + utils.applyAlphaAndToHex(color.r, alpha) + utils.applyAlphaAndToHex(color.g, alpha) + utils.applyAlphaAndToHex(color.b, alpha);\n          }\n        };\n\n        return themeManager;\n      }();\n\n    }, {}],\n    47: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(axeModel) {\n\n        var self = this;\n\n\n        this.axe = axeModel;\n\n\n        this.headers = [];\n\n        this.dataFieldsCount = function() {\n          return self.axe.pgrid.config.dataHeadersLocation === 'columns' && self.axe.type === axe.Type.COLUMNS || self.axe.pgrid.config.dataHeadersLocation === 'rows' && self.axe.type === axe.Type.ROWS ? self.axe.pgrid.config.dataFieldsCount : 1;\n        };\n\n        this.isMultiDataFields = function() {\n          return self.dataFieldsCount() > 1;\n        };\n\n        this.toggleFieldExpansion = function(field, newState) {\n          var toToggle = [];\n          var allExpanded = true;\n          var hIndex;\n\n          for (var i = 0; i < this.headers.length; i++) {\n            for (hIndex = 0; hIndex < this.headers[i].length; hIndex++) {\n              var header = this.headers[i][hIndex];\n              if (header.type === uiheaders.HeaderType.SUB_TOTAL && (field == null || header.dim.field.name == field.name)) {\n                toToggle.push(header);\n                allExpanded = allExpanded && header.expanded;\n              }\n            }\n          }\n\n          if (newState !== undefined) {\n            allExpanded = !newState;\n          }\n\n          if (toToggle.length > 0) {\n            for (hIndex = 0; hIndex < toToggle.length; hIndex++) {\n              if (allExpanded) {\n                toToggle[hIndex].collapse();\n              } else {\n                toToggle[hIndex].expand();\n              }\n            }\n            return true;\n          }\n\n          return false;\n        };\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.ui.header\": 49\n    }],\n    48: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var axeUi = _dereq_('./orb.ui.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(columnsAxe) {\n\n        var self = this;\n\n        axeUi.call(self, columnsAxe);\n\n        this.leafsHeaders = null;\n\n        this.build = function() {\n          self.headers = [];\n\n          if (self.axe != null) {\n            // Fill columns layout infos\n            if (self.axe.root.values.length > 0 || self.axe.pgrid.config.grandTotal.columnsvisible) {\n              for (var depth = self.axe.root.depth; depth > 1; depth--) {\n                self.headers.push([]);\n                getUiInfo(depth, self.headers);\n              }\n\n              if (self.axe.pgrid.config.grandTotal.columnsvisible) {\n                // add grandtotal header\n                (self.headers[0] = self.headers[0] || []).push(new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.GRAND_TOTAL, self.axe.root, null, self.dataFieldsCount()));\n              }\n            }\n\n            if (self.headers.length === 0) {\n              self.headers.push([new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.INNER, self.axe.root, null, self.dataFieldsCount())]);\n            }\n\n            // generate leafs headers\n            generateLeafsHeaders();\n          }\n        };\n\n        function generateLeafsHeaders() {\n\n          var leafsHeaders = [];\n\n          function pushsubtotal(pheader) {\n            if (pheader && pheader.dim.field.subTotal.visible) {\n              leafsHeaders.push(pheader.subtotalHeader);\n            }\n          }\n\n          if (self.headers.length > 0) {\n            // last headers row\n            var infos = self.headers[self.headers.length - 1];\n            var header = infos[0];\n\n            if (header) {\n              var currparent,\n                prevpar = header.parent;\n\n              for (var i = 0; i < infos.length; i++) {\n                header = infos[i];\n                currparent = header.parent;\n                // if current header parent is different than previous header parent,\n                // add previous parent\n                if (currparent != prevpar) {\n                  pushsubtotal(prevpar);\n                  if (currparent != null) {\n                    // walk up parent hierarchy and add grand parents if different\n                    // than current header grand parents\n                    var grandpar = currparent.parent;\n                    var prevgrandpar = prevpar ? prevpar.parent : null;\n                    while (grandpar != prevgrandpar && prevgrandpar != null) {\n                      pushsubtotal(prevgrandpar);\n                      grandpar = grandpar ? grandpar.parent : null;\n                      prevgrandpar = prevgrandpar ? prevgrandpar.parent : null;\n                    }\n                  }\n                  // update previous parent variable\n                  prevpar = currparent;\n                }\n                // push current header\n                leafsHeaders.push(infos[i]);\n\n                // if it's the last header, add all of its parents up to the top\n                if (i === infos.length - 1) {\n                  while (prevpar != null) {\n                    pushsubtotal(prevpar);\n                    prevpar = prevpar.parent;\n                  }\n                }\n              }\n              // grandtotal is visible for columns and if there is more than one dimension in this axe\n              if (self.axe.pgrid.config.grandTotal.columnsvisible && self.axe.dimensionsCount > 1) {\n                // push also grand total header\n                leafsHeaders.push(self.headers[0][self.headers[0].length - 1]);\n              }\n            }\n          }\n\n          // add data headers if more than 1 data field and they willbe the leaf headers\n          if (self.isMultiDataFields()) {\n            self.leafsHeaders = [];\n            for (var leafIndex = 0; leafIndex < leafsHeaders.length; leafIndex++) {\n              for (var datafieldindex = 0; datafieldindex < self.dataFieldsCount(); datafieldindex++) {\n                self.leafsHeaders.push(new uiheaders.dataHeader(self.axe.pgrid.config.dataFields[datafieldindex], leafsHeaders[leafIndex]));\n              }\n            }\n            self.headers.push(self.leafsHeaders);\n          } else {\n            self.leafsHeaders = leafsHeaders;\n          }\n        }\n\n        this.build();\n\n\n        function getUiInfo(depth, headers) {\n\n          var infos = headers[headers.length - 1];\n          var parents = self.axe.root.depth === depth ? [null] : headers[self.axe.root.depth - depth - 1].filter(function(p) {\n            return p.type !== uiheaders.HeaderType.SUB_TOTAL;\n          });\n\n          for (var pi = 0; pi < parents.length; pi++) {\n\n            var parent = parents[pi];\n            var parentDim = parent == null ? self.axe.root : parent.dim;\n\n            for (var di = 0; di < parentDim.values.length; di++) {\n\n              var subvalue = parentDim.values[di];\n              var subdim = parentDim.subdimvals[subvalue];\n\n              var subtotalHeader;\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                subtotalHeader = new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.SUB_TOTAL, subdim, parent, self.dataFieldsCount());\n              } else {\n                subtotalHeader = null;\n              }\n\n              var header = new uiheaders.header(axe.Type.COLUMNS, null, subdim, parent, self.dataFieldsCount(), subtotalHeader);\n              infos.push(header);\n\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                infos.push(subtotalHeader);\n              }\n            }\n          }\n        }\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.ui.axe\": 47,\n      \"./orb.ui.header\": 49\n    }],\n    49: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe'),\n        state = new(_dereq_('./orb.state'))();\n\n      var HeaderType = module.exports.HeaderType = {\n        EMPTY: 1,\n        DATA_HEADER: 2,\n        DATA_VALUE: 3,\n        FIELD_BUTTON: 4,\n        INNER: 5,\n        WRAPPER: 6,\n        SUB_TOTAL: 7,\n        GRAND_TOTAL: 8,\n        getHeaderClass: function getHeaderClass(headerType, axetype) {\n          var cssclass = axetype === axe.Type.ROWS ? 'header-row' : axetype === axe.Type.COLUMNS ? 'header-col' : '';\n          switch (headerType) {\n            case HeaderType.EMPTY:\n            case HeaderType.FIELD_BUTTON:\n              cssclass = 'empty';\n              break;\n            case HeaderType.INNER:\n              cssclass = 'header ' + cssclass;\n              break;\n            case HeaderType.WRAPPER:\n              cssclass = 'header ' + cssclass;\n              break;\n            case HeaderType.SUB_TOTAL:\n              cssclass = 'header header-st ' + cssclass;\n              break;\n            case HeaderType.GRAND_TOTAL:\n              cssclass = 'header header-gt ' + cssclass;\n              break;\n          }\n\n          return cssclass;\n        },\n        getCellClass: function getCellClass(rowHeaderType, colHeaderType) {\n          var cssclass = '';\n          switch (rowHeaderType) {\n            case HeaderType.GRAND_TOTAL:\n              cssclass = 'cell-gt';\n              break;\n            case HeaderType.SUB_TOTAL:\n              if (colHeaderType === HeaderType.GRAND_TOTAL) {\n                cssclass = 'cell-gt';\n              } else {\n                cssclass = 'cell-st';\n              }\n              break;\n            default:\n              if (colHeaderType === HeaderType.GRAND_TOTAL) {\n                cssclass = 'cell-gt';\n              } else if (colHeaderType === HeaderType.SUB_TOTAL) {\n                cssclass = 'cell-st';\n              } else {\n                cssclass = '';\n              }\n          }\n          return cssclass;\n        }\n      };\n\n      function CellBase(options) {\n\n        this.axetype = options.axetype;\n\n        this.type = options.type;\n\n        this.template = options.template;\n\n        this.value = options.value;\n\n        this.expanded = true;\n\n        this.cssclass = options.cssclass;\n\n        this.hspan = options.hspan || function() {\n          return 1;\n        };\n\n        this.vspan = options.vspan || function() {\n          return 1;\n        };\n\n        this.visible = options.isvisible || function() {\n          return true;\n        };\n\n        this.key = this.axetype + this.type + this.value;\n        this.getState = function() {\n          return state.get(this.key);\n        };\n        this.setState = function(newState) {\n          state.set(this.key, newState);\n        };\n      }\n\n      module.exports.header = function(axetype, headerType, dim, parent, datafieldscount, subtotalHeader) {\n\n        var self = this;\n\n        var hspan;\n        var vspan;\n        var value;\n\n        var isRowsAxe = axetype === axe.Type.ROWS;\n        headerType = headerType || (dim.depth === 1 ? HeaderType.INNER : HeaderType.WRAPPER);\n\n        switch (headerType) {\n          case HeaderType.GRAND_TOTAL:\n            value = 'Grand Total';\n            hspan = isRowsAxe ? dim.depth - 1 || 1 : datafieldscount;\n            vspan = isRowsAxe ? datafieldscount : dim.depth - 1 || 1;\n            break;\n          case HeaderType.SUB_TOTAL:\n            value = dim.field && dim.value ? dim.field.headerFunc ? dim.field.headerFunc(dim.value) : dim.value : dim.value;\n            hspan = isRowsAxe ? dim.depth : datafieldscount;\n            vspan = isRowsAxe ? datafieldscount : dim.depth;\n            break;\n          default:\n            value = dim.field && dim.value ? dim.field.headerFunc ? dim.field.headerFunc(dim.value) : dim.value : dim.value;\n            hspan = isRowsAxe ? 1 : null;\n            vspan = isRowsAxe ? null : 1;\n            break;\n        }\n\n        CellBase.call(this, {\n          axetype: axetype,\n          type: headerType,\n          template: isRowsAxe ? 'cell-template-row-header' : 'cell-template-column-header',\n          value: value,\n          cssclass: HeaderType.getHeaderClass(headerType, axetype),\n          hspan: hspan != null ? function() {\n            return hspan;\n          } : calcSpan,\n          vspan: vspan != null ? function() {\n            return vspan;\n          } : calcSpan,\n          isvisible: isParentExpanded\n        });\n\n        this.subtotalHeader = subtotalHeader;\n        this.parent = parent;\n        this.subheaders = [];\n        this.dim = dim;\n        this.expanded = this.getState() ? this.getState().expanded : headerType !== HeaderType.SUB_TOTAL || !dim.field.subTotal.collapsed;\n\n        this.expand = function() {\n          self.expanded = true;\n          this.setState({\n            expanded: self.expanded\n          });\n        };\n        this.collapse = function() {\n          self.expanded = false;\n          this.setState({\n            expanded: self.expanded\n          });\n        };\n\n        if (parent != null) {\n          parent.subheaders.push(this);\n        }\n\n        function isParentExpanded() {\n          if (self.type === HeaderType.SUB_TOTAL) {\n            var hparent = self.parent;\n            while (hparent != null) {\n              if (hparent.subtotalHeader && !hparent.subtotalHeader.expanded) {\n                return false;\n              }\n              hparent = hparent.parent;\n            }\n            return true;\n          } else {\n\n            var isexpanded = self.dim.isRoot || self.dim.isLeaf || !self.dim.field.subTotal.visible || self.subtotalHeader.expanded;\n            if (!isexpanded) {\n              return false;\n            }\n\n            var par = self.parent;\n            while (par != null && (!par.dim.field.subTotal.visible || par.subtotalHeader != null && par.subtotalHeader.expanded)) {\n              par = par.parent;\n            }\n            return par == null || par.subtotalHeader == null ? isexpanded : par.subtotalHeader.expanded;\n          }\n        }\n\n        function calcSpan(ignoreVisibility) {\n          var tspan = 0;\n          var subSpan;\n          var addone = false;\n\n          if (isRowsAxe || ignoreVisibility || self.visible()) {\n            if (!self.dim.isLeaf) {\n              // subdimvals 'own' properties are the set of values for this dimension\n              if (self.subheaders.length > 0) {\n                for (var i = 0; i < self.subheaders.length; i++) {\n                  var subheader = self.subheaders[i];\n                  // if its not an array\n                  if (!subheader.dim.isLeaf) {\n                    subSpan = isRowsAxe ? subheader.vspan() : subheader.hspan();\n                    tspan += subSpan;\n                    if (i === 0 && subSpan === 0) {\n                      addone = true;\n                    }\n                  } else {\n                    tspan += datafieldscount;\n                  }\n                }\n              } else {\n                tspan += datafieldscount;\n              }\n            } else {\n              return datafieldscount;\n            }\n            return tspan + (addone ? 1 : 0);\n          }\n          return tspan;\n        }\n      };\n\n      module.exports.dataHeader = function(datafield, parent) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.DATA_HEADER,\n          template: 'cell-template-dataheader',\n          value: datafield,\n          cssclass: HeaderType.getHeaderClass(parent.type, parent.axetype),\n          isvisible: parent.visible\n        });\n\n        this.parent = parent;\n      };\n\n      module.exports.dataCell = function(pgrid, isvisible, rowinfo, colinfo) {\n\n        this.rowDimension = rowinfo.type === HeaderType.DATA_HEADER ? rowinfo.parent.dim : rowinfo.dim;\n        this.columnDimension = colinfo.type === HeaderType.DATA_HEADER ? colinfo.parent.dim : colinfo.dim;\n        this.rowType = rowinfo.type === HeaderType.DATA_HEADER ? rowinfo.parent.type : rowinfo.type;\n        this.colType = colinfo.type === HeaderType.DATA_HEADER ? colinfo.parent.type : colinfo.type;\n\n        this.datafield = pgrid.config.dataFieldsCount > 1 ? pgrid.config.dataHeadersLocation === 'rows' ? rowinfo.value : colinfo.value : pgrid.config.dataFields[0];\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.DATA_VALUE,\n          template: 'cell-template-datavalue',\n          value: pgrid.getData(this.datafield ? this.datafield.name : null, this.rowDimension, this.columnDimension),\n          cssclass: 'cell ' + HeaderType.getCellClass(this.rowType, this.colType),\n          isvisible: isvisible\n        });\n      };\n\n      module.exports.buttonCell = function(field) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.FIELD_BUTTON,\n          template: 'cell-template-fieldbutton',\n          value: field,\n          cssclass: HeaderType.getHeaderClass(HeaderType.FIELD_BUTTON)\n        });\n      };\n\n      module.exports.emptyCell = function(_hspan, _vspan) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.EMPTY,\n          template: 'cell-template-empty',\n          value: null,\n          cssclass: HeaderType.getHeaderClass(HeaderType.EMPTY),\n          hspan: function hspan() {\n            return _hspan;\n          },\n          vspan: function vspan() {\n            return _vspan;\n          }\n        });\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.state\": 45\n    }],\n    50: [function(_dereq_, module, exports) {\n\n      var ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        axe = _dereq_('./orb.axe'),\n        pgrid = _dereq_('./orb.pgrid'),\n        uiheaders = _dereq_('./orb.ui.header'),\n        uirows = _dereq_('./orb.ui.rows'),\n        uicols = _dereq_('./orb.ui.cols'),\n        Dialog = _dereq_('./react/orb.react.Dialog.jsx'),\n        PivotChart = _dereq_('./react/orb.react.PivotChart.jsx'),\n        PivotTable = _dereq_('./react/orb.react.PivotTable.jsx'),\n        Grid = _dereq_('./react/orb.react.Grid.jsx');\n\n      module.exports = function(config) {\n\n        var self = this;\n        var renderElement;\n        var pivotComponent;\n        var dialog = Dialog.create();\n\n\n        this.pgrid = new pgrid(config);\n\n\n        this.rows = null;\n\n        this.columns = null;\n\n\n        this.dataRows = [];\n\n        this.layout = {\n          rowHeaders: {\n\n            width: null,\n\n            height: null\n          },\n          columnHeaders: {\n\n            width: null,\n\n            height: null\n          },\n          pivotTable: {\n\n            width: null,\n\n            height: null\n          }\n        };\n\n        this.expandRow = function(cell) {\n          cell.expand();\n          this.render();\n        };\n\n        this.collapseRow = function(cell) {\n          cell.subtotalHeader.collapse();\n          this.render();\n        };\n\n        this.sort = function(axetype, field) {\n          self.pgrid.sort(axetype, field);\n        };\n\n        this.refreshData = function(data) {\n          self.pgrid.refreshData(data);\n        };\n\n        this.applyFilter = function(fieldname, operator, term, staticValue, excludeStatic) {\n          self.pgrid.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        };\n\n        this.moveField = function(field, oldAxeType, newAxeType, position) {\n          self.pgrid.moveField(field, oldAxeType, newAxeType, position);\n        };\n\n        this.toggleFieldExpansion = function(axetype, field, newState) {\n          var axeToExpand = axetype === axe.Type.ROWS ? self.rows : axetype === axe.Type.COLUMNS ? self.columns : null;\n\n          if (axeToExpand && axeToExpand.toggleFieldExpansion(field, newState)) {\n            self.render();\n          }\n        };\n\n        this.toggleSubtotals = function(axetype) {\n          self.pgrid.toggleSubtotals(axetype);\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          return self.pgrid.areSubtotalsVisible(axetype);\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          self.pgrid.toggleGrandtotal(axetype);\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          return self.pgrid.isGrandtotalVisible(axetype);\n        };\n\n        this.changeTheme = function(newTheme) {\n          pivotComponent.changeTheme(newTheme);\n        };\n\n        this.render = function(element) {\n          renderElement = element || renderElement;\n          if (renderElement) {\n            var pivotTableFactory = React.createFactory(self.pgrid.config.chartMode.enabled ? PivotChart : PivotTable);\n            var pivottable = pivotTableFactory({\n              pgridwidget: self\n            });\n\n            pivotComponent = ReactDOM.render(pivottable, renderElement);\n          }\n        };\n\n        this.unmount = function() {\n          ReactDOM.unmountComponentAtNode(renderElement);\n        };\n\n        this.drilldown = function(dataCell, pivotId) {\n          if (dataCell) {\n            var colIndexes = dataCell.columnDimension.getRowIndexes();\n            var data = dataCell.rowDimension.getRowIndexes().filter(function(index) {\n              return colIndexes.indexOf(index) >= 0;\n            }).map(function(index) {\n              return self.pgrid.filteredDataSource[index];\n            });\n\n            var title;\n            if (dataCell.rowType === uiheaders.HeaderType.GRAND_TOTAL && dataCell.colType === uiheaders.HeaderType.GRAND_TOTAL) {\n              title = 'Grand total';\n            } else {\n              if (dataCell.rowType === uiheaders.HeaderType.GRAND_TOTAL) {\n                title = dataCell.columnDimension.value + '/Grand total ';\n              } else if (dataCell.colType === uiheaders.HeaderType.GRAND_TOTAL) {\n                title = dataCell.rowDimension.value + '/Grand total ';\n              } else {\n                title = dataCell.rowDimension.value + '/' + dataCell.columnDimension.value;\n              }\n            }\n\n            dialog.show({\n              title: title,\n              comp: {\n                type: Grid,\n                props: {\n                  headers: self.pgrid.config.getDataSourceFieldCaptions(),\n                  data: data,\n                  theme: self.pgrid.config.theme\n                }\n              },\n              theme: self.pgrid.config.theme,\n              style: pivotComponent.fontStyle\n            });\n          }\n        };\n\n        function init() {\n          self.pgrid.subscribe(pgrid.EVENT_UPDATED, buildUiAndRender);\n          self.pgrid.subscribe(pgrid.EVENT_SORT_CHANGED, buildUiAndRender);\n          self.pgrid.subscribe(pgrid.EVENT_CONFIG_CHANGED, buildUiAndRender);\n\n          buildUi();\n        }\n\n        function buildUi() {\n\n          // build row and column headers\n          self.rows = new uirows(self.pgrid.rows);\n          self.columns = new uicols(self.pgrid.columns);\n\n          var rowsHeaders = self.rows.headers;\n          var columnsLeafHeaders = self.columns.leafsHeaders;\n\n          // set control layout infos\t\t\n          self.layout = {\n            rowHeaders: {\n              width: (self.pgrid.rows.fields.length || 1) + (self.pgrid.config.dataHeadersLocation === 'rows' && self.pgrid.config.dataFieldsCount > 1 ? 1 : 0),\n              height: rowsHeaders.length\n            },\n            columnHeaders: {\n              width: self.columns.leafsHeaders.length,\n              height: (self.pgrid.columns.fields.length || 1) + (self.pgrid.config.dataHeadersLocation === 'columns' && self.pgrid.config.dataFieldsCount > 1 ? 1 : 0)\n            }\n          };\n\n          self.layout.pivotTable = {\n            width: self.layout.rowHeaders.width + self.layout.columnHeaders.width,\n            height: self.layout.rowHeaders.height + self.layout.columnHeaders.height\n          };\n\n          var dataRows = [];\n          var arr;\n\n          function createVisibleFunc(rowvisible, colvisible) {\n            return function() {\n              return rowvisible() && colvisible();\n            };\n          }\n          if (rowsHeaders.length > 0) {\n            for (var ri = 0; ri < rowsHeaders.length; ri++) {\n              var rowHeadersRow = rowsHeaders[ri];\n              var rowLeafHeader = rowHeadersRow[rowHeadersRow.length - 1];\n\n              arr = [];\n              for (var colHeaderIndex = 0; colHeaderIndex < columnsLeafHeaders.length; colHeaderIndex++) {\n                var columnLeafHeader = columnsLeafHeaders[colHeaderIndex];\n                var isvisible = createVisibleFunc(rowLeafHeader.visible, columnLeafHeader.visible);\n                arr[colHeaderIndex] = new uiheaders.dataCell(self.pgrid, isvisible, rowLeafHeader, columnLeafHeader);\n              }\n              dataRows.push(arr);\n            }\n          }\n          self.dataRows = dataRows;\n        }\n\n        function buildUiAndRender() {\n          buildUi();\n          self.render();\n        }\n\n        init();\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.pgrid\": 42,\n      \"./orb.ui.cols\": 48,\n      \"./orb.ui.header\": 49,\n      \"./orb.ui.rows\": 51,\n      \"./react/orb.react.Dialog.jsx\": 55,\n      \"./react/orb.react.Grid.jsx\": 62,\n      \"./react/orb.react.PivotChart.jsx\": 65,\n      \"./react/orb.react.PivotTable.jsx\": 74,\n      \"react-dom\": \"react-dom\"\n    }],\n    51: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var axeUi = _dereq_('./orb.ui.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(rowsAxe) {\n\n        var self = this;\n\n        axeUi.call(self, rowsAxe);\n\n        this.build = function() {\n          var headers = [];\n          var grandtotalHeader;\n\n          if (self.axe != null) {\n            if (self.axe.root.values.length > 0 || self.axe.pgrid.config.grandTotal.rowsvisible) {\n              headers.push([]);\n\n              // Fill Rows layout infos\n              getUiInfo(headers, self.axe.root);\n\n              if (self.axe.pgrid.config.grandTotal.rowsvisible) {\n                var lastrow = headers[headers.length - 1];\n                grandtotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.GRAND_TOTAL, self.axe.root, null, self.dataFieldsCount());\n                if (lastrow.length === 0) {\n                  lastrow.push(grandtotalHeader);\n                } else {\n                  headers.push([grandtotalHeader]);\n                }\n              }\n            }\n\n            if (headers.length === 0) {\n              headers.push([grandtotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.INNER, self.axe.root, null, self.dataFieldsCount())]);\n            }\n\n            if (grandtotalHeader) {\n              // add grand-total data headers if more than 1 data field and they will be the leaf headers\n              addDataHeaders(headers, grandtotalHeader);\n            }\n          }\n          self.headers = headers;\n        };\n\n        this.build();\n\n        function addDataHeaders(infos, parent) {\n          if (self.isMultiDataFields()) {\n            var lastInfosArray = infos[infos.length - 1];\n            for (var datafieldindex = 0; datafieldindex < self.dataFieldsCount(); datafieldindex++) {\n              lastInfosArray.push(new uiheaders.dataHeader(self.axe.pgrid.config.dataFields[datafieldindex], parent));\n              if (datafieldindex < self.dataFieldsCount() - 1) {\n                infos.push(lastInfosArray = []);\n              }\n            }\n          }\n        }\n\n\n        function getUiInfo(infos, dimension) {\n          if (dimension.values.length > 0) {\n\n            var infosMaxIndex = infos.length - 1;\n            var lastInfosArray = infos[infosMaxIndex];\n            var parent = lastInfosArray.length > 0 ? lastInfosArray[lastInfosArray.length - 1] : null;\n\n            for (var valIndex = 0; valIndex < dimension.values.length; valIndex++) {\n              var subvalue = dimension.values[valIndex];\n              var subdim = dimension.subdimvals[subvalue];\n\n              var subTotalHeader;\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                subTotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.SUB_TOTAL, subdim, parent, self.dataFieldsCount());\n              } else {\n                subTotalHeader = null;\n              }\n\n              var newHeader = new uiheaders.header(axe.Type.ROWS, null, subdim, parent, self.dataFieldsCount(), subTotalHeader);\n\n              if (valIndex > 0) {\n                infos.push(lastInfosArray = []);\n              }\n\n              lastInfosArray.push(newHeader);\n\n              if (!subdim.isLeaf) {\n                getUiInfo(infos, subdim);\n                if (subdim.field.subTotal.visible) {\n                  infos.push([subTotalHeader]);\n\n                  // add sub-total data headers if more than 1 data field and they will be the leaf headers\n                  addDataHeaders(infos, subTotalHeader);\n                }\n              } else {\n                // add data headers if more than 1 data field and they will be the leaf headers\n                addDataHeaders(infos, newHeader);\n              }\n            }\n          }\n        }\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.ui.axe\": 47,\n      \"./orb.ui.header\": 49\n    }],\n    52: [function(_dereq_, module, exports) {\n\n      module.exports.removeClass = function(element, classname) {\n        if (element && classname) {\n          while (element.className.indexOf(classname) >= 0) {\n            element.className = element.className.replace(classname, '');\n          }\n        }\n      };\n\n      module.exports.addClass = function(element, classname) {\n        if (element && classname) {\n          if (element.className.indexOf(classname) < 0) {\n            element.className += ' ' + classname;\n          }\n        }\n      };\n\n      module.exports.getOffset = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          return {\n            x: rect.left,\n            y: rect.top\n          };\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      };\n\n      module.exports.getParentOffset = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          var rectParent = element.parentNode != null ? element.parentNode.getBoundingClientRect() : {\n            top: 0,\n            left: 0\n          };\n          return {\n            x: rect.left - rectParent.left,\n            y: rect.top - rectParent.top\n          };\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      };\n\n      module.exports.getSize = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          return {\n            width: rect.right - rect.left,\n            height: rect.bottom - rect.top\n          };\n        }\n        return {\n          width: 0,\n          height: 0\n        };\n      };\n\n      var reHyphenToUcase = /\\-(\\w)/g;\n\n      function replaceHyphenByUcase(val) {\n        return val.replace(reHyphenToUcase, function(m, m1) {\n          return m1.toUpperCase();\n        });\n      }\n\n      module.exports.getStyle = function(element, styleProps, keepString) {\n        var values = [];\n        if (element && styleProps) {\n          var currStyle, f, fixProp;\n          if (element.currentStyle) {\n            currStyle = element.currentStyle;\n            f = function f(prop) {\n              return currStyle[prop];\n            };\n            fixProp = true;\n          } else if (window && window.getComputedStyle) {\n            currStyle = window.getComputedStyle(element, null);\n            f = function f(prop) {\n              return currStyle.getPropertyValue(prop);\n            };\n          }\n\n          for (var i = 0; i < styleProps.length; i++) {\n            var val = f(fixProp ? replaceHyphenByUcase(styleProps[i]) : styleProps[i]);\n            values.push(val && keepString !== true ? Math.ceil(parseFloat(val)) : val);\n          }\n        }\n        return values;\n      };\n\n      module.exports.isVisible = function(element) {\n        if (element) {\n          return element.style.display !== 'none' && (element.offsetWidth !== 0 || element.offsetHeight !== 0);\n        }\n        return false;\n      };\n\n      module.exports.updateTableColGroup = function(tableNode, widths) {\n        if (tableNode) {\n          var colGroupNode = tableNode.firstChild;\n          if (colGroupNode && colGroupNode.nodeName === 'COLGROUP') {\n            tableNode.style.tableLayout = 'auto';\n            tableNode.style.width = '';\n\n            while (colGroupNode.firstChild) {\n              colGroupNode.removeChild(colGroupNode.firstChild);\n            }\n            for (var i = 0; i < widths.length; i++) {\n              var col = document.createElement('col');\n              col.style.width = widths[i] + 'px';\n              colGroupNode.appendChild(col);\n            }\n            tableNode.style.tableLayout = 'fixed';\n          }\n        }\n      };\n\n    }, {}],\n    53: [function(_dereq_, module, exports) {\n      (function(global) {\n\n        var _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\n        var _stringify2 = _interopRequireDefault(_stringify);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        module.exports = {\n\n          ns: function ns(identifier, parent) {\n            var parts = identifier.split('.');\n            var i = 0;\n            parent = parent || window;\n            while (i < parts.length) {\n              parent[parts[i]] = parent[parts[i]] || {};\n              parent = parent[parts[i]];\n              i++;\n            }\n            return parent;\n          },\n\n          ownProperties: function ownProperties(obj) {\n            var arr = [];\n            for (var prop in obj) {\n              if (obj.hasOwnProperty(prop)) {\n                arr.push(prop);\n              }\n            }\n            return arr;\n          },\n\n          forEach: function forEach(list, callback, forceContinue) {\n            var ret;\n            if (list) {\n              for (var i = 0, l = list.length; i < l; i++) {\n                ret = callback(list[i], i);\n                if (ret && forceContinue !== true) {\n                  break;\n                }\n              }\n            }\n            return ret;\n          },\n\n          isArray: function isArray(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Array]';\n          },\n\n          isNumber: function isNumber(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Number]';\n          },\n\n          isDate: function isDate(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Date]';\n          },\n\n          isString: function isString(obj) {\n            return Object.prototype.toString.apply(obj) === '[object String]';\n          },\n\n          isRegExp: function isRegExp(obj) {\n            return Object.prototype.toString.apply(obj) === '[object RegExp]';\n          },\n\n          isFunction: function isFunction(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Function]';\n          },\n\n          escapeRegex: function escapeRegex(re) {\n            return re.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n          },\n\n          findInArray: function findInArray(array, predicate) {\n            if (this.isArray(array) && predicate) {\n              for (var i = 0; i < array.length; i++) {\n                var item = array[i];\n                if (predicate(item)) {\n                  return item;\n                }\n              }\n            }\n            return undefined;\n          },\n\n          jsonStringify: function jsonStringify(obj, censorKeywords) {\n            function censor(key, value) {\n              return censorKeywords && censorKeywords.indexOf(key) > -1 ? undefined : value;\n            }\n            return (0, _stringify2.default)(obj, censor, 2);\n          },\n          addEventListener: function addEventListener(element, eventName, handler) {\n            if (element.addEventListener) {\n              element.addEventListener(eventName, handler, false);\n            } else if (element.attachEvent) {\n              element.attachEvent('on' + eventName, handler);\n            } else {\n              element[\"on\" + eventName] = handler;\n            }\n          },\n          removeEventListener: function removeEventListener(element, eventName, handler) {\n            if (element.removeEventListener) {\n              element.removeEventListener(eventName, handler, false);\n            } else if (element.detachEvent) {\n              element.detachEvent(\"on\" + eventName, handler);\n            } else {\n              element[\"on\" + eventName] = null;\n            }\n          },\n          preventDefault: function preventDefault(e) {\n            e = e || window.event;\n\n            if (e.preventDefault) {\n              e.preventDefault();\n            } else {\n              e.returnValue = false;\n            }\n          },\n          stopPropagation: function stopPropagation(e) {\n            e = e || window.event;\n\n            if (e.stopPropagation) {\n              e.stopPropagation();\n            } else {\n              e.cancelBubble = true;\n            }\n          },\n          getEventButton: function getEventButton(e) {\n            var button = e.button;\n            if ('which' in e) {\n              return button;\n            }\n            // IE 8\n            return button === 1 ? 0 : // left\n              button === 4 ? 1 : // middle\n              2; // right\n          },\n          getMousePageXY: function getMousePageXY(e) {\n            e = e || window.event;\n\n            var pageX = e.pageX;\n            var pageY = e.pageY;\n            if (pageX === undefined) {\n              pageX = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n              pageY = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n            }\n            return {\n              pageX: pageX,\n              pageY: pageY\n            };\n          }\n        };\n\n        // from: https://github.com/davidchambers/Base64.js\n\n        (function(object) {\n          var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n          function InvalidCharacterError(message) {\n            this.message = message;\n          }\n          InvalidCharacterError.prototype = new Error();\n          InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n          // encoder\n          // [https://gist.github.com/999166] by [https://github.com/nignag]\n          object.btoa = global && global.btoa ? function(str) {\n            return global.btoa(str);\n          } : function(input) {\n            var str = String(input);\n            for (\n              // initialize result and counter\n              var block, charCode, idx = 0, map = chars, output = '';\n              // if the next str index does not exist:\n              // change the mapping table to \"=\"\n              // check if d has no fractional digits\n              str.charAt(idx | 0) || (map = '=', idx % 1);\n              // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n              output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n              charCode = str.charCodeAt(idx += 3 / 4);\n              if (charCode > 0xFF) {\n                throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n              }\n              block = block << 8 | charCode;\n            }\n            return output;\n          };\n\n          // decoder\n          // [https://gist.github.com/1020396] by [https://github.com/atk]\n          object.atob = global && global.atob ? function(str) {\n            return global.atob(str);\n          } : function(input) {\n            var str = String(input).replace(/=+$/, '');\n            if (str.length % 4 == 1) {\n              throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n            }\n            for (\n              // initialize result and counters\n              var bc = 0, bs, buffer, idx = 0, output = '';\n              // get next character\n              buffer = str.charAt(idx++);\n              // character found in table? initialize bit storage and add its ascii value;\n              ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n                // and if not first of each 4 characters,\n                // convert the first 8 bits to one ascii character\n                bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {\n              // try to find character in table (0-63, not found => -1)\n              buffer = chars.indexOf(buffer);\n            }\n            return output;\n          };\n        })(module.exports);\n\n      }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n    }, {\n      \"babel-runtime/core-js/json/stringify\": 1\n    }],\n    54: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function getInitialState() {\n          return {\n            canRender: false\n          };\n        },\n        canRender: function canRender() {\n          return this.state.canRender && typeof this.props.chartMode.type === 'string' && typeof google.visualization[this.props.chartMode.type] === 'function';\n        },\n        drawChart: function drawChart() {\n          if (this.canRender()) {\n            var chartData = this.props.pivotTableComp.pgridwidget.pgrid.getChartData();\n            var data = new google.visualization.DataTable();\n\n            data.addColumn('string', chartData.hAxisLabel);\n            for (var ri = 0; ri < chartData.colNames.length; ri++) {\n              data.addColumn('number', chartData.colNames[ri]);\n            }\n\n            data.addRows(chartData.dataTable);\n\n            var options = {\n              title: chartData.title,\n              //isStacked: true,\n              fontName: this.state.chartStyle.fontFamily,\n              fontSize: parseFloat(this.state.chartStyle.fontSize),\n              hAxis: {\n                title: chartData.hAxisLabel\n              },\n              vAxis: {\n                title: chartData.vAxisLabel\n              }\n            };\n\n            if (typeof google.visualization[this.props.chartMode.type] === 'function') {\n              var chart = new google.visualization[this.props.chartMode.type](ReactDOM.findDOMNode(this));\n              chart.draw(data, options);\n            }\n          }\n        },\n        componentDidMount: function componentDidMount() {\n          this.drawChart();\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.drawChart();\n        },\n        render: function render() {\n          if (this.canRender()) {\n            return React.createElement('div', {\n              className: 'chart',\n              style: this.state.chartStyle\n            });\n          }\n          return null;\n        }\n      });\n\n    }, {\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    55: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        utils = _dereq_('../orb.utils');\n\n      function createOverlay() {\n        var overlayElement = document.createElement('div');\n        overlayElement.className = 'orb-overlay orb-overlay-hidden';\n        document.body.appendChild(overlayElement);\n        return overlayElement;\n      }\n\n      var Dialog = module.exports = React.createClass({\n        displayName: 'exports',\n\n        statics: {\n          create: function create() {\n            var dialogFactory = React.createFactory(Dialog);\n            var overlay = createOverlay();\n\n            return {\n              show: function show(props) {\n                ReactDOM.render(dialogFactory(props), overlay);\n              }\n            };\n          }\n        },\n        overlayElement: null,\n        setOverlayClass: function setOverlayClass(visible) {\n          this.overlayElement.className = this.props.theme.getDialogClasses(visible).overlay;\n        },\n        componentDidMount: function componentDidMount() {\n          this.overlayElement = ReactDOM.findDOMNode(this).parentNode;\n          this.setOverlayClass(true);\n          utils.addEventListener(this.overlayElement, 'click', this.close);\n\n          var dialogElement = this.overlayElement.children[0];\n          var dialogBodyElement = dialogElement.children[0].children[1];\n\n          var screenWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n          var screenHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n          var maxHeight = 2 * screenHeight / 3;\n          maxHeight = maxHeight < 301 ? 301 : maxHeight;\n          var dWidth = dialogElement.offsetWidth + (dialogElement.offsetHeight > maxHeight ? 11 : 0);\n          var dHeight = dialogElement.offsetHeight > maxHeight ? maxHeight : dialogElement.offsetHeight;\n\n          dialogElement.style.top = (screenHeight > dHeight ? (screenHeight - dHeight) / 2 : 0) + 'px';\n          dialogElement.style.left = (screenWidth > dWidth ? (screenWidth - dWidth) / 2 : 0) + 'px';\n          dialogElement.style.height = dHeight + 'px';\n          dialogBodyElement.style.width = dWidth + 'px';\n          dialogBodyElement.style.height = dHeight - 45 + 'px';\n        },\n        close: function close(e) {\n          var target = e.target || e.srcElement;\n          if (target == this.overlayElement || target.className === 'button-close') {\n            utils.removeEventListener(this.overlayElement, 'click', this.close);\n            ReactDOM.unmountComponentAtNode(this.overlayElement);\n            this.setOverlayClass(false);\n          }\n        },\n        render: function render() {\n          if (this.props.comp) {\n            var comp = React.createElement(this.props.comp.type, this.props.comp.props);\n            var classes = this.props.theme.getDialogClasses();\n\n            return React.createElement(\n              'div', {\n                className: classes.dialog,\n                style: this.props.style || {}\n              },\n              React.createElement(\n                'div', {\n                  className: classes.content\n                },\n                React.createElement(\n                  'div', {\n                    className: classes.header\n                  },\n                  React.createElement('div', {\n                    className: 'button-close',\n                    onClick: this.close\n                  }),\n                  React.createElement(\n                    'div', {\n                      className: classes.title\n                    },\n                    this.props.title\n                  )\n                ),\n                React.createElement(\n                  'div', {\n                    className: classes.body\n                  },\n                  comp\n                )\n              )\n            );\n          }\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    56: [function(_dereq_, module, exports) {\n\n      var ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        utils = _dereq_('../orb.utils');\n\n      module.exports = function() {\n\n        var _pivotComp = null;\n\n        var _currDragElement = null;\n        var _currDropTarget = null;\n        var _currDropIndicator = null;\n\n        var _dragNode = null;\n        var _dropTargets = [];\n        var _dropIndicators = [];\n\n        function doElementsOverlap(elem1Rect, elem2Rect) {\n          return !(elem1Rect.right < elem2Rect.left || elem1Rect.left > elem2Rect.right || elem1Rect.bottom < elem2Rect.top || elem1Rect.top > elem2Rect.bottom);\n        }\n\n        function setCurrDropTarget(dropTarget, callback) {\n          if (_currDropTarget) {\n            signalDragEnd(_currDropTarget, function() {\n              _currDropTarget = dropTarget;\n              signalDragOver(dropTarget, callback);\n            });\n          } else {\n            _currDropTarget = dropTarget;\n            signalDragOver(dropTarget, callback);\n          }\n        }\n\n        function setCurrDropIndicator(dropIndicator) {\n          if (_currDropIndicator) {\n            signalDragEnd(_currDropIndicator, function() {\n              _currDropIndicator = dropIndicator;\n              signalDragOver(dropIndicator);\n            });\n          } else {\n            _currDropIndicator = dropIndicator;\n            signalDragOver(dropIndicator);\n          }\n        }\n\n        function signalDragOver(target, callback) {\n          if (target && target.onDragOver) {\n            target.onDragOver(callback);\n          } else if (callback) {\n            callback();\n          }\n        }\n\n        function signalDragEnd(target, callback) {\n          if (target && target.onDragEnd) {\n            target.onDragEnd(callback);\n          } else if (callback) {\n            callback();\n          }\n        }\n\n        function getDropTarget() {\n          return utils.forEach(_dropTargets, function(target) {\n            if (target.component.state.isover) {\n              return target;\n            }\n          });\n        }\n\n        function getDropIndicator() {\n          return utils.forEach(_dropIndicators, function(indicator) {\n            if (indicator.component.state.isover) {\n              return indicator;\n            }\n          });\n        }\n\n        var _initialized = false;\n\n        return {\n          init: function init(pivotComp) {\n            _initialized = true;\n            _pivotComp = pivotComp;\n          },\n          setDragElement: function setDragElement(elem) {\n\n            var prevDragElement = _currDragElement;\n            _currDragElement = elem;\n            if (_currDragElement != prevDragElement) {\n              if (elem == null) {\n\n                if (_currDropTarget) {\n                  var position = _currDropIndicator != null ? _currDropIndicator.position : null;\n                  _pivotComp.moveButton(prevDragElement, _currDropTarget.component.props.axetype, position);\n                }\n\n                _dragNode = null;\n                setCurrDropTarget(null);\n                setCurrDropIndicator(null);\n              } else {\n                _dragNode = ReactDOM.findDOMNode(_currDragElement);\n              }\n            }\n          },\n          registerTarget: function registerTarget(target, axetype, dragOverHandler, dargEndHandler) {\n            _dropTargets.push({\n              component: target,\n              axetype: axetype,\n              onDragOver: dragOverHandler,\n              onDragEnd: dargEndHandler\n            });\n          },\n          unregisterTarget: function unregisterTarget(target) {\n            var tindex;\n            for (var i = 0; i < _dropTargets.length; i++) {\n              if (_dropTargets[i].component == target) {\n                tindex = i;\n                break;\n              }\n            }\n            if (tindex != null) {\n              _dropTargets.splice(tindex, 1);\n            }\n          },\n          registerIndicator: function registerIndicator(indicator, axetype, position, dragOverHandler, dargEndHandler) {\n            _dropIndicators.push({\n              component: indicator,\n              axetype: axetype,\n              position: position,\n              onDragOver: dragOverHandler,\n              onDragEnd: dargEndHandler\n            });\n          },\n          unregisterIndicator: function unregisterIndicator(indicator) {\n            var iindex;\n            for (var i = 0; i < _dropIndicators.length; i++) {\n              if (_dropIndicators[i].component == indicator) {\n                iindex = i;\n                break;\n              }\n            }\n            if (iindex != null) {\n              _dropIndicators.splice(iindex, 1);\n            }\n          },\n          elementMoved: function elementMoved() {\n            if (_currDragElement != null) {\n              var dragNodeRect = _dragNode.getBoundingClientRect();\n              var foundTarget;\n\n              utils.forEach(_dropTargets, function(target) {\n                if (!foundTarget) {\n                  var tnodeRect = ReactDOM.findDOMNode(target.component).getBoundingClientRect();\n                  var isOverlap = doElementsOverlap(dragNodeRect, tnodeRect);\n                  if (isOverlap) {\n                    foundTarget = target;\n                    return;\n                  }\n                }\n              });\n\n              if (foundTarget) {\n                setCurrDropTarget(foundTarget, function() {\n                  var foundIndicator = null;\n\n                  utils.forEach(_dropIndicators, function(indicator, index) {\n                    if (!foundIndicator) {\n                      var elementOwnIndicator = indicator.component.props.axetype === _currDragElement.props.axetype && indicator.component.props.position === _currDragElement.props.position;\n\n                      var targetIndicator = indicator.component.props.axetype === foundTarget.component.props.axetype;\n                      if (targetIndicator && !elementOwnIndicator) {\n                        var tnodeRect = ReactDOM.findDOMNode(indicator.component).getBoundingClientRect();\n                        var isOverlap = doElementsOverlap(dragNodeRect, tnodeRect);\n                        if (isOverlap) {\n                          foundIndicator = indicator;\n                          return true;\n                        }\n                      }\n                    }\n                  });\n\n                  if (!foundIndicator) {\n                    var axeIndicators = _dropIndicators.filter(function(indicator) {\n                      return indicator.component.props.axetype === foundTarget.component.props.axetype;\n                    });\n                    if (axeIndicators.length > 0) {\n                      foundIndicator = axeIndicators[axeIndicators.length - 1];\n                    }\n                  }\n                  setCurrDropIndicator(foundIndicator);\n                });\n              }\n            }\n          }\n        };\n      }();\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react-dom\": \"react-dom\"\n    }],\n    57: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        DragManager = _dereq_('./orb.react.DragManager.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'DropIndicator',\n        getInitialState: function getInitialState() {\n          DragManager.registerIndicator(this, this.props.axetype, this.props.position, this.onDragOver, this.onDragEnd);\n          return {\n            isover: false\n          };\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          DragManager.unregisterIndicator(this);\n        },\n        onDragOver: function onDragOver(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function onDragEnd(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function render() {\n          var classname = 'drp-indic' + (this.props.isVertical ? '-vertical' : '');\n\n          if (this.props.isFirst) {\n            classname += ' drp-indic-first';\n          }\n\n          if (this.props.isLast) {\n            classname += ' drp-indic-last';\n          }\n\n          var style = {};\n          if (this.state.isover) {\n            classname += ' drp-indic-over';\n          }\n\n          return React.createElement('div', {\n            style: style,\n            className: classname\n          });\n        }\n      });\n\n    }, {\n      \"./orb.react.DragManager.jsx\": 56,\n      \"react\": \"react\"\n    }],\n    58: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        DropIndicator = _dereq_('./orb.react.DropIndicator.jsx'),\n        axe = _dereq_('../orb.axe'),\n        dtid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function getInitialState() {\n          this.dtid = ++dtid;\n          return {\n            isover: false\n          };\n        },\n        componentDidMount: function componentDidMount() {\n          DragManager.registerTarget(this, this.props.axetype, this.onDragOver, this.onDragEnd);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          DragManager.unregisterTarget(this);\n        },\n        onDragOver: function onDragOver(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function onDragEnd(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function render() {\n          var self = this;\n          var setTR = false;\n          if (self.props.axetype === axe.Type.ROWS) {\n            setTR = true;\n          }\n\n          var buttons = this.props.buttons.map(function(button, index) {\n            if (index < self.props.buttons.length - 1) {\n              if (setTR) {\n                return [React.createElement(\n                  'td',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isFirst: index === 0,\n                    position: index,\n                    axetype: self.props.axetype\n                  })\n                ), React.createElement(\n                  'td',\n                  null,\n                  button\n                )];\n              } else {\n                return [React.createElement(\n                  'div',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isFirst: index === 0,\n                    position: index,\n                    axetype: self.props.axetype\n                  })\n                ), React.createElement(\n                  'div',\n                  null,\n                  button\n                )];\n              }\n            } else {\n              if (setTR) {\n                return [React.createElement(\n                  'td',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isFirst: index === 0,\n                    position: index,\n                    axetype: self.props.axetype\n                  })\n                ), React.createElement(\n                  'td',\n                  null,\n                  button\n                ), React.createElement(\n                  'td',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isLast: true,\n                    position: null,\n                    axetype: self.props.axetype\n                  })\n                )];\n              } else {\n                return [React.createElement(\n                  'div',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isFirst: index === 0,\n                    position: index,\n                    axetype: self.props.axetype\n                  })\n                ), React.createElement(\n                  'div',\n                  null,\n                  button\n                ), React.createElement(\n                  'div',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isLast: true,\n                    position: null,\n                    axetype: self.props.axetype\n                  })\n                )];\n              }\n            }\n          });\n\n          var style = self.props.axetype === axe.Type.ROWS ? {\n            position: 'absolute',\n            left: 0,\n            bottom: 11\n          } : {\n            height: 'auto'\n          };\n          var dropTargetTableStyle = setTR ? {} : {\n            width: '100%'\n          };\n\n          return React.createElement(\n            'div', {\n              className: 'drp-trgt' + (this.state.isover ? ' drp-trgt-over' : '') + (buttons.length === 0 ? ' drp-trgt-empty' : ''),\n              style: style\n            },\n            React.createElement(\n              'table', {\n                style: dropTargetTableStyle\n              },\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td',\n                    null,\n                    buttons\n                  )\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.DropIndicator.jsx\": 57,\n      \"react\": \"react\"\n    }],\n    59: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        DropIndicator = _dereq_('./orb.react.DropIndicator.jsx'),\n        dtid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function getInitialState() {\n          this.dtid = ++dtid;\n          return {\n            isover: false\n          };\n        },\n        componentDidMount: function componentDidMount() {\n          DragManager.registerTarget(this, this.props.axetype, this.onDragOver, this.onDragEnd);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          DragManager.unregisterTarget(this);\n        },\n        onDragOver: function onDragOver(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function onDragEnd(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function render() {\n          var self = this;\n\n          var buttons = this.props.buttons.map(function(button, index) {\n            var currButton = [React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isFirst: index === 0,\n                  position: index,\n                  axetype: self.props.axetype,\n                  isVertical: true\n                })\n              )\n            ), React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                null,\n                button\n              )\n            )];\n\n            if (index == self.props.buttons.length - 1) {\n              currButton.push(React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isLast: true,\n                    position: null,\n                    axetype: self.props.axetype,\n                    isVertical: true\n                  })\n                )\n              ));\n            }\n\n            return currButton;\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'drp-trgt-vertical' + (this.state.isover ? ' drp-trgt-over' : '') + (buttons.length === 0 ? ' drp-trgt-vertical-empty' : '')\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                buttons\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.DropIndicator.jsx\": 57,\n      \"react\": \"react\"\n    }],\n    60: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        utils = _dereq_('../orb.utils');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        openOrClose: function openOrClose(e) {\n          var valueNode = this.refs.valueElement;\n          var valuesListNode = this.refs.valuesList;\n          var target = e.target || e.srcElement;\n\n          if (target === valueNode && valuesListNode.style.display === 'none') {\n            valuesListNode.style.display = 'block';\n          } else {\n            valuesListNode.style.display = 'none';\n          }\n        },\n        onMouseEnter: function onMouseEnter() {\n          var valueNode = this.refs.valueElement;\n          valueNode.className = \"orb-tgl-btn-down\";\n          valueNode.style.backgroundPosition = 'right center';\n        },\n        onMouseLeave: function onMouseLeave() {\n          this.refs.valueElement.className = \"\";\n        },\n        componentDidMount: function componentDidMount() {\n          utils.addEventListener(document, 'click', this.openOrClose);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          utils.removeEventListener(document, 'click', this.openOrClose);\n        },\n        selectValue: function selectValue(e) {\n          var listNode = this.refs.valuesList;\n          var target = e.target || e.srcElement;\n          var isli = false;\n          while (!isli && target != null) {\n            if (target.parentNode == listNode) {\n              isli = true;\n              break;\n            }\n            target = target.parentNode;\n          }\n\n          if (isli) {\n            var value = target.textContent;\n            var valueElement = this.refs.valueElement;\n            if (valueElement.textContent != value) {\n              valueElement.textContent = value;\n              if (this.props.onValueChanged) {\n                this.props.onValueChanged(value);\n              }\n            }\n          }\n        },\n        render: function render() {\n          function createSelectValueFunc(value) {\n            return function() {\n              this.selectValue(value);\n            };\n          }\n\n          var values = [];\n          for (var i = 0; i < this.props.values.length; i++) {\n            values.push(React.createElement('li', {\n              key: 'item' + i,\n              dangerouslySetInnerHTML: {\n                __html: this.props.values[i]\n              }\n            }));\n          }\n\n          return React.createElement(\n            'div', {\n              className: 'orb-select'\n            },\n            React.createElement('div', {\n              ref: 'valueElement',\n              dangerouslySetInnerHTML: {\n                __html: this.props.selectedValue\n              },\n              onMouseEnter: this.onMouseEnter,\n              onMouseLeave: this.onMouseLeave\n            }),\n            React.createElement(\n              'ul', {\n                ref: 'valuesList',\n                style: {\n                  display: 'none'\n                },\n                onClick: this.selectValue\n              },\n              values\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react\": \"react\"\n    }],\n    61: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        Dropdown = _dereq_('./orb.react.Dropdown.jsx'),\n        utils = _dereq_('../orb.utils'),\n        filtering = _dereq_('../orb.filtering'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        pgridwidget: null,\n        values: null,\n        filterManager: null,\n        getInitialState: function getInitialState() {\n          this.pgridwidget = this.props.pivotTableComp.pgridwidget;\n          return {};\n        },\n        destroy: function destroy() {\n          var container = ReactDOM.findDOMNode(this).parentNode;\n          ReactDOM.unmountComponentAtNode(container);\n          container.parentNode.removeChild(container);\n        },\n        onFilter: function onFilter(operator, term, staticValue, excludeStatic) {\n          this.props.pivotTableComp.applyFilter(this.props.field, operator, term, staticValue, excludeStatic);\n          this.destroy();\n        },\n        onMouseDown: function onMouseDown(e) {\n          var container = ReactDOM.findDOMNode(this).parentNode;\n          var target = e.target || e.srcElement;\n          while (target != null) {\n            if (target == container) {\n              return true;\n            }\n            target = target.parentNode;\n          }\n\n          this.destroy();\n        },\n        onMouseWheel: function onMouseWheel(e) {\n          var valuesTable = this.refs.valuesTable;\n          var target = e.target || e.srcElement;\n          while (target != null) {\n            if (target == valuesTable) {\n              if (valuesTable.scrollHeight <= valuesTable.clientHeight) {\n                utils.stopPropagation(e);\n                utils.preventDefault(e);\n              }\n              return;\n            }\n            target = target.parentNode;\n          }\n\n          this.destroy();\n        },\n        componentWillMount: function componentWillMount() {\n          utils.addEventListener(document, 'mousedown', this.onMouseDown);\n          utils.addEventListener(document, 'wheel', this.onMouseWheel);\n          utils.addEventListener(window, 'resize', this.destroy);\n        },\n        componentDidMount: function componentDidMount() {\n          this.filterManager.init(ReactDOM.findDOMNode(this));\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          utils.removeEventListener(document, 'mousedown', this.onMouseDown);\n          utils.removeEventListener(document, 'wheel', this.onMouseWheel);\n          utils.removeEventListener(window, 'resize', this.destroy);\n        },\n        render: function render() {\n          var checkboxes = [];\n\n          this.filterManager = new FilterManager(this, this.pgridwidget.pgrid.getFieldFilter(this.props.field));\n          this.values = this.pgridwidget.pgrid.getFieldValues(this.props.field);\n\n          function addCheckboxRow(value, text) {\n            return checkboxes.push(React.createElement(\n              'tr', {\n                key: value\n              },\n              React.createElement(\n                'td', {\n                  className: 'fltr-chkbox'\n                },\n                React.createElement('input', {\n                  type: 'checkbox',\n                  value: value,\n                  defaultChecked: 'checked'\n                })\n              ),\n              React.createElement(\n                'td', {\n                  className: 'fltr-val',\n                  title: text || value\n                },\n                text || value\n              )\n            ));\n          }\n\n          addCheckboxRow(filtering.ALL, '(Show All)');\n\n          for (var i = 0; i < this.values.length; i++) {\n            if (this.values[i] != null) {\n              addCheckboxRow(this.values[i]);\n            } else {\n              addCheckboxRow(filtering.BLANK, '(Blank)');\n            }\n          }\n\n          var buttonClass = this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().orbButton;\n          var style = this.props.pivotTableComp.fontStyle;\n\n          var currentFilter = this.pgridwidget.pgrid.getFieldFilter(this.props.field);\n\n          return React.createElement(\n            'table', {\n              className: 'fltr-scntnr',\n              style: style\n            },\n            React.createElement(\n              'tbody',\n              null,\n              React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td', {\n                    className: 'srchop-col'\n                  },\n                  React.createElement(Dropdown, {\n                    values: [filtering.Operators.MATCH.name, filtering.Operators.NOTMATCH.name, filtering.Operators.EQ.name, filtering.Operators.NEQ.name, filtering.Operators.GT.name, filtering.Operators.GTE.name, filtering.Operators.LT.name, filtering.Operators.LTE.name],\n                    selectedValue: currentFilter && currentFilter.operator ? currentFilter.operator.name : filtering.Operators.MATCH.name,\n                    onValueChanged: this.filterManager.onOperatorChanged\n                  })\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'srchtyp-col',\n                    title: 'Enable/disable Regular expressions'\n                  },\n                  '.*'\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'srchbox-col'\n                  },\n                  React.createElement(\n                    'table', {\n                      style: {\n                        width: '100%'\n                      }\n                    },\n                    React.createElement(\n                      'tbody',\n                      null,\n                      React.createElement(\n                        'tr',\n                        null,\n                        React.createElement(\n                          'td',\n                          null,\n                          React.createElement('input', {\n                            type: 'text',\n                            placeholder: 'search'\n                          })\n                        ),\n                        React.createElement(\n                          'td',\n                          null,\n                          React.createElement(\n                            'div', {\n                              className: 'srchclear-btn',\n                              onClick: this.clearFilter\n                            },\n                            'x'\n                          )\n                        )\n                      )\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td', {\n                    colSpan: '3',\n                    className: 'fltr-vals-col'\n                  },\n                  React.createElement(\n                    'table', {\n                      className: 'fltr-vals-tbl',\n                      ref: 'valuesTable'\n                    },\n                    React.createElement(\n                      'tbody',\n                      null,\n                      checkboxes\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                'tr', {\n                  className: 'bottom-row'\n                },\n                React.createElement(\n                  'td', {\n                    className: 'cnfrm-btn-col',\n                    colSpan: '2'\n                  },\n                  React.createElement('input', {\n                    type: 'button',\n                    className: buttonClass,\n                    value: 'Ok',\n                    style: {\n                      float: 'left'\n                    }\n                  }),\n                  React.createElement('input', {\n                    type: 'button',\n                    className: buttonClass,\n                    value: 'Cancel',\n                    style: {\n                      float: 'left'\n                    }\n                  })\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'resize-col'\n                  },\n                  React.createElement('div', null)\n                )\n              )\n            )\n          );\n        }\n      });\n\n      function FilterManager(reactComp, initialFilterObject) {\n\n        var self = this;\n        var INDETERMINATE = 'indeterminate';\n\n        var savedCheckedValues;\n        var isSearchMode = false;\n        var isRegexMode = false;\n        var operator = filtering.Operators.MATCH;\n        var lastSearchTerm = '';\n\n        var elems = {\n          filterContainer: null,\n          checkboxes: {},\n          searchBox: null,\n          operatorBox: null,\n          allCheckbox: null,\n          addCheckbox: null,\n          enableRegexButton: null,\n          clearSearchButton: null,\n          okButton: null,\n          cancelButton: null,\n          resizeGrip: null\n        };\n\n        var resizeManager;\n\n        this.init = function(filterContainerElement) {\n\n          elems.filterContainer = filterContainerElement;\n          elems.checkboxes = {};\n          elems.searchBox = elems.filterContainer.rows[0].cells[2].children[0].rows[0].cells[0].children[0];\n          elems.clearSearchButton = elems.filterContainer.rows[0].cells[2].children[0].rows[0].cells[1].children[0];\n          elems.operatorBox = elems.filterContainer.rows[0].cells[0].children[0];\n          elems.okButton = elems.filterContainer.rows[2].cells[0].children[0];\n          elems.cancelButton = elems.filterContainer.rows[2].cells[0].children[1];\n          elems.resizeGrip = elems.filterContainer.rows[2].cells[1].children[0];\n\n          var rows = elems.filterContainer.rows[1].cells[0].children[0].rows;\n          for (var i = 0; i < rows.length; i++) {\n            var checkbox = rows[i].cells[0].children[0];\n            elems.checkboxes[checkbox.value] = checkbox;\n          }\n\n          elems.allCheckbox = elems.checkboxes[filtering.ALL];\n          elems.blanckCheckbox = elems.checkboxes[filtering.BLANK];\n          elems.addCheckbox = null;\n          elems.enableRegexButton = elems.filterContainer.rows[0].cells[1];\n\n          resizeManager = new ResizeManager(elems.filterContainer.parentNode, elems.filterContainer.rows[1].cells[0].children[0], elems.resizeGrip);\n\n          applyInitialFilterObject();\n          addEventListeners();\n        };\n\n        this.onOperatorChanged = function(newOperator) {\n          if (operator.name !== newOperator) {\n            operator = filtering.Operators.get(newOperator);\n            self.toggleRegexpButtonVisibility();\n            self.searchChanged('operatorChanged');\n          }\n        };\n\n        function checkboxVisible(checkbox, isVisible) {\n          if (isVisible != null) {\n            checkbox.parentNode.parentNode.style.display = isVisible ? '' : 'none';\n          } else {\n            return checkbox.parentNode.parentNode.style.display != 'none';\n          }\n        }\n\n        function applyInitialFilterObject() {\n          if (initialFilterObject) {\n            var staticInfos = {\n              values: initialFilterObject.staticValue,\n              toExclude: initialFilterObject.excludeStatic\n            };\n\n            if (initialFilterObject.term) {\n              isSearchMode = true;\n\n              operator = initialFilterObject.operator;\n              self.toggleRegexpButtonVisibility();\n\n              if (initialFilterObject.regexpMode) {\n                isRegexMode = true;\n                self.toggleRegexpButtonState();\n                lastSearchTerm = initialFilterObject.term.source;\n              } else {\n                lastSearchTerm = initialFilterObject.term;\n              }\n\n              elems.searchBox.value = lastSearchTerm;\n\n              self.applyFilterTerm(initialFilterObject.operator, initialFilterObject.term);\n            } else {\n              savedCheckedValues = staticInfos;\n            }\n\n            self.updateCheckboxes(staticInfos);\n            self.updateAllCheckbox();\n          }\n        }\n\n        function addEventListeners() {\n          self.toggleRegexpButtonVisibility();\n\n          utils.addEventListener(elems.filterContainer, 'click', self.valueChecked);\n          utils.addEventListener(elems.searchBox, 'keyup', self.searchChanged);\n\n          utils.addEventListener(elems.clearSearchButton, 'click', self.clearSearchBox);\n\n          utils.addEventListener(elems.okButton, 'click', function() {\n            var checkedObj = self.getCheckedValues();\n            reactComp.onFilter(operator.name, operator.regexpSupported && isSearchMode && isRegexMode ? new RegExp(lastSearchTerm, 'i') : lastSearchTerm, checkedObj.values, checkedObj.toExclude);\n          });\n          utils.addEventListener(elems.cancelButton, 'click', function() {\n            reactComp.destroy();\n          });\n        }\n\n        function ResizeManager(outerContainerElem, valuesTableElem, resizeGripElem) {\n\n          var minContainerWidth = 301;\n          var minContainerHeight = 223;\n\n          var mousedownpos = {\n            x: 0,\n            y: 0\n          };\n          var isMouseDown = false;\n\n          this.resizeMouseDown = function(e) {\n            // drag/sort with left mouse button\n            if (utils.getEventButton(e) !== 0) return;\n\n            var mousePageXY = utils.getMousePageXY(e);\n\n            isMouseDown = true;\n            document.body.style.cursor = 'se-resize';\n\n            mousedownpos.x = mousePageXY.pageX;\n            mousedownpos.y = mousePageXY.pageY;\n\n            // prevent event bubbling (to prevent text selection while dragging for example)\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          };\n\n          this.resizeMouseUp = function() {\n            isMouseDown = false;\n            document.body.style.cursor = 'auto';\n            return true;\n          };\n\n          this.resizeMouseMove = function(e) {\n            // if the mouse is not down while moving, return (no drag)\n            if (!isMouseDown) return;\n\n            var mousePageXY = utils.getMousePageXY(e);\n\n            var resizeGripSize = resizeGripElem.getBoundingClientRect();\n            var outerContainerSize = outerContainerElem.getBoundingClientRect();\n            var valuesTableSize = valuesTableElem.tBodies[0].getBoundingClientRect();\n\n            var outerContainerWidth = outerContainerSize.right - outerContainerSize.left;\n            var outerContainerHeight = outerContainerSize.bottom - outerContainerSize.top;\n\n            var offset = {\n              x: outerContainerWidth <= minContainerWidth && mousePageXY.pageX < resizeGripSize.left ? 0 : mousePageXY.pageX - mousedownpos.x,\n              y: outerContainerHeight <= minContainerHeight && mousePageXY.pageY < resizeGripSize.top ? 0 : mousePageXY.pageY - mousedownpos.y\n            };\n\n            var newContainerWidth = outerContainerWidth + offset.x;\n            var newContainerHeight = outerContainerHeight + offset.y;\n\n            mousedownpos.x = mousePageXY.pageX;\n            mousedownpos.y = mousePageXY.pageY;\n\n            if (newContainerWidth >= minContainerWidth) {\n              outerContainerElem.style.width = newContainerWidth + 'px';\n            }\n\n            if (newContainerHeight >= minContainerHeight) {\n              outerContainerElem.style.height = newContainerHeight + 'px';\n              valuesTableElem.tBodies[0].style.height = valuesTableSize.bottom - valuesTableSize.top + offset.y + 'px';\n            }\n\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          };\n\n          utils.addEventListener(resizeGripElem, 'mousedown', this.resizeMouseDown);\n          utils.addEventListener(document, 'mouseup', this.resizeMouseUp);\n          utils.addEventListener(document, 'mousemove', this.resizeMouseMove);\n        }\n\n        this.clearSearchBox = function() {\n          elems.searchBox.value = '';\n          self.searchChanged();\n        };\n\n        this.toggleRegexpButtonVisibility = function() {\n          if (operator.regexpSupported) {\n            utils.addEventListener(elems.enableRegexButton, 'click', self.regexpActiveChanged);\n            domUtils.removeClass(elems.enableRegexButton, 'srchtyp-col-hidden');\n          } else {\n            utils.removeEventListener(elems.enableRegexButton, 'click', self.regexpActiveChanged);\n            domUtils.addClass(elems.enableRegexButton, 'srchtyp-col-hidden');\n          }\n        };\n\n        this.toggleRegexpButtonState = function() {\n          elems.enableRegexButton.className = elems.enableRegexButton.className.replace('srchtyp-col-active', '');\n          if (isRegexMode) {\n            domUtils.addClass(elems.enableRegexButton, 'srchtyp-col-active');\n          } else {\n            domUtils.removeClass(elems.enableRegexButton, 'srchtyp-col-active');\n          }\n        };\n\n        this.regexpActiveChanged = function() {\n          isRegexMode = !isRegexMode;\n          self.toggleRegexpButtonState();\n          self.searchChanged('regexModeChanged');\n        };\n\n        this.valueChecked = function(e) {\n          var target = e.target || e.srcElement;\n          if (target && target.type && target.type === 'checkbox') {\n            if (target == elems.allCheckbox) {\n              self.updateCheckboxes({\n                values: elems.allCheckbox.checked\n              });\n            } else {\n              self.updateAllCheckbox();\n            }\n          }\n        };\n\n        this.applyFilterTerm = function(operator, term) {\n          var defaultVisible = term ? false : true;\n          var opterm = operator.regexpSupported && isSearchMode ? isRegexMode ? term : utils.escapeRegex(term) : term;\n          checkboxVisible(elems.allCheckbox, defaultVisible);\n          for (var i = 0; i < reactComp.values.length; i++) {\n            var val = reactComp.values[i];\n            var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n            var visible = !isSearchMode || operator.func(val, opterm);\n            checkboxVisible(checkbox, visible);\n            checkbox.checked = visible;\n          }\n        };\n\n        this.searchChanged = function(e) {\n          var search = (elems.searchBox.value || '').trim();\n          if (e === 'operatorChanged' || e === 'regexModeChanged' && search || search != lastSearchTerm) {\n            lastSearchTerm = search;\n\n            var previousIsSearchMode = isSearchMode;\n            isSearchMode = search !== '';\n\n            if (isSearchMode && !previousIsSearchMode) {\n              savedCheckedValues = self.getCheckedValues();\n            }\n\n            //var searchTerm = operator.regexpSupported && isSearchMode ? new RegExp(isRegexMode ? search : utils.escapeRegex(search), 'i') : search;\n            if (e !== 'operatorChanged' || isSearchMode) {\n              self.applyFilterTerm(operator, search);\n            }\n\n            if (!isSearchMode && previousIsSearchMode) {\n              self.updateCheckboxes(savedCheckedValues);\n            }\n\n            self.updateAllCheckbox();\n          }\n        };\n\n        this.getCheckedValues = function() {\n          if (!isSearchMode && !elems.allCheckbox.indeterminate) {\n            return {\n              values: elems.allCheckbox.checked ? filtering.ALL : filtering.NONE,\n              toExclude: false\n            };\n          } else {\n            var staticValue;\n            var i, val, checkbox;\n            var valuesCount = 0,\n              checkedCount = 0;\n\n            for (i = 0; i < reactComp.values.length; i++) {\n              val = reactComp.values[i];\n              checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n              if (checkboxVisible(checkbox)) {\n                valuesCount++;\n                if (checkbox.checked) {\n                  checkedCount++;\n                }\n              }\n            }\n\n            var excludeUnchecked = false;\n\n            if (checkedCount === 0) {\n              staticValue = filtering.NONE;\n            } else if (checkedCount == valuesCount) {\n              staticValue = filtering.ALL;\n            } else {\n              staticValue = [];\n              excludeUnchecked = checkedCount > valuesCount / 2 + 1;\n\n              for (i = 0; i < reactComp.values.length; i++) {\n                val = reactComp.values[i];\n                checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n                if (checkboxVisible(checkbox)) {\n                  if (!excludeUnchecked && checkbox.checked || excludeUnchecked && !checkbox.checked) {\n                    staticValue.push(val);\n                  }\n                }\n              }\n            }\n            return {\n              values: staticValue,\n              toExclude: excludeUnchecked\n            };\n          }\n        };\n\n        this.updateCheckboxes = function(checkedList) {\n          var values = checkedList ? checkedList.values : null;\n          var allchecked = utils.isArray(values) ? null : values == null || values === filtering.ALL ? true : values === filtering.NONE ? false : !!values;\n          for (var i = 0; i < reactComp.values.length; i++) {\n            var val = reactComp.values[i];\n            var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n            if (checkboxVisible(checkbox)) {\n              if (allchecked != null) {\n                checkbox.checked = allchecked;\n              } else {\n                var valInList = values.indexOf(val) >= 0;\n                checkbox.checked = checkedList.toExclude ? !valInList : valInList;\n              }\n            }\n          }\n        };\n\n        this.updateAllCheckbox = function() {\n          if (!isSearchMode) {\n            var allchecked = null;\n            for (var i = 0; i < reactComp.values.length; i++) {\n              var val = reactComp.values[i];\n              var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n              if (allchecked == null) {\n                allchecked = checkbox.checked;\n              } else {\n                if (allchecked !== checkbox.checked) {\n                  allchecked = INDETERMINATE;\n                  break;\n                }\n              }\n            }\n\n            if (allchecked === INDETERMINATE) {\n              elems.allCheckbox.indeterminate = true;\n              elems.allCheckbox.checked = false;\n            } else {\n              elems.allCheckbox.indeterminate = false;\n              elems.allCheckbox.checked = allchecked;\n            }\n          }\n        };\n      }\n\n    }, {\n      \"../orb.filtering\": 40,\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.Dropdown.jsx\": 60,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    62: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        utils = _dereq_('../orb.utils');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var data = this.props.data;\n          var headers = this.props.headers;\n          var tableClasses = this.props.theme.getGridClasses();\n\n          var rows = [];\n\n          if (headers && headers.length > 0) {\n            var headerRow = [];\n            for (var h = 0; h < headers.length; h++) {\n              headerRow.push(React.createElement(\n                'th', {\n                  key: 'h' + h\n                },\n                headers[h]\n              ));\n            }\n            rows.push(React.createElement(\n              'tr', {\n                key: 'h'\n              },\n              headerRow\n            ));\n          }\n\n          if (data && data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n              var row = [];\n              if (utils.isArray(data[i])) {\n                for (var j = 0; j < data[i].length; j++) {\n                  row.push(React.createElement(\n                    'td', {\n                      key: i + '' + j\n                    },\n                    data[i][j]\n                  ));\n                }\n              } else {\n                for (var prop in data[i]) {\n                  if (data[i].hasOwnProperty(prop)) {\n                    row.push(React.createElement(\n                      'td', {\n                        key: i + '' + prop\n                      },\n                      data[i][prop]\n                    ));\n                  }\n                }\n              }\n              rows.push(React.createElement(\n                'tr', {\n                  key: i\n                },\n                row\n              ));\n            }\n          }\n\n          return React.createElement(\n            'table', {\n              className: tableClasses.table\n            },\n            React.createElement(\n              'tbody',\n              null,\n              rows\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react\": \"react\"\n    }],\n    63: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        FilterPanel = _dereq_('./orb.react.FilterPanel.jsx'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        utils = _dereq_('../orb.utils'),\n        axe = _dereq_('../orb.axe'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pbid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'PivotButton',\n        getInitialState: function getInitialState() {\n          this.pbid = ++pbid;\n\n          // initial state, all zero.\n          return {\n            pos: {\n              x: 0,\n              y: 0\n            },\n            startpos: {\n              x: 0,\n              y: 0\n            },\n            mousedown: false,\n            dragging: false\n          };\n        },\n        onFilterMouseDown: function onFilterMouseDown(e) {\n          // left mouse button only\n          if (e.button !== 0) return;\n\n          var filterButton = this.refs.filterButton;\n          var filterButtonPos = domUtils.getOffset(filterButton);\n          var filterContainer = document.createElement('div');\n\n          var filterPanelFactory = React.createFactory(FilterPanel);\n          var filterPanel = filterPanelFactory({\n            field: this.props.field.name,\n            pivotTableComp: this.props.pivotTableComp\n          });\n\n          filterContainer.className = this.props.pivotTableComp.pgrid.config.theme.getFilterClasses().container;\n          filterContainer.style.top = filterButtonPos.y + 'px';\n          filterContainer.style.left = filterButtonPos.x + 'px';\n          document.body.appendChild(filterContainer);\n\n          ReactDOM.render(filterPanel, filterContainer);\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          if (this.props.pivotTableComp.pgrid.config.canMoveFields) {\n            if (!this.state.mousedown) {\n              // mouse not down, don't care about mouse up/move events.\n              DragManager.setDragElement(null);\n              utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n            } else if (this.state.mousedown) {\n              // mouse down, interested by mouse up/move events.\n              DragManager.setDragElement(this);\n              utils.addEventListener(document, 'mousemove', this.onMouseMove);\n            }\n          }\n        },\n        componentDidMount: function componentDidMount() {\n          this.props.pivotTableComp.registerThemeChanged(this.updateClasses);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          this.props.pivotTableComp.unregisterThemeChanged(this.updateClasses);\n          utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n        },\n        onMouseDown: function onMouseDown(e) {\n          // drag/sort with left mouse button\n          if (e.button !== 0) return;\n\n          if (e.ctrlKey) {\n            this.props.pivotTableComp.pgridwidget.toggleFieldExpansion(this.props.axetype, this.props.field);\n          } else {\n\n            var thispos = domUtils.getOffset(ReactDOM.findDOMNode(this));\n            var mousePageXY = utils.getMousePageXY(e);\n\n            // inform mousedown, save start pos\n            this.setState({\n              mousedown: true,\n              mouseoffset: {\n                x: thispos.x - mousePageXY.pageX,\n                y: thispos.y - mousePageXY.pageY\n              },\n              startpos: {\n                x: mousePageXY.pageX,\n                y: mousePageXY.pageY\n              }\n            });\n          }\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        onMouseUp: function onMouseUp(e) {\n\n          var isdragged = this.state.dragging;\n\n          this.setState({\n            mousedown: false,\n            dragging: false,\n            size: null,\n            pos: {\n              x: 0,\n              y: 0\n            }\n          });\n\n          if (!e.ctrlKey && !isdragged) {\n            // if button was not dragged, proceed as a click\n            this.props.pivotTableComp.sort(this.props.axetype, this.props.field);\n          }\n        },\n        onMouseMove: function onMouseMove(e) {\n          // if the mouse is not down while moving, return (no drag)\n          if (!this.props.pivotTableComp.pgrid.config.canMoveFields || !this.state.mousedown) return;\n\n          var size = null;\n          var mousePageXY = utils.getMousePageXY(e);\n\n          if (!this.state.dragging) {\n            size = domUtils.getSize(ReactDOM.findDOMNode(this));\n          } else {\n            size = this.state.size;\n          }\n\n          var newpos = {\n            x: mousePageXY.pageX + this.state.mouseoffset.x,\n            y: mousePageXY.pageY + this.state.mouseoffset.y\n          };\n\n          if (!this.state.dragging || newpos.x != this.state.pos.x || newpos.y != this.state.pos.y) {\n            this.setState({\n              dragging: true,\n              size: size,\n              pos: newpos\n            });\n\n            DragManager.elementMoved();\n          }\n\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        updateClasses: function updateClasses() {\n          ReactDOM.findDOMNode(this).className = this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton;\n        },\n        render: function render() {\n          var _this = this;\n\n          var self = this;\n          var divstyle = {\n            left: self.state.pos.x + 'px',\n            top: self.state.pos.y + 'px',\n            position: self.state.dragging ? 'fixed' : '',\n            marginTop: '2px',\n            zIndex: 101\n          };\n\n          if (self.state.size) {\n            divstyle.width = self.state.size.width + 'px';\n          }\n\n          var sortDirectionClass = self.props.field.sort.order === 'asc' ? 'sort-asc' :\n            //' \\u2191' :\n            self.props.field.sort.order === 'desc' ? 'sort-desc' :\n            //' \\u2193' :\n            '';\n          var filterClass = (self.state.dragging ? '' : 'fltr-btn') + (this.props.pivotTableComp.pgrid.isFieldFiltered(this.props.field.name) ? ' fltr-btn-active' : '');\n          var btnTypeClass = (self.props.field.isMeasurement ? ' measurement' : '') + (self.props.field.isDimension ? ' dimension' : '');\n          var fieldAggFunc = '';\n          if (self.props.axetype === axe.Type.DATA && !self.props.pivotTableComp.pgrid.config.hideFuncNames) {\n            fieldAggFunc = React.createElement(\n              'small',\n              null,\n              ' (' + self.props.field.aggregateFuncName + ')'\n            );\n          }\n\n          return React.createElement(\n            'div', {\n              key: self.props.field.name,\n              className: this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton + btnTypeClass,\n              onMouseDown: this.onMouseDown,\n              onMouseUp: this.onMouseUp,\n              style: divstyle\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      className: 'caption'\n                    },\n                    self.props.field.caption,\n                    fieldAggFunc\n                  ),\n                  function() {\n                    if (self.props.field.isMeasurement) {\n                      return React.createElement('td', null);\n                    } else {\n                      return React.createElement(\n                        'td',\n                        null,\n                        React.createElement('div', {\n                          className: 'sort-indicator ' + sortDirectionClass\n                        })\n                      );\n                    }\n                  }(),\n                  function() {\n                    if (_this.props.pivotTableComp.pgrid.config.hideFilters) {\n                      return React.createElement('td', null); // returning an empty string cause nesting issues since empty string renders to span which is illegal under tr tag\n                    } else {\n                      return React.createElement(\n                        'td', {\n                          className: 'filter'\n                        },\n                        React.createElement('div', {\n                          ref: 'filterButton',\n                          className: filterClass,\n                          onMouseDown: self.state.dragging ? null : _this.onFilterMouseDown\n                        })\n                      );\n                    }\n                  }()\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.FilterPanel.jsx\": 61,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    64: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        uiheaders = _dereq_('../orb.ui.header'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        _paddingLeft = null,\n        _borderLeft = null;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        expand: function expand() {\n          this.props.pivotTableComp.pgridwidget.expandRow(this.props.cell);\n        },\n        collapse: function collapse() {\n          this.props.pivotTableComp.pgridwidget.collapseRow(this.props.cell);\n        },\n        updateCellInfos: function updateCellInfos() {\n          var node = ReactDOM.findDOMNode(this);\n          var cell = this.props.cell;\n          node.__orb = node.__orb || {};\n\n          if (!cell.visible()) {\n\n            node.__orb._visible = false;\n          } else {\n            var cellContentNode = this.refs.cellContent;\n\n            var propList = [];\n            var retPaddingLeft = _paddingLeft == null;\n            var retBorderLeft = !this.props.leftmost && _borderLeft == null;\n            var text = node.textContent || node.innerText;\n\n            if (retPaddingLeft) {\n              propList.push('padding-left');\n            }\n\n            if (retBorderLeft) {\n              propList.push('border-left-width');\n            }\n\n            if (propList.length > 0) {\n              var nodeStyle = domUtils.getStyle(node, propList, true);\n\n              if (retPaddingLeft) {\n                _paddingLeft = parseFloat(nodeStyle[0]);\n              }\n\n              if (retBorderLeft) {\n                _borderLeft = parseFloat(nodeStyle[retPaddingLeft ? 1 : 0]);\n              }\n            }\n\n            domUtils.removeClass(node, 'cell-hidden');\n\n            node.__orb._visible = true;\n            if (text != node.__orb._lastText || !node.__orb._textWidth) {\n              node.__orb._lastText = text;\n              node.__orb._textWidth = domUtils.getSize(cellContentNode).width;\n            }\n            node.__orb._colSpan = this.props.cell.hspan(true) || 1;\n            node.__orb._rowSpan = this.props.cell.vspan(true) || 1;\n            node.__orb._paddingLeft = _paddingLeft;\n            node.__orb._paddingRight = _paddingLeft;\n            node.__orb._borderLeftWidth = this.props.leftmost ? 0 : _borderLeft;\n            node.__orb._borderRightWidth = 0;\n          }\n        },\n        componentDidMount: function componentDidMount() {\n          this.updateCellInfos();\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.updateCellInfos();\n        },\n        shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n          if (nextProps.cell && nextProps.cell == this.props.cell && !this._latestVisibleState && !nextProps.cell.visible()) {\n            return false;\n          }\n          return true;\n        },\n        _latestVisibleState: false,\n        render: function render() {\n          var self = this;\n          var cell = this.props.cell;\n          var divcontent = [];\n          var value;\n          var cellClick;\n          var headerPushed = false;\n\n          this._latestVisibleState = cell.visible();\n\n          switch (cell.template) {\n            case 'cell-template-row-header':\n            case 'cell-template-column-header':\n              var isWrapper = cell.type === uiheaders.HeaderType.WRAPPER && cell.dim.field.subTotal.visible && cell.dim.field.subTotal.collapsible;\n              var isSubtotal = cell.type === uiheaders.HeaderType.SUB_TOTAL && !cell.expanded;\n              if (isWrapper || isSubtotal) {\n                headerPushed = true;\n\n                divcontent.push(React.createElement(\n                  'table', {\n                    key: 'header-value',\n                    ref: 'cellContent'\n                  },\n                  React.createElement(\n                    'tbody',\n                    null,\n                    React.createElement(\n                      'tr',\n                      null,\n                      React.createElement(\n                        'td', {\n                          className: 'orb-tgl-btn'\n                        },\n                        React.createElement('div', {\n                          className: 'orb-tgl-btn-' + (isWrapper ? 'down' : 'right'),\n                          onClick: isWrapper ? this.collapse : this.expand\n                        })\n                      ),\n                      React.createElement(\n                        'td', {\n                          className: 'hdr-val'\n                        },\n                        React.createElement('div', {\n                          dangerouslySetInnerHTML: {\n                            __html: cell.value || '&#160;'\n                          }\n                        })\n                      )\n                    )\n                  )\n                ));\n              } else {\n                value = (cell.value || '&#160;') + (cell.type === uiheaders.HeaderType.SUB_TOTAL ? ' Total' : '');\n              }\n              break;\n            case 'cell-template-dataheader':\n              value = cell.value.caption;\n              break;\n            case 'cell-template-datavalue':\n              value = cell.datafield && cell.datafield.formatFunc ? cell.datafield.formatFunc()(cell.value) : cell.value;\n              cellClick = function cellClick() {\n                if (self.props.pivotTableComp.pgrid.config.hideRowDialog == false) {\n                  self.props.pivotTableComp.pgridwidget.drilldown(cell, self.props.pivotTableComp.id);\n                }\n              };\n              break;\n            default:\n              break;\n          }\n\n          if (!headerPushed) {\n            var headerClassName;\n            switch (cell.template) {\n              case 'cell-template-datavalue':\n                headerClassName = 'cell-data';\n                break;\n              default:\n                if (cell.template != 'cell-template-dataheader' && cell.type !== uiheaders.HeaderType.GRAND_TOTAL) {\n                  headerClassName = 'hdr-val';\n                }\n            }\n            divcontent.push(React.createElement(\n              'div', {\n                key: 'cell-value',\n                ref: 'cellContent',\n                className: headerClassName\n              },\n              React.createElement('div', {\n                dangerouslySetInnerHTML: {\n                  __html: value || '&#160;'\n                }\n              })\n            ));\n          }\n\n          return React.createElement(\n            'td', {\n              className: getClassname(this.props),\n              onDoubleClick: cellClick,\n              colSpan: cell.hspan(),\n              rowSpan: cell.vspan()\n            },\n            React.createElement(\n              'div',\n              null,\n              divcontent\n            )\n          );\n        }\n      });\n\n      function getClassname(compProps) {\n        var cell = compProps.cell;\n        var classname = cell.cssclass;\n        var isEmpty = cell.template === 'cell-template-empty';\n\n        if (!cell.visible()) {\n          classname += ' cell-hidden';\n        }\n\n        if (cell.type === uiheaders.HeaderType.SUB_TOTAL && cell.expanded) {\n          classname += ' header-st-exp';\n        }\n\n        if (cell.type === uiheaders.HeaderType.GRAND_TOTAL) {\n          if (cell.dim.depth === 1) {\n            classname += ' header-nofields';\n          } else if (cell.dim.depth > 2) {\n            classname += ' header-gt-exp';\n          }\n        }\n\n        if (compProps.leftmost) {\n          classname += ' ' + (cell.template === 'cell-template-datavalue' ? 'cell' : 'header') + '-leftmost';\n        }\n\n        if (compProps.topmost) {\n          classname += ' cell-topmost';\n        }\n\n        return classname;\n      }\n\n    }, {\n      \"../orb.ui.header\": 49,\n      \"../orb.utils.dom\": 52,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    65: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        SizingManager = _dereq_('./orb.react.PivotTable.SizingManager.jsx'),\n        Toolbar = _dereq_('./orb.react.Toolbar.jsx'),\n        UpperButtons = _dereq_('./orb.react.PivotTable.UpperButtons.jsx'),\n        ColumnButtons = _dereq_('./orb.react.PivotTable.ColumnButtons.jsx'),\n        RowButtons = _dereq_('./orb.react.PivotTable.RowButtons.jsx'),\n        Chart = _dereq_('./orb.react.Chart.jsx'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pivotId = 1,\n        themeChangeCallbacks = {};\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        id: pivotId++,\n        pgrid: null,\n        pgridwidget: null,\n        fontStyle: null,\n        getInitialState: function getInitialState() {\n          DragManager.init(this);\n\n          themeChangeCallbacks[this.id] = [];\n          this.registerThemeChanged(this.updateClasses);\n\n          this.pgridwidget = this.props.pgridwidget;\n          this.pgrid = this.pgridwidget.pgrid;\n          return {};\n        },\n        sort: function sort(axetype, field) {\n          this.pgridwidget.sort(axetype, field);\n        },\n        moveButton: function moveButton(button, newAxeType, position) {\n          this.pgridwidget.moveField(button.props.field.name, button.props.axetype, newAxeType, position);\n        },\n        applyFilter: function applyFilter(fieldname, operator, term, staticValue, excludeStatic) {\n          this.pgridwidget.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        },\n        registerThemeChanged: function registerThemeChanged(compCallback) {\n          if (compCallback) {\n            themeChangeCallbacks[this.id].push(compCallback);\n          }\n        },\n        unregisterThemeChanged: function unregisterThemeChanged(compCallback) {\n          var i;\n          if (compCallback && (i = themeChangeCallbacks[this.id].indexOf(compCallback)) >= 0) {\n            themeChangeCallbacks[this.id].splice(i, 1);\n          }\n        },\n        changeTheme: function changeTheme(newTheme) {\n          if (this.pgridwidget.pgrid.config.setTheme(newTheme)) {\n            // notify self/sub-components of the theme change\n            for (var i = 0; i < themeChangeCallbacks[this.id].length; i++) {\n              themeChangeCallbacks[this.id][i]();\n            }\n          }\n        },\n        updateClasses: function updateClasses() {\n          var thisnode = ReactDOM.findDOMNode(this);\n          var classes = this.pgridwidget.pgrid.config.theme.getPivotClasses();\n          thisnode.className = classes.container;\n          thisnode.children[1].className = classes.table;\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.synchronizeWidths();\n        },\n        componentDidMount: function componentDidMount() {\n          var fontInfos = domUtils.getStyle(ReactDOM.findDOMNode(this), ['font-family', 'font-size'], true);\n          this.fontStyle = {\n            fontFamily: fontInfos[0],\n            fontSize: fontInfos[1]\n          };\n\n          this.synchronizeWidths();\n        },\n        synchronizeWidths: function synchronizeWidths() {\n          var chartStyle = SizingManager.synchronizeWidths(this);\n          chartStyle.fontFamily = this.fontStyle.fontFamily;\n          chartStyle.fontSize = this.fontStyle.fontSize;\n\n          this.refs.chart.setState({\n            canRender: true,\n            chartStyle: chartStyle\n          });\n        },\n        render: function render() {\n\n          var self = this;\n\n          var config = this.pgridwidget.pgrid.config;\n          var classes = config.theme.getPivotClasses();\n\n          var tblStyle = {};\n          if (config.width) {\n            tblStyle.width = config.width;\n          }\n          if (config.height) {\n            tblStyle.height = config.height;\n          }\n\n          return React.createElement(\n            'div', {\n              className: classes.container,\n              style: tblStyle,\n              ref: 'pivot'\n            },\n            React.createElement(\n              'table', {\n                id: 'tbl-' + self.id,\n                ref: 'pivotWrapperTable',\n                className: classes.table\n              },\n              React.createElement(\n                'colgroup',\n                null,\n                React.createElement('col', {\n                  ref: 'column1'\n                }),\n                React.createElement('col', {\n                  ref: 'column2'\n                })\n              ),\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr', {\n                    ref: 'upperButtons'\n                  },\n                  React.createElement(\n                    'td', {\n                      colSpan: '2'\n                    },\n                    React.createElement(UpperButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr', {\n                    ref: 'colButtons'\n                  },\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td', {\n                      style: {\n                        padding: '11px 4px !important'\n                      }\n                    },\n                    React.createElement(ColumnButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      style: {\n                        position: 'relative'\n                      }\n                    },\n                    React.createElement(RowButtons, {\n                      pivotTableComp: self,\n                      ref: 'rowButtons'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(Chart, {\n                      pivotTableComp: self,\n                      chartMode: config.chartMode,\n                      ref: 'chart'\n                    })\n                  )\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.Chart.jsx\": 54,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.PivotTable.ColumnButtons.jsx\": 67,\n      \"./orb.react.PivotTable.RowButtons.jsx\": 70,\n      \"./orb.react.PivotTable.SizingManager.jsx\": 72,\n      \"./orb.react.PivotTable.UpperButtons.jsx\": 73,\n      \"./orb.react.Toolbar.jsx\": 76,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    66: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        PivotCell = _dereq_('./orb.react.PivotCell.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n\n          var lastCellIndex = this.props.row.length - 1;\n          var cell0 = this.props.row[0];\n          var leftmostCellFound = false;\n          var layoutInfos = self.props.layoutInfos;\n          var cells;\n\n          var rowstyle = {};\n\n          var istopmost = false;\n\n          cells = this.props.row.map(function(cell, index) {\n\n            var isleftmost = false;\n\n            // If current cells are column/data headers and left most cell is not found yet\n            // and last row left most cell does not span vertically over the current one and current one is visible\n            // then mark IT as the left most cell\n            if (cell.visible() && layoutInfos) {\n              if (cell.dim) {\n                if (cell.dim.isRoot && layoutInfos.topMostCells[cell.dim.depth - 1] === undefined || !cell.dim.isRoot && layoutInfos.topMostCells[cell.dim.depth] === undefined && (cell.dim.parent.isRoot || layoutInfos.topMostCells[cell.dim.depth + 1] === cell.dim.parent)) {\n                  istopmost = true;\n                  layoutInfos.topMostCells[cell.dim.depth] = cell.dim;\n                }\n              } else if (!layoutInfos.topMostCells['0']) {\n                istopmost = layoutInfos.topMostCells['0'] = true;\n              }\n\n              if (!leftmostCellFound && (self.props.axetype === axe.Type.DATA || self.props.axetype === axe.Type.COLUMNS) && layoutInfos.lastLeftMostCellVSpan === 0) {\n\n                isleftmost = leftmostCellFound = true;\n                layoutInfos.lastLeftMostCellVSpan = cell.vspan() - 1;\n              }\n            }\n\n            return React.createElement(PivotCell, {\n              key: index,\n              cell: cell,\n              leftmost: isleftmost,\n              topmost: istopmost,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          // decrement lastLeftMostCellVSpan\n          if (layoutInfos && layoutInfos.lastLeftMostCellVSpan > 0 && !leftmostCellFound) {\n            layoutInfos.lastLeftMostCellVSpan--;\n          }\n\n          return React.createElement(\n            'tr', {\n              style: rowstyle\n            },\n            cells\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotCell.jsx\": 64,\n      \"react\": \"react\"\n    }],\n    67: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var columnButtons = config.columnFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.COLUMNS,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(DropTarget, {\n            buttons: columnButtons,\n            axetype: axe.Type.COLUMNS\n          });\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DropTarget.jsx\": 58,\n      \"./orb.react.PivotButton.jsx\": 63,\n      \"react\": \"react\"\n    }],\n    68: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var cntrClass = pgridwidget.columns.headers.length === 0 ? '' : ' columns-cntr';\n\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var columnHeaders = pgridwidget.columns.headers.map(function(headerRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: headerRow,\n              axetype: axe.Type.COLUMNS,\n              pivotTableComp: self.props.pivotTableComp,\n              layoutInfos: layoutInfos\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container' + cntrClass,\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', null),\n              React.createElement(\n                'tbody',\n                null,\n                columnHeaders\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotRow.jsx\": 66,\n      \"react\": \"react\"\n    }],\n    69: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var dataCells = pgridwidget.dataRows.map(function(dataRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: dataRow,\n              axetype: axe.Type.DATA,\n              layoutInfos: layoutInfos,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container data-cntr',\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', null),\n              React.createElement(\n                'tbody',\n                null,\n                dataCells\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotRow.jsx\": 66,\n      \"react\": \"react\"\n    }],\n    70: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx'),\n        DropTargetVertical = _dereq_('./orb.react.DropTargetVertical.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var rowButtons = config.rowFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.ROWS,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          if (config.chartMode.enabled) {\n            return React.createElement(DropTargetVertical, {\n              buttons: rowButtons,\n              axetype: axe.Type.ROWS\n            });\n          } else {\n            return React.createElement(DropTarget, {\n              buttons: rowButtons,\n              axetype: axe.Type.ROWS\n            });\n          }\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DropTarget.jsx\": 58,\n      \"./orb.react.DropTargetVertical.jsx\": 59,\n      \"./orb.react.PivotButton.jsx\": 63,\n      \"react\": \"react\"\n    }],\n    71: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        setColGroup: function setColGroup(widths) {\n          var node = ReactDOM.findDOMNode(this);\n          var colGroupNode = this.refs.colgroup;\n          node.style.tableLayout = 'auto';\n\n          colGroupNode.innerHTML = '';\n          for (var i = 0; i < widths.length; i++) {\n            var col = document.createElement('col');\n            col.style.width = widths[i] + 8 + 'px';\n            colGroupNode.appendChild(col);\n          }\n          node.style.tableLayout = 'fixed';\n        },\n        render: function render() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var cntrClass = pgridwidget.rows.headers.length === 0 ? '' : ' rows-cntr';\n\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var rowHeaders = pgridwidget.rows.headers.map(function(headerRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: headerRow,\n              axetype: axe.Type.ROWS,\n              layoutInfos: layoutInfos,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container' + cntrClass,\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', {\n                ref: 'colgroup'\n              }),\n              React.createElement(\n                'tbody',\n                null,\n                rowHeaders\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotRow.jsx\": 66,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    72: [function(_dereq_, module, exports) {\n\n      var ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        domUtils = _dereq_('../orb.utils.dom');\n\n      var SizingManager = module.exports = {\n        synchronizeWidths: function synchronizeWidths(pivotComp) {\n          if (pivotComp.pgridwidget.pgrid.config.chartMode.enabled) {\n            return SizingManager.synchronizePivotChartWidths(pivotComp);\n          } else {\n            SizingManager.synchronizePivotTableWidths(pivotComp);\n          }\n        },\n        synchronizePivotChartWidths: function synchronizePivotChartWidths(pivotComp) {\n          var pivotWrapperTable = pivotComp.refs.pivotWrapperTable,\n            pivot = new ComponentSizeInfo(pivotComp.refs.pivot),\n            topBtns = new ComponentSizeInfo(pivotComp.refs.upperButtons),\n            cBtns = new ComponentSizeInfo(pivotComp.refs.colButtons),\n            rBtnsTbl = new ComponentSizeInfo(pivotComp.refs.rowButtons),\n            chart = new ComponentSizeInfo(pivotComp.refs.chart),\n            rBtnsWidth = Math.max(rBtnsTbl.w, 67),\n            chartWidth = pivot.w - rBtnsWidth,\n            pivotHeight = pivotComp.pgridwidget.pgrid.config.height,\n            chartHeight = !pivotHeight ? null : pivotHeight - (topBtns.h + cBtns.h);\n\n          // set pivotWrapperTable columns width to fixed value\n          domUtils.updateTableColGroup(pivotWrapperTable, [rBtnsWidth, chartWidth]);\n\n          return {\n            width: chartWidth,\n            height: chartHeight\n          };\n        },\n        synchronizePivotTableWidths: function synchronizePivotTableWidths(pivotComp) {\n\n          var pivotWrapperTable = pivotComp.refs.pivotWrapperTable,\n            pivot = new ComponentSizeInfo(pivotComp.refs.pivot),\n            toolbar = new ComponentSizeInfo(pivotComp.refs.toolbar),\n            cHeadersTbl = new ComponentSizeInfo(pivotComp.refs.colHeaders, true, 'table'),\n            rHeadersTbl = new ComponentSizeInfo(pivotComp.refs.rowHeaders, true, 'table'),\n            dataCellsTbl = new ComponentSizeInfo(pivotComp.refs.dataCells, true, 'table'),\n            topBtns = new ComponentSizeInfo(pivotComp.refs.upperButtons),\n            cBtns = new ComponentSizeInfo(pivotComp.refs.colButtons),\n            rBtnsTbl = new ComponentSizeInfo(pivotComp.refs.rowButtons, true),\n            hScroll = new ComponentSizeInfo(pivotComp.refs.horizontalScrollBar),\n            vScroll = new ComponentSizeInfo(pivotComp.refs.verticalScrollBar),\n            dataCellsWidths = dataCellsTbl.getLargestWidths(cHeadersTbl),\n            rHeadersWidth = Math.max(rHeadersTbl.w, rBtnsTbl.w, 67),\n            dataCellsContainerWidth = Math.min(dataCellsWidths.total + 1, pivot.w - rHeadersWidth - vScroll.w),\n            pivotHeight = pivotComp.pgridwidget.pgrid.config.height,\n            dataCellsRemHeight = !pivotHeight ? null : pivotHeight - (toolbar ? toolbar.h + 17 : 0) - (topBtns.h + cBtns.h + cHeadersTbl.h + hScroll.h),\n            dataCellsTableHeight = !dataCellsRemHeight ? null : Math.ceil(Math.min(dataCellsRemHeight, dataCellsTbl.h));\n\n          // get rowHeaders table width to match with rowButtons table width\n          rHeadersTbl.addToWidth(rHeadersWidth - rHeadersTbl.w);\n\n          // Set dataCellsTable cells widths according to the computed dataCellsWidths\n          domUtils.updateTableColGroup(dataCellsTbl.node, dataCellsWidths.max);\n\n          // Set colHeadersTable cells widths according to the computed dataCellsWidths\n          domUtils.updateTableColGroup(cHeadersTbl.node, dataCellsWidths.max);\n\n          // Set rowHeadersTable cells widths\n          domUtils.updateTableColGroup(rHeadersTbl.node, rHeadersTbl.colWidths);\n\n          dataCellsTbl.setStyle('width', dataCellsWidths.total);\n          cHeadersTbl.setStyle('width', dataCellsWidths.total);\n          rHeadersTbl.setStyle('width', rHeadersWidth);\n\n          // Adjust data cells container and column headers container width\n          dataCellsTbl.setParentStyle('width', dataCellsContainerWidth);\n          cHeadersTbl.setParentStyle('width', dataCellsContainerWidth);\n\n          if (dataCellsTableHeight) {\n            // Adjust data cells container and row headers container height\n            dataCellsTbl.setParentStyle('height', dataCellsTableHeight);\n            rHeadersTbl.setParentStyle('height', dataCellsTableHeight);\n          }\n\n          // set pivotWrapperTable columns width to fixed value\n          domUtils.updateTableColGroup(pivotWrapperTable, [rHeadersWidth, dataCellsContainerWidth, vScroll.w, Math.max(pivot.w - (rHeadersWidth + dataCellsContainerWidth + vScroll.w), 0)]);\n\n          pivotComp.refs.horizontalScrollBar.refresh();\n          pivotComp.refs.verticalScrollBar.refresh();\n        }\n      };\n\n      function ComponentSizeInfo(component, isWrapper, childType) {\n        var self = this,\n          node = ReactDOM.findDOMNode(component),\n          size;\n\n        this.node = isWrapper ? node.children[0] : node;\n\n        size = domUtils.getSize(this.node);\n        this.w = size.width;\n        this.h = size.height;\n\n        this.setStyle = function(styleProp, value) {\n          self.node.style[styleProp] = value + 'px';\n        };\n\n        this.setParentStyle = function(styleProp, value) {\n          self.node.parentNode.style[styleProp] = value + 'px';\n        };\n\n        this.getLargestWidths = function(otherCompInfo) {\n          var result = {\n            max: [],\n            total: 0\n          };\n\n          // get the array of max widths between dataCellsTable and colHeadersTable\n          for (var i = 0; i < self.colWidths.length; i++) {\n            result.max.push(Math.max(self.colWidths[i], otherCompInfo.colWidths[i]));\n            result.total += result.max[i];\n          }\n\n          return result;\n        };\n\n        this.addToWidth = function(value) {\n          if (value > 0) {\n            self.w += value;\n            self.colWidths[self.colWidths.length - 1] += value;\n          }\n        };\n\n        if (childType === 'table') {\n          // get array of column widths\n          getAllColumnsWidth(this);\n        }\n      }\n\n      function getAllColumnsWidth(tblObject) {\n        if (tblObject && tblObject.node) {\n\n          var tbl = tblObject.node;\n          var colWidths = [];\n\n          for (var rowIndex = 0; rowIndex < tbl.rows.length; rowIndex++) {\n            // current row\n            var currRow = tbl.rows[rowIndex];\n            // reset colWidths index\n            var arrayIndex = 0;\n            var currWidth = null;\n\n            // get the width of each cell within current row\n            for (var cellIndex = 0; cellIndex < currRow.cells.length; cellIndex++) {\n              // current cell\n              var currCell = currRow.cells[cellIndex];\n\n              if (currCell.__orb._visible) {\n                // cell width\n                //var cellwidth = Math.ceil(domUtils.getSize(currCell.children[0]).width/currCell.colSpan);\n                var cellwidth = Math.ceil(currCell.__orb._textWidth / currCell.__orb._colSpan + currCell.__orb._paddingLeft + currCell.__orb._paddingRight + currCell.__orb._borderLeftWidth + currCell.__orb._borderRightWidth);\n                // whether current cell spans vertically to the last row\n                var rowsSpan = currCell.__orb._rowSpan > 1 && currCell.__orb._rowSpan >= tbl.rows.length - rowIndex;\n\n                // if current cell spans over more than one column, add its width (its) 'colSpan' number of times\n                for (var cspan = 0; cspan < currCell.__orb._colSpan; cspan++) {\n                  // If cell span over more than 1 row: insert its width into colWidths at arrayIndex\n                  // Else: either expand colWidths if necessary or replace the width if its smaller than current cell width\n\n                  currWidth = colWidths[arrayIndex];\n                  // skip inhibited widths (width that belongs to an upper cell than spans vertically to current row)\n                  while (currWidth && currWidth.inhibit > 0) {\n                    currWidth.inhibit--;\n                    arrayIndex++;\n                    currWidth = colWidths[arrayIndex];\n                  }\n\n                  if (colWidths.length - 1 < arrayIndex) {\n                    colWidths.push({\n                      width: cellwidth\n                    });\n                  } else if (cellwidth > colWidths[arrayIndex].width) {\n                    colWidths[arrayIndex].width = cellwidth;\n                  }\n\n                  colWidths[arrayIndex].inhibit = currCell.__orb._rowSpan - 1;\n\n                  // increment colWidths index\n                  arrayIndex++;\n                }\n              }\n            }\n\n            // decrement inhibited state of all widths unsed in colWidths (not reached by current row cells)\n            currWidth = colWidths[arrayIndex];\n            while (currWidth) {\n              if (currWidth.inhibit > 0) {\n                currWidth.inhibit--;\n              }\n              arrayIndex++;\n              currWidth = colWidths[arrayIndex];\n            }\n          }\n\n          // set colWidths to the tblObject\n          tblObject.w = 0;\n          tblObject.colWidths = colWidths.map(function(item, index) {\n            tblObject.w += item.width;\n            return item.width;\n          });\n        }\n      }\n\n      function setTableWidths(tblObject, colWidths) {\n        if (tblObject && tblObject.node) {\n\n          // reset table width\n          (tblObject.size = tblObject.size || {}).width = 0;\n\n          var tbl = tblObject.node;\n\n          // for each row, set its cells width\n          for (var rowIndex = 0; rowIndex < tbl.rows.length; rowIndex++) {\n\n            // current row\n            var currRow = tbl.rows[rowIndex];\n            // index in colWidths\n            var arrayIndex = 0;\n            var currWidth = null;\n\n            // set width of each cell\n            for (var cellIndex = 0; cellIndex < currRow.cells.length; cellIndex++) {\n\n              // current cell\n              var currCell = currRow.cells[cellIndex];\n              if (currCell.__orb._visible) {\n                // cell width\n                var newCellWidth = 0;\n                // whether current cell spans vertically more than 1 row\n                var rowsSpan = currCell.__orb._rowSpan > 1 && rowIndex < tbl.rows.length - 1;\n\n                // current cell width is the sum of (its) \"colspan\" items in colWidths starting at 'arrayIndex'\n                // 'arrayIndex' should be incremented by an amount equal to current cell 'colspan' but should also skip 'inhibited' cells\n                for (var cspan = 0; cspan < currCell.__orb._colSpan; cspan++) {\n                  currWidth = colWidths[arrayIndex];\n                  // skip inhibited widths (width that belongs to an upper cell than spans vertically to current row)\n                  while (currWidth && currWidth.inhibit > 0) {\n                    currWidth.inhibit--;\n                    arrayIndex++;\n                    currWidth = colWidths[arrayIndex];\n                  }\n\n                  if (currWidth) {\n                    // add width of cells participating in the span\n                    newCellWidth += currWidth.width;\n                    // if current cell spans vertically more than 1 row, mark its width as inhibited for all cells participating in this span\n                    if (rowsSpan) {\n                      currWidth.inhibit = currCell.__orb._rowSpan - 1;\n                    }\n\n                    // advance colWidths index\n                    arrayIndex++;\n                  }\n                }\n\n                currCell.children[0].style.width = newCellWidth + 'px';\n\n                // set table width (only in first iteration)\n                if (rowIndex === 0) {\n                  var outerCellWidth = 0;\n                  if (currCell.__orb) {\n                    outerCellWidth = currCell.__orb._colSpan * Math.ceil(currCell.__orb._paddingLeft + currCell.__orb._paddingRight + currCell.__orb._borderLeftWidth + currCell.__orb._borderRightWidth);\n                  }\n                  tblObject.w += newCellWidth + outerCellWidth;\n                }\n              }\n            }\n\n            // decrement inhibited state of all widths unsed in colWidths (not reached by current row cells)\n            currWidth = colWidths[arrayIndex];\n            while (currWidth) {\n              if (currWidth.inhibit > 0) {\n                currWidth.inhibit--;\n              }\n              arrayIndex++;\n              currWidth = colWidths[arrayIndex];\n            }\n          }\n        }\n      }\n\n    }, {\n      \"../orb.utils.dom\": 52,\n      \"react-dom\": \"react-dom\"\n    }],\n    73: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var fieldsDropTarget;\n          if (config.canMoveFields) {\n            var fieldsButtons = config.availablefields().map(function(field, index) {\n              return React.createElement(PivotButton, {\n                key: field.name,\n                field: field,\n                axetype: null,\n                position: index,\n                pivotTableComp: self.props.pivotTableComp\n              });\n            });\n            fieldsDropTarget = React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td', {\n                  className: 'flds-grp-cap av-flds text-muted'\n                },\n                React.createElement(\n                  'div',\n                  null,\n                  'Fields'\n                )\n              ),\n              React.createElement(\n                'td', {\n                  className: 'av-flds'\n                },\n                React.createElement(DropTarget, {\n                  buttons: fieldsButtons,\n                  axetype: null\n                })\n              )\n            );\n          } else {\n            fieldsDropTarget = null;\n          }\n\n          var dataButtons = config.dataFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.DATA,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          var dataDropTarget = React.createElement(\n            'tr',\n            null,\n            React.createElement(\n              'td', {\n                className: 'flds-grp-cap text-muted'\n              },\n              React.createElement(\n                'div',\n                null,\n                'Data'\n              )\n            ),\n            React.createElement(\n              'td', {\n                className: 'empty'\n              },\n              React.createElement(DropTarget, {\n                buttons: dataButtons,\n                axetype: axe.Type.DATA\n              })\n            )\n          );\n\n          return React.createElement(\n            'table', {\n              className: 'inner-table upper-buttons'\n            },\n            React.createElement(\n              'tbody',\n              null,\n              fieldsDropTarget,\n              dataDropTarget\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DropTarget.jsx\": 58,\n      \"./orb.react.PivotButton.jsx\": 63,\n      \"react\": \"react\"\n    }],\n    74: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        SizingManager = _dereq_('./orb.react.PivotTable.SizingManager.jsx'),\n        Toolbar = _dereq_('./orb.react.Toolbar.jsx'),\n        UpperButtons = _dereq_('./orb.react.PivotTable.UpperButtons.jsx'),\n        ColumnButtons = _dereq_('./orb.react.PivotTable.ColumnButtons.jsx'),\n        RowButtons = _dereq_('./orb.react.PivotTable.RowButtons.jsx'),\n        RowHeaders = _dereq_('./orb.react.PivotTable.RowHeaders.jsx'),\n        ColumnHeaders = _dereq_('./orb.react.PivotTable.ColumnHeaders.jsx'),\n        DataCells = _dereq_('./orb.react.PivotTable.DataCells.jsx'),\n        ScrollBars = _dereq_('./orb.react.ScrollBars.jsx'),\n        HorizontalScrollBar = ScrollBars.HorizontalScrollBar,\n        VerticalScrollBar = ScrollBars.VerticalScrollBar,\n        utils = _dereq_('../orb.utils'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pivotId = 1,\n        themeChangeCallbacks = {};\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        id: pivotId++,\n        pgrid: null,\n        pgridwidget: null,\n        fontStyle: null,\n        getInitialState: function getInitialState() {\n          DragManager.init(this);\n\n          themeChangeCallbacks[this.id] = [];\n          this.registerThemeChanged(this.updateClasses);\n\n          this.pgridwidget = this.props.pgridwidget;\n          this.pgrid = this.pgridwidget.pgrid;\n          return {};\n        },\n        sort: function sort(axetype, field) {\n          this.pgridwidget.sort(axetype, field);\n        },\n        moveButton: function moveButton(button, newAxeType, position) {\n          this.pgridwidget.moveField(button.props.field.name, button.props.axetype, newAxeType, position);\n        },\n        toggleSubtotals: function toggleSubtotals(axetype) {\n          this.pgridwidget.toggleSubtotals(axetype);\n        },\n        toggleGrandtotal: function toggleGrandtotal(axetype) {\n          this.pgridwidget.toggleGrandtotal(axetype);\n        },\n        applyFilter: function applyFilter(fieldname, operator, term, staticValue, excludeStatic) {\n          this.pgridwidget.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        },\n        registerThemeChanged: function registerThemeChanged(compCallback) {\n          if (compCallback) {\n            themeChangeCallbacks[this.id].push(compCallback);\n          }\n        },\n        unregisterThemeChanged: function unregisterThemeChanged(compCallback) {\n          var i;\n          if (compCallback && (i = themeChangeCallbacks[this.id].indexOf(compCallback)) >= 0) {\n            themeChangeCallbacks[this.id].splice(i, 1);\n          }\n        },\n        changeTheme: function changeTheme(newTheme) {\n          if (this.pgridwidget.pgrid.config.setTheme(newTheme)) {\n            // notify self/sub-components of the theme change\n            for (var i = 0; i < themeChangeCallbacks[this.id].length; i++) {\n              themeChangeCallbacks[this.id][i]();\n            }\n          }\n        },\n        updateClasses: function updateClasses() {\n          var thisnode = ReactDOM.findDOMNode(this);\n          var classes = this.pgridwidget.pgrid.config.theme.getPivotClasses();\n          thisnode.className = classes.container;\n          thisnode.children[1].className = classes.table;\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.synchronizeWidths();\n        },\n        componentDidMount: function componentDidMount() {\n          var fontInfos = domUtils.getStyle(ReactDOM.findDOMNode(this), ['font-family', 'font-size'], true);\n          this.fontStyle = {\n            fontFamily: fontInfos[0],\n            fontSize: fontInfos[1]\n          };\n\n          var dataCellsNode = ReactDOM.findDOMNode(this.refs.dataCells);\n          var dataCellsTableNode = dataCellsNode.children[0];\n          var colHeadersNode = ReactDOM.findDOMNode(this.refs.colHeaders);\n          var rowHeadersNode = ReactDOM.findDOMNode(this.refs.rowHeaders);\n\n          this.refs.horizontalScrollBar.setScrollClient(dataCellsNode, function(scrollPercent) {\n            var scrollAmount = Math.ceil(scrollPercent * (domUtils.getSize(dataCellsTableNode).width - domUtils.getSize(dataCellsNode).width));\n            colHeadersNode.scrollLeft = scrollAmount;\n            dataCellsNode.scrollLeft = scrollAmount;\n          });\n\n          this.refs.verticalScrollBar.setScrollClient(dataCellsNode, function(scrollPercent) {\n            var scrollAmount = Math.ceil(scrollPercent * (domUtils.getSize(dataCellsTableNode).height - domUtils.getSize(dataCellsNode).height));\n            rowHeadersNode.scrollTop = scrollAmount;\n            dataCellsNode.scrollTop = scrollAmount;\n          });\n\n          this.synchronizeWidths();\n        },\n        onWheel: function onWheel(e) {\n          var elem;\n          var scrollbar;\n          var amount;\n\n          if (e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.colHeaders))) {\n            scrollbar = this.refs.horizontalScrollBar;\n            amount = e.deltaX || e.deltaY;\n          } else if (e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.rowHeaders)) || e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.dataCells))) {\n            scrollbar = this.refs.verticalScrollBar;\n            amount = e.deltaY;\n          }\n\n          if (scrollbar && scrollbar.scroll(amount, e.deltaMode)) {\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          }\n        },\n        synchronizeWidths: function synchronizeWidths() {\n          SizingManager.synchronizeWidths(this);\n          this.refs.horizontalScrollBar.refresh();\n          this.refs.verticalScrollBar.refresh();\n        },\n        render: function render() {\n\n          var self = this;\n\n          var config = this.pgridwidget.pgrid.config;\n          var classes = config.theme.getPivotClasses();\n\n          var tblStyle = {};\n          if (config.width) {\n            tblStyle.width = config.width;\n          }\n          if (config.height) {\n            tblStyle.height = config.height;\n          }\n\n          return React.createElement(\n            'div', {\n              className: classes.container,\n              style: tblStyle,\n              ref: 'pivot'\n            },\n            config.toolbar && config.toolbar.visible ? React.createElement(\n              'div', {\n                ref: 'toolbar',\n                className: 'orb-toolbar'\n              },\n              React.createElement(Toolbar, {\n                pivotTableComp: self\n              })\n            ) : null,\n            React.createElement(\n              'table', {\n                id: 'tbl-' + self.id,\n                ref: 'pivotWrapperTable',\n                className: classes.table,\n                style: {\n                  tableLayout: 'fixed'\n                }\n              },\n              React.createElement(\n                'colgroup',\n                null,\n                React.createElement('col', {\n                  ref: 'column1'\n                }),\n                React.createElement('col', {\n                  ref: 'column2'\n                }),\n                React.createElement('col', {\n                  ref: 'column3'\n                }),\n                React.createElement('col', {\n                  ref: 'column4'\n                })\n              ),\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr', {\n                    ref: 'upperButtons'\n                  },\n                  React.createElement(\n                    'td', {\n                      colSpan: '4'\n                    },\n                    React.createElement(UpperButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr', {\n                    ref: 'colButtons'\n                  },\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td', {\n                      style: {\n                        padding: '11px 4px !important'\n                      }\n                    },\n                    React.createElement(ColumnButtons, {\n                      pivotTableComp: self\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      style: {\n                        position: 'relative'\n                      }\n                    },\n                    React.createElement(RowButtons, {\n                      pivotTableComp: self,\n                      ref: 'rowButtons'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(ColumnHeaders, {\n                      pivotTableComp: self,\n                      ref: 'colHeaders'\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(RowHeaders, {\n                      pivotTableComp: self,\n                      ref: 'rowHeaders'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(DataCells, {\n                      pivotTableComp: self,\n                      ref: 'dataCells'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(VerticalScrollBar, {\n                      pivotTableComp: self,\n                      ref: 'verticalScrollBar'\n                    })\n                  ),\n                  React.createElement('td', null)\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(HorizontalScrollBar, {\n                      pivotTableComp: self,\n                      ref: 'horizontalScrollBar'\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                )\n              )\n            ),\n            React.createElement('div', {\n              className: 'orb-overlay orb-overlay-hidden',\n              id: 'drilldialog' + self.id\n            })\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.PivotTable.ColumnButtons.jsx\": 67,\n      \"./orb.react.PivotTable.ColumnHeaders.jsx\": 68,\n      \"./orb.react.PivotTable.DataCells.jsx\": 69,\n      \"./orb.react.PivotTable.RowButtons.jsx\": 70,\n      \"./orb.react.PivotTable.RowHeaders.jsx\": 71,\n      \"./orb.react.PivotTable.SizingManager.jsx\": 72,\n      \"./orb.react.PivotTable.UpperButtons.jsx\": 73,\n      \"./orb.react.ScrollBars.jsx\": 75,\n      \"./orb.react.Toolbar.jsx\": 76,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    75: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        utils = _dereq_('../orb.utils'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      var scrollBarMixin = {\n        scrollEvent: null,\n        scrollClient: null,\n        getInitialState: function getInitialState() {\n          // initial state, all zero.\n          return {\n            size: 16,\n            mousedown: false,\n            thumbOffset: 0\n          };\n        },\n        componentDidMount: function componentDidMount() {\n          this.scrollEvent = new ScrollEvent(this);\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          if (!this.state.mousedown) {\n            // mouse not down, don't care about mouse up/move events.\n            utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n            utils.removeEventListener(document, 'mouseup', this.onMouseUp);\n          } else if (this.state.mousedown) {\n            // mouse down, interested by mouse up/move events.\n            utils.addEventListener(document, 'mousemove', this.onMouseMove);\n            utils.addEventListener(document, 'mouseup', this.onMouseUp);\n          }\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n          utils.removeEventListener(document, 'mouseup', this.onMouseUp);\n        },\n        onMouseDown: function onMouseDown(e) {\n          // drag with left mouse button\n          if (e.button !== 0) return;\n\n          var thumbElem = this.refs.scrollThumb;\n          var thumbposInParent = domUtils.getParentOffset(thumbElem);\n          var mousePageXY = utils.getMousePageXY(e);\n\n          domUtils.addClass(thumbElem, 'orb-scrollthumb-hover');\n\n          // inform mousedown, save start pos\n          this.setState({\n            mousedown: true,\n            mouseoffset: mousePageXY[this.mousePosProp],\n            thumbOffset: thumbposInParent[this.posProp]\n          });\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        onMouseUp: function onMouseUp() {\n\n          if (this.state.mousedown) {\n            var thumbElem = this.refs.scrollThumb;\n            domUtils.removeClass(thumbElem, 'orb-scrollthumb-hover');\n          }\n\n          this.setState({\n            mousedown: false\n          });\n        },\n        onMouseMove: function onMouseMove(e) {\n\n          // if the mouse is not down while moving, return (no drag)\n          if (!this.state.mousedown) return;\n\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n\n          var mousePageXY = utils.getMousePageXY(e);\n          var amount = mousePageXY[this.mousePosProp] - this.state.mouseoffset;\n          this.state.mouseoffset = mousePageXY[this.mousePosProp];\n\n          this.scroll(amount);\n        },\n        getScrollSize: function getScrollSize() {\n          if (this.scrollClient != null) {\n            return domUtils.getSize(this.scrollClient)[this.sizeProp];\n          } else {\n            return domUtils.getSize(ReactDOM.findDOMNode(this))[this.sizeProp];\n          }\n        },\n        setScrollClient: function setScrollClient(scrollClient, scrollCallback) {\n          this.scrollClient = scrollClient;\n          this.scrollEvent.callback = scrollCallback;\n        },\n        getScrollPercent: function getScrollPercent() {\n          var maxOffset = this.getScrollSize() - this.state.size;\n          return maxOffset <= 0 ? 0 : this.state.thumbOffset / maxOffset;\n        },\n        refresh: function refresh() {\n          if (this.scrollClient) {\n            var scrolledElement = this.scrollClient.children[0];\n\n            var clientSize = domUtils.getSize(this.scrollClient);\n            var elementSize = domUtils.getSize(scrolledElement);\n\n            var scrollBarContainerSize = this.getScrollSize();\n            var newSize = clientSize[this.sizeProp] >= elementSize[this.sizeProp] ? 0 : clientSize[this.sizeProp] / elementSize[this.sizeProp] * scrollBarContainerSize;\n\n            this.setState({\n              containerSize: scrollBarContainerSize,\n              size: newSize,\n              thumbOffset: Math.min(this.state.thumbOffset, scrollBarContainerSize - newSize)\n            }, this.scrollEvent.raise);\n          }\n        },\n        scroll: function scroll(amount, mode) {\n          if (this.state.size > 0) {\n            if (mode == 1) amount *= 8;\n\n            var maxOffset = this.getScrollSize() - this.state.size;\n            var newOffset = this.state.thumbOffset + amount;\n            if (newOffset < 0) newOffset = 0;\n            if (newOffset > maxOffset) newOffset = maxOffset;\n\n            if (this.state.thumbOffset != newOffset) {\n              this.setState({\n                thumbOffset: newOffset\n              }, this.scrollEvent.raise);\n              return true;\n            }\n          }\n          return false;\n        },\n        onWheel: function onWheel(e) {\n          this.scroll(e.deltaY, e.deltaMode);\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        render: function render() {\n          var self = this;\n\n          var thumbStyle = {\n            padding: 0\n          };\n          thumbStyle[this.sizeProp] = this.state.size;\n          thumbStyle[this.offsetCssProp] = this.state.thumbOffset;\n\n          var thisStyle = {};\n          thisStyle[this.sizeProp] = this.state.containerSize;\n\n          var thumbClass = \"orb-scrollthumb \" + this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().scrollBar;\n\n          var scrollThumb = this.state.size <= 0 ? null : React.createElement('div', {\n            className: thumbClass,\n            style: thumbStyle,\n            ref: 'scrollThumb',\n            onMouseDown: this.onMouseDown\n          });\n\n          return React.createElement(\n            'div', {\n              className: this.cssClass,\n              style: thisStyle,\n              onWheel: this.onWheel\n            },\n            scrollThumb\n          );\n        }\n      };\n\n      function ScrollEvent(scrollBarComp) {\n        var self = this;\n        this.scrollBarComp = scrollBarComp;\n        this.callback = null;\n        this.raise = function() {\n          if (self.callback) {\n            self.callback(self.scrollBarComp.getScrollPercent());\n          }\n        };\n      }\n\n      module.exports.HorizontalScrollBar = React.createClass({\n        displayName: 'HorizontalScrollBar',\n\n        mixins: [scrollBarMixin],\n        posProp: 'x',\n        mousePosProp: 'pageX',\n        sizeProp: 'width',\n        offsetCssProp: 'left',\n        cssClass: 'orb-h-scrollbar'\n      });\n\n      module.exports.VerticalScrollBar = React.createClass({\n        displayName: 'VerticalScrollBar',\n\n        mixins: [scrollBarMixin],\n        posProp: 'y',\n        mousePosProp: 'pageY',\n        sizeProp: 'height',\n        offsetCssProp: 'top',\n        cssClass: 'orb-v-scrollbar'\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    76: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        _toInit: [],\n        componentDidMount: function componentDidMount() {\n          for (var i = 0; i < this._toInit.length; i++) {\n            var btn = this._toInit[i];\n            btn.init(this.props.pivotTableComp, this.refs[btn.ref]);\n          }\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          for (var i = 0; i < this._toInit.length; i++) {\n            var btn = this._toInit[i];\n            btn.init(this.props.pivotTableComp, this.refs[btn.ref]);\n          }\n        },\n        createCallback: function createCallback(action) {\n          if (action != null) {\n            var pgridComponent = this.props.pivotTableComp;\n            return function(e) {\n              action(pgridComponent, e.target || e.srcElement);\n            };\n          }\n          return null;\n        },\n        render: function render() {\n\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          if (config.toolbar && config.toolbar.visible) {\n\n            var configButtons = config.toolbar.buttons ? defaultToolbarConfig.buttons.concat(config.toolbar.buttons) : defaultToolbarConfig.buttons;\n\n            var buttons = [];\n            for (var i = 0; i < configButtons.length; i++) {\n              var btnConfig = configButtons[i];\n              var refName = 'btn' + i;\n\n              if (btnConfig.type == 'separator') {\n                buttons.push(React.createElement('div', {\n                  key: i,\n                  className: 'orb-tlbr-sep'\n                }));\n              } else if (btnConfig.type == 'label') {\n                buttons.push(React.createElement(\n                  'div', {\n                    key: i,\n                    className: 'orb-tlbr-lbl'\n                  },\n                  btnConfig.text\n                ));\n              } else {\n                buttons.push(React.createElement('div', {\n                  key: i,\n                  className: 'orb-tlbr-btn ' + btnConfig.cssClass,\n                  title: btnConfig.tooltip,\n                  ref: refName,\n                  onClick: this.createCallback(btnConfig.action)\n                }));\n              }\n              if (btnConfig.init) {\n                this._toInit.push({\n                  ref: refName,\n                  init: btnConfig.init\n                });\n              }\n            }\n\n            return React.createElement(\n              'div',\n              null,\n              buttons\n            );\n          }\n\n          return React.createElement('div', null);\n        }\n      });\n\n      var excelExport = _dereq_('../orb.export.excel');\n\n      var defaultToolbarConfig = {\n        exportToExcel: function exportToExcel(pgridComponent, button) {\n          var a = document.createElement('a');\n          a.download = \"orbpivotgrid.xls\";\n          a.href = excelExport(pgridComponent.props.pgridwidget);\n          document.body.appendChild(a);\n          a.click();\n          document.body.removeChild(a);\n        },\n        expandAllRows: function expandAllRows(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.ROWS, null, true);\n        },\n        collapseAllRows: function collapseAllRows(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.ROWS, null, false);\n        },\n        expandAllColumns: function expandAllColumns(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.COLUMNS, null, true);\n        },\n        collapseAllColumns: function collapseAllColumns(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.COLUMNS, null, false);\n        },\n        updateSubtotalsButton: function updateSubtotalsButton(axetype, pgridComponent, button) {\n          var subTotalsState = pgridComponent.pgridwidget.areSubtotalsVisible(axetype);\n          button.style.display = subTotalsState === null ? 'none' : '';\n\n          var classToAdd = '';\n          var classToRemove = '';\n          if (subTotalsState) {\n            classToAdd = 'subtotals-visible';\n            classToRemove = 'subtotals-hidden';\n          } else {\n            classToAdd = 'subtotals-hidden';\n            classToRemove = 'subtotals-visible';\n          }\n\n          domUtils.removeClass(button, classToRemove);\n          domUtils.addClass(button, classToAdd);\n        },\n        initSubtotals: function initSubtotals(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            self.updateSubtotalsButton(axetype, pgridComponent, button);\n          };\n        },\n        toggleSubtotals: function toggleSubtotals(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            pgridComponent.toggleSubtotals(axetype);\n            self.updateSubtotalsButton(axetype, pgridComponent, button);\n          };\n        },\n        updateGrandtotalButton: function updateGrandtotalButton(axetype, pgridComponent, button) {\n          var subTotalsState = pgridComponent.pgridwidget.isGrandtotalVisible(axetype);\n          button.style.display = subTotalsState === null ? 'none' : '';\n\n          var classToAdd = '';\n          var classToRemove = '';\n          if (subTotalsState) {\n            classToAdd = 'grndtotal-visible';\n            classToRemove = 'grndtotal-hidden';\n          } else {\n            classToAdd = 'grndtotal-hidden';\n            classToRemove = 'grndtotal-visible';\n          }\n\n          domUtils.removeClass(button, classToRemove);\n          domUtils.addClass(button, classToAdd);\n        },\n        initGrandtotal: function initGrandtotal(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            self.updateGrandtotalButton(axetype, pgridComponent, button);\n          };\n        },\n        toggleGrandtotal: function toggleGrandtotal(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            pgridComponent.toggleGrandtotal(axetype);\n            self.updateGrandtotalButton(axetype, pgridComponent, button);\n          };\n        }\n      };\n\n      defaultToolbarConfig.buttons = [{\n        type: 'label',\n        text: 'Rows:'\n      }, {\n        type: 'button',\n        tooltip: 'Expand all rows',\n        cssClass: 'expand-all',\n        action: defaultToolbarConfig.expandAllRows\n      }, {\n        type: 'button',\n        tooltip: 'Collapse all rows',\n        cssClass: 'collapse-all',\n        action: defaultToolbarConfig.collapseAllRows\n      }, {\n        type: 'button',\n        tooltip: 'Toggle rows sub totals',\n        init: defaultToolbarConfig.initSubtotals(axe.Type.ROWS),\n        action: defaultToolbarConfig.toggleSubtotals(axe.Type.ROWS)\n      }, {\n        type: 'button',\n        tooltip: 'Toggle rows grand total',\n        init: defaultToolbarConfig.initGrandtotal(axe.Type.ROWS),\n        action: defaultToolbarConfig.toggleGrandtotal(axe.Type.ROWS)\n      }, {\n        type: 'separator'\n      }, {\n        type: 'label',\n        text: 'Columns:'\n      }, {\n        type: 'button',\n        tooltip: 'Expand all columns',\n        cssClass: 'expand-all',\n        action: defaultToolbarConfig.expandAllColumns\n      }, {\n        type: 'button',\n        tooltip: 'Collapse all columns',\n        cssClass: 'collapse-all',\n        action: defaultToolbarConfig.collapseAllColumns\n      }, {\n        type: 'button',\n        tooltip: 'Toggle columns sub totals',\n        init: defaultToolbarConfig.initSubtotals(axe.Type.COLUMNS),\n        action: defaultToolbarConfig.toggleSubtotals(axe.Type.COLUMNS)\n      }, {\n        type: 'button',\n        tooltip: 'Toggle columns grand total',\n        init: defaultToolbarConfig.initGrandtotal(axe.Type.COLUMNS),\n        action: defaultToolbarConfig.toggleGrandtotal(axe.Type.COLUMNS)\n      }, {\n        type: 'separator'\n      }, {\n        type: 'label',\n        text: 'Export:'\n      }, {\n        type: 'button',\n        tooltip: 'Export to Excel',\n        cssClass: 'export-xls',\n        action: defaultToolbarConfig.exportToExcel\n      }];\n\n    }, {\n      \"../orb.axe\": 36,\n      \"../orb.export.excel\": 39,\n      \"../orb.utils.dom\": 52,\n      \"react\": \"react\"\n    }]\n  }, {}, [41])(41)\n});\n"],"sourceRoot":"/source/"}